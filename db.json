{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/lib/pjax/LICENSE","path":"lib/pjax/LICENSE","modified":0,"renderable":0},{"_id":"source/lib/pjax/index.d.ts","path":"lib/pjax/index.d.ts","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/anime.min.js","path":"lib/anime.min.js","modified":0,"renderable":1},{"_id":"source/lib/pjax/tests/test.ts","path":"lib/pjax/tests/test.ts","modified":0,"renderable":0},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1}],"Cache":[{"_id":"themes/next/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1569556145624},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1569556145624},{"_id":"themes/next/.all-contributorsrc","hash":"806ddebe52ad6a76a8f9d988458e134883d9bc18","modified":1569556145624},{"_id":"themes/next/.gitignore","hash":"7b68ca7a46104cf9aa84ec0541a4856ab1836eca","modified":1569556145627},{"_id":"themes/next/.gitattributes","hash":"a54f902957d49356376b59287b894b1a3d7a003f","modified":1569556145625},{"_id":"themes/next/.travis.yml","hash":"3d1dc928c4a97933e64379cfde749dedf62f252c","modified":1569556145627},{"_id":"themes/next/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1569556145627},{"_id":"themes/next/LICENSE.md","hash":"18144d8ed58c75af66cb419d54f3f63374cd5c5b","modified":1569556145627},{"_id":"themes/next/README.md","hash":"e0fcd99c0a6db47fe5739df32d6ab39c44c65196","modified":1569556145628},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1569556145628},{"_id":"themes/next/_config.yml","hash":"ba0a5d18e202ac481d31ccd692500879f1eb47d8","modified":1569563327329},{"_id":"themes/next/gulpfile.js","hash":"94e80ca87826b90744618b00d08bc7e5eefbaef4","modified":1569556145633},{"_id":"themes/next/package.json","hash":"f8355f5b093d7b00c330ef3b6ddd982fd81333de","modified":1569556145648},{"_id":"source/404.md","hash":"4b683e3026c65804f4693635271669f0b46cc776","modified":1569563499300},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1569556145615},{"_id":"themes/next/.git/config","hash":"923cab03a057b3c954b293dc0768075e3dd2e0dc","modified":1569556145616},{"_id":"themes/next/.git/index","hash":"70d232f16584ff4c10989ad449213458fa92ec2f","modified":1569556145680},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1569556139902},{"_id":"themes/next/.git/packed-refs","hash":"b3d761b15fa12ab63c570e666d2969d3eed48fb4","modified":1569556145613},{"_id":"themes/next/.git/shallow","hash":"f9c5119f5676522343e18de2f679035fd8175add","modified":1569556143811},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1569556145629},{"_id":"themes/next/docs/AUTHORS.md","hash":"4e1f5410bac4e168f67ed0367388f7e558e2ca44","modified":1569556145629},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"20f8a3d7db6e797a5a3ed8c84837315cb8e09e5b","modified":1569556145629},{"_id":"themes/next/docs/INSTALLATION.md","hash":"5385246ab4756e3e26ec9fe1f6a6759812177cc4","modified":1569556145630},{"_id":"themes/next/docs/DATA-FILES.md","hash":"a85ae0f3a9655eea9acd3f6209b72eb002f2058d","modified":1569556145629},{"_id":"themes/next/docs/LICENSE.txt","hash":"368bf2c29d70f27d8726dd914f1b3211cae4bbab","modified":1569556145630},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"1fb2c852fad03b73882069f1ec0659db2e1f2da0","modified":1569556145630},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"a07ca23c38f6e4dddd4b74016b30e88cd3796f75","modified":1569556145630},{"_id":"themes/next/docs/MATH.md","hash":"aa90364b1ac069b4f8cfdb48b4879311856224e6","modified":1569556145630},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"c149f003d03501565e7688915cd8f2e99fbf8f42","modified":1569556145625},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"cc3e891acba5efa8aca88fd7c821480903c9bf84","modified":1569556145625},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"c1df2b2bd1541518407f1fab509bcd200fc9b11b","modified":1569556145626},{"_id":"themes/next/.github/auto_assign.yml","hash":"cb68a1dca1c4623448c2ca899614a9f21df1b036","modified":1569556145626},{"_id":"themes/next/.github/config.yml","hash":"8a5cbf5aa9529390fe0a782758aca9c3a02f9dcf","modified":1569556145626},{"_id":"themes/next/.github/eslint-disable-bot.yml","hash":"16541fb7b80f5ab90135db96285badb63c4d7d3e","modified":1569556145626},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"b09c85aa449f46bc025317ed196ec33a877f7c23","modified":1569556145626},{"_id":"themes/next/.github/lock.yml","hash":"585d2c471047be320aa62f2b74dad797bf09c530","modified":1569556145626},{"_id":"themes/next/.github/mergeable.yml","hash":"0ee56e23bbc71e1e76427d2bd255a9879bd36e22","modified":1569556145627},{"_id":"themes/next/.github/release-drafter.yml","hash":"f8a0ee0ad08e1493475dbb67b2957cd6afcafac0","modified":1569556145627},{"_id":"themes/next/.github/stale.yml","hash":"41bf97ee86b8940a0b2e754499ec77fd2b44b717","modified":1569556145627},{"_id":"themes/next/.github/support.yml","hash":"d75db6ffa7b4ca3b865a925f9de9aef3fc51925c","modified":1569556145627},{"_id":"themes/next/languages/de.yml","hash":"3d8920676d89494d7d1c74d4238680151ea6d9df","modified":1569556145633},{"_id":"themes/next/languages/default.yml","hash":"c13eda783f8717c62b7ad9e8a9b724314ae74e1a","modified":1569556145633},{"_id":"themes/next/languages/en.yml","hash":"c13eda783f8717c62b7ad9e8a9b724314ae74e1a","modified":1569556145633},{"_id":"themes/next/languages/es.yml","hash":"7dc1d7d5ea1078ee3b9bc8e0e8d0f15f52a7a4aa","modified":1569556145634},{"_id":"themes/next/languages/fa.yml","hash":"269b5cb70774485d7dbbcf98eec72c9e84e135b2","modified":1569556145634},{"_id":"themes/next/languages/fr.yml","hash":"dfdcfa536c40d06125dff373d042c50e08fcafd8","modified":1569556145634},{"_id":"themes/next/languages/hu.yml","hash":"e4a5f43fb45acd992def3de3b600aa4df4c95ed7","modified":1569556145634},{"_id":"themes/next/languages/id.yml","hash":"5665dece8435964a27b5061d7283f339f84721f0","modified":1569556145634},{"_id":"themes/next/languages/it.yml","hash":"311597c620059dbb99474f19b2110a4485ecf70b","modified":1569556145635},{"_id":"themes/next/languages/ja.yml","hash":"4f929842b3d6aaed709ea99da679d3910ee184e5","modified":1569556145635},{"_id":"themes/next/languages/ko.yml","hash":"5f5194dd0f5a3c8484e7668bce6fbe23340e531a","modified":1569556145635},{"_id":"themes/next/languages/nl.yml","hash":"561c77ca68e9d51a5ce8c89d3361fdb033c96bba","modified":1569556145635},{"_id":"themes/next/languages/pt-BR.yml","hash":"13b579911e44a8b213e1860f9a50c341be1bf95e","modified":1569556145635},{"_id":"themes/next/languages/pt.yml","hash":"af9d9b581dca45ab9789ca41d3492883a911e383","modified":1569556145635},{"_id":"themes/next/languages/ru.yml","hash":"b485c57dd7b447406dafd0dcfdfc9356266708c9","modified":1569556145636},{"_id":"themes/next/languages/tr.yml","hash":"39caf8a3677fd6dfbd523e73f8482a509e87b603","modified":1569556145636},{"_id":"themes/next/languages/uk.yml","hash":"4cbdbb0ed09487c9b435be21ac35f62182f53283","modified":1569556145636},{"_id":"themes/next/languages/vi.yml","hash":"3c6bb816ee7278afcddac06998c9ebe47ee19aef","modified":1569556145636},{"_id":"themes/next/languages/zh-CN.yml","hash":"e92e1e07a89c9fab27f445f9ec0fa35049fef38c","modified":1569556145636},{"_id":"themes/next/languages/zh-HK.yml","hash":"93d10d6e448c519004b09b11fba980b5036c93af","modified":1569556145636},{"_id":"themes/next/languages/zh-TW.yml","hash":"ae2aa1c6ec1a5a01a3a3bde17bcc3a82f9a35fa7","modified":1569556145637},{"_id":"themes/next/layout/_layout.swig","hash":"fe827c1a57e4af456a796a104a967f61778cc767","modified":1569556145637},{"_id":"source/_posts/hello-world.md","hash":"8a02477044e2b77f1b262da2c48c01429e4a32e4","modified":1569554913325},{"_id":"themes/next/layout/category.swig","hash":"38433a9de15f019267c9130e243e14343fb9bc3d","modified":1569556145647},{"_id":"themes/next/layout/archive.swig","hash":"72b4e0786668bc61c11eafa12da5d75272b93b61","modified":1569556145647},{"_id":"themes/next/layout/index.swig","hash":"20e776e8863f662c154bb765aaa0a1a22bf78126","modified":1569556145648},{"_id":"themes/next/layout/page.swig","hash":"27c0b961fff9c1afc3671c5678cc9bca76cb51d1","modified":1569556145648},{"_id":"themes/next/layout/post.swig","hash":"0c3b34a6832b8e33574edc17095344f9e0bea74f","modified":1569556145648},{"_id":"themes/next/layout/tag.swig","hash":"153fb65e710a9643634aea4813431e92c11d09fe","modified":1569556145648},{"_id":"source/tags/index.md","hash":"0bb1b0bcfd12aca0df47917d6c14adb1f9b4d5e8","modified":1569562967319},{"_id":"source/categories/index.md","hash":"edb93ef89c51c0b5cc3812b33ab22027d5034aa9","modified":1569562990907},{"_id":"themes/next/.git/logs/HEAD","hash":"cc15cd8da52b8b98272a0ec3c69f4af71d2a3574","modified":1569556145615},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1569556139901},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1569556139904},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1569556139905},{"_id":"themes/next/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1569556139905},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1569556139906},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1569556139906},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"33729ad4ce51acda35094e581e4088f3167a0af8","modified":1569556139904},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1569556139907},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1569556139904},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1569556139906},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1569556139906},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1569556139907},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"67d04e3e29a2675d1a9f87d1ae6ea0769e963ff1","modified":1569556145631},{"_id":"themes/next/docs/ru/README.md","hash":"3ceab62de4db29e2257dd5a187c7f8731a207f84","modified":1569556145631},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1569556145631},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1569556145631},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"5ad2c2d0a11443a03b3fd912925bc0dcfbcda88c","modified":1569556145631},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"0dfb458370a0ffbbe37c00f53c15e3aa3e79b125","modified":1569556145631},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"e0d0bb0a0953bb52b57640dbb524cdc6ee8b5a84","modified":1569556145632},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"c13546dd70a99a7d2d409cddf5d59f2f4d4d44a4","modified":1569556145632},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"c46f3f7496fc422207cc5954e10a2bc972b650aa","modified":1569556145632},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"a658a72589738e11aefaa3a714b188ffd5aac822","modified":1569556145632},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"8ceaad956a1afedf179b2e0b98a67adee9afec08","modified":1569556145632},{"_id":"themes/next/docs/zh-CN/README.md","hash":"0981aaf68145a05b02cd10c95d38cbaf97622944","modified":1569556145633},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"4ee0607ddcfb2fe0e5868aced6d5814d1ada4405","modified":1569556145633},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"a8ebd4e6a54f376f851208e710e015448d7be9e0","modified":1569556145625},{"_id":"themes/next/.github/ISSUE_TEMPLATE/custom-issue-template.md","hash":"a7be47294d8d5e04c00bbb6649bc2e1e8f953a55","modified":1569556145625},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"8cd942b0e891bfc99521f884249aebf995dfbcd0","modified":1569556145626},{"_id":"themes/next/.github/ISSUE_TEMPLATE/non-english.md","hash":"4478f8a445c8dc2c550ca9c507787004fe2daa01","modified":1569556145626},{"_id":"themes/next/scripts/events/index.js","hash":"a25690d8b03779f7e318108c8eace9baf6d4283a","modified":1569556145648},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"834599d2b83f06e90f8cf618cddc106fe900ba5c","modified":1569556145650},{"_id":"themes/next/scripts/filters/excerpt.js","hash":"827c3733fa14b018dd1f07e41686c207880e823a","modified":1569556145650},{"_id":"themes/next/scripts/filters/exturl.js","hash":"9c32675f64121ffbe454189b8e418b408f79d9c2","modified":1569556145651},{"_id":"themes/next/scripts/filters/lazyload.js","hash":"51672320fff6b39f56fe6a2881c611afe4e79b8e","modified":1569556145651},{"_id":"themes/next/scripts/filters/minify.js","hash":"19985723b9f677ff775f3b17dcebf314819a76ac","modified":1569556145651},{"_id":"themes/next/scripts/helpers/engine.js","hash":"896a581feb9432e58a325ad04d66d6310a12374e","modified":1569556145651},{"_id":"themes/next/scripts/helpers/next-inject.js","hash":"33eb6f38de575b973fed237032c34d878594fdc1","modified":1569556145652},{"_id":"themes/next/scripts/helpers/font.js","hash":"53169e2d04f0c21e68beb07c212be0a6c2a9aaea","modified":1569556145651},{"_id":"themes/next/scripts/helpers/next-js.js","hash":"b28a8ed6d033946acbb5b91f6d8b884857410dd9","modified":1569556145652},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"799a042bbf497a4c7a2981aa2014ff28fa1bb382","modified":1569556145652},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"d512f44195f68b0ff93f3c82afff9161cdf1b7d6","modified":1569556145652},{"_id":"themes/next/scripts/tags/button.js","hash":"1d1d25f7e579d92fa563778dd0f163e8eda190da","modified":1569556145652},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"20e392b8583ba6ae5037449c2c7e191d3927641b","modified":1569556145652},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"8fc05f22b88553bc1d96e0c925799cd97920fc6a","modified":1569556145653},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"f13430d9d1c9773b390787c2f046bb1f12a79878","modified":1569556145653},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"60f880c1e11a7df1aee4f2e01d65451fecc0372c","modified":1569556145653},{"_id":"themes/next/scripts/tags/label.js","hash":"fc5b267d903facb7a35001792db28b801cccb1f8","modified":1569556145653},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"983c6c4adea86160ecc0ba2204bc312aa338121d","modified":1569556145654},{"_id":"themes/next/scripts/tags/note.js","hash":"0a02bb4c15aec41f6d5f1271cdb5c65889e265d9","modified":1569556145654},{"_id":"themes/next/scripts/tags/pdf.js","hash":"f780cc72bff91d2720626e7af69eed25e9c12a29","modified":1569556145654},{"_id":"themes/next/scripts/tags/tabs.js","hash":"00ca6340d4fe0ccdae7525373e4729117775bbfa","modified":1569556145654},{"_id":"themes/next/scripts/tags/video.js","hash":"e5ff4c44faee604dd3ea9db6b222828c4750c227","modified":1569556145654},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"1bb927e0560d3d3c95369da461911cced5bd537b","modified":1569556145637},{"_id":"themes/next/layout/_macro/post.swig","hash":"20ef46756b2a8026cc85e7830e5414fe749d1391","modified":1569556145637},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"ccef7a8cd704575cf7bfe63c0492fe43592b1a6d","modified":1569556145637},{"_id":"themes/next/layout/_partials/footer.swig","hash":"9d9a5d6a2f0d4f65fe57c3737c91ecaf276c1f5c","modified":1569556145639},{"_id":"themes/next/layout/_partials/comments.swig","hash":"e0f59221b6010bd3e05d34fac915556f51b8a458","modified":1569556145639},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"769a983fe2f77908bfc8590ff37a0d8958b47598","modified":1569556145640},{"_id":"themes/next/layout/_partials/post-edit.swig","hash":"4b0c972c44bfa7ab07604280563deb9cc3974657","modified":1569556145640},{"_id":"themes/next/layout/_partials/widgets.swig","hash":"58f12810a730ba8e3129c9b0d1a7cce42ac6f2d2","modified":1569556145642},{"_id":"themes/next/layout/_scripts/index.swig","hash":"cea942b450bcb0f352da78d76dc6d6f1d23d5029","modified":1569556145642},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"e08feac6f8904d7f2006e350514a2f07eb9fff44","modified":1569556145642},{"_id":"themes/next/layout/_scripts/three.swig","hash":"eee4d26b5c0bb7872a21346151c38612a9b76d0b","modified":1569556145643},{"_id":"themes/next/layout/_scripts/pjax.swig","hash":"105004ddcc7fe9f4fd7ad1007b628ba8c08c1e27","modified":1569556145643},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"d3448044776dd23abd42b09ef0f26827f95efdf5","modified":1569556145643},{"_id":"themes/next/layout/_third-party/baidu-push.swig","hash":"8627c8c8b031ecee16c522433b66fa4d6979b8ea","modified":1569556145644},{"_id":"themes/next/layout/_third-party/facebook-sdk.swig","hash":"3cf1a1a83ceddef4033a2964150f81b979ced6ff","modified":1569556145645},{"_id":"themes/next/layout/_third-party/index.swig","hash":"32e4fe8dd8b3c40a17314569d1a14bde55251074","modified":1569556145646},{"_id":"themes/next/layout/_third-party/quicklink.swig","hash":"65f94b115c42d33e6a90b1f8e62075c6d4ac60c1","modified":1569556145646},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"da6a9d14ed10203e378c6e2c00a7b5e7afabca58","modified":1569556145646},{"_id":"themes/next/layout/_third-party/vkontakte-api.swig","hash":"e0d012bdbae5545d90143030116114c34219bd37","modified":1569556145647},{"_id":"source/lib/pjax/.editorconfig","hash":"c064a6369e31f846061fec42fd20c94cd34baebf","modified":1569562492456},{"_id":"source/lib/pjax/.eslintignore","hash":"9039b3607514f44ee5955e986ee96920ea324398","modified":1569562492457},{"_id":"source/lib/pjax/.eslintrc.json","hash":"cdbc258b29270771e1846aeacc67198d0aed5447","modified":1569562492457},{"_id":"source/lib/pjax/.gitignore","hash":"af77252405d1ae97b1d4139b53f2684b64d87596","modified":1569562492457},{"_id":"source/lib/pjax/.prettierignore","hash":"9039b3607514f44ee5955e986ee96920ea324398","modified":1569562492458},{"_id":"source/lib/pjax/.travis.yml","hash":"0948420e18b2cec89c40093da5c7c14fa4c9bc5d","modified":1569562492458},{"_id":"source/lib/pjax/LICENSE","hash":"0cadc79604daeacf95062d1e5ccd43edbfaed836","modified":1569562492459},{"_id":"source/lib/pjax/CHANGELOG.md","hash":"4482a245ac2c867102490c71d0fcbb502be0e3e5","modified":1569562492458},{"_id":"source/lib/pjax/README.md","hash":"51abff31a95ce17360dbf1f43807d3eb75023c98","modified":1569562492459},{"_id":"source/lib/pjax/index.d.ts","hash":"b90fe99fe90ee7024d760467e75565da561f7ccd","modified":1569562492464},{"_id":"source/lib/pjax/index.js","hash":"4af61bcf253ce67d67bb0f524b441869301de9a5","modified":1569562492465},{"_id":"source/lib/pjax/package.json","hash":"2ca53bb41de64dca00d8b0fc9ef6249fba445a8f","modified":1569562492471},{"_id":"source/lib/pjax/pjax.js","hash":"d37d773dbb45633fb4df1e8b75b8e0830cf2cf31","modified":1569562492472},{"_id":"source/lib/pjax/pjax.min.js","hash":"7cd20a50053da5563cf1a24c10401a13e6eab4e6","modified":1569562492472},{"_id":"themes/next/source/css/main.styl","hash":"68c3377b643162aeaae2b60c196486fdb3b509c3","modified":1569556145669},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1569556145670},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1569556145670},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1569556145670},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1569556145670},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1569556145670},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1569556145670},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1569556145671},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1569556145671},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1569556145671},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1569556145671},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1569556145671},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1569556145671},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1569556145672},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1569556145672},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1569556145672},{"_id":"themes/next/source/js/algolia-search.js","hash":"813afcc30feee11d59f297f2d5a96f98fbbd4743","modified":1569556145672},{"_id":"themes/next/source/js/bookmark.js","hash":"60cab6771a57c268da331920edd6d7fcd2713d42","modified":1569556145672},{"_id":"themes/next/source/js/next-boot.js","hash":"d1892ad3ca2741534ebaac0476902e05031ab255","modified":1569556145673},{"_id":"themes/next/source/js/local-search.js","hash":"0579159bf994e3726b3ba063e5905f79465fdfb1","modified":1569556145672},{"_id":"themes/next/source/js/motion.js","hash":"d52807a73efc34b1189c096477f348d05debf861","modified":1569556145673},{"_id":"themes/next/source/js/utils.js","hash":"33a76cda8ecad2bea9db13e1f77c6e22fd6452fe","modified":1569556145673},{"_id":"themes/next/source/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1569556145674},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1569556145665},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1569556145666},{"_id":"themes/next/.git/objects/pack/pack-b70685c7d71fa30392a608fb46df876d97030f56.idx","hash":"71a921caf4b463098fd20f60483d9e0d1e16c587","modified":1569556145601},{"_id":"themes/next/.git/refs/heads/master","hash":"f9c5119f5676522343e18de2f679035fd8175add","modified":1569556145615},{"_id":"themes/next/scripts/events/lib/config.js","hash":"b710d896fccd34657a70244645470e476a4e069f","modified":1569556145648},{"_id":"themes/next/scripts/events/lib/injects-point.js","hash":"6661c1c91c7cbdefc6a5e6a034b443b8811235a1","modified":1569556145649},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"2a5f7c7e507bb354ec05a881bc9a1f4f2f28197c","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"3ac62f5510f22e9d970089bb01f96ba2134ae161","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"0803d4f4d3d02c24417c163ad0b27b60fda79250","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"7f2d93af012c1e14b8596fecbfc7febb43d9b7f5","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"ccfac51bde0063ab7ef88182f8cbc98c210e78c9","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"178c4618b29a1e06221285146071e72e24c40499","modified":1569556145649},{"_id":"themes/next/scripts/filters/comment/facebook-comments-plugin.js","hash":"e3c74b24f3818f2504fd0c7a954adaa6681bb969","modified":1569556145650},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"e51dc3072c1ba0ea3008f09ecae8b46242ec6021","modified":1569556145650},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"3c4bdc2a682f9889a532e1cb856bc5caeb4208e1","modified":1569556145650},{"_id":"themes/next/scripts/filters/comment/valine.js","hash":"e34d38aee93558b2c68a7fa6203c2e4806405d62","modified":1569556145650},{"_id":"themes/next/scripts/filters/comment/vkontakte.js","hash":"031337c2e2157628a15a5f4d96fa6e3fcf2733fe","modified":1569556145650},{"_id":"themes/next/layout/_partials/analytics/cnzz-analytics.swig","hash":"a17ace37876822327a2f9306a472974442c9005d","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/busuanzi-counter.swig","hash":"d7258d02bcf0dac6c0fd8377c0909ddecb09d1d4","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/firestore.swig","hash":"67e63c25d509f02a6057ee9724f1b6efd647f72f","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/index.swig","hash":"ac6a3995c1330d2d73300b2427006509d0f8dba5","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/lean-analytics.swig","hash":"fb7729b69ef443db1f3f2755506ee998cfe4b973","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/tencent-analytics.swig","hash":"493a1ef6c8f475d4dd3156a6ab37690dc75695ea","modified":1569556145638},{"_id":"themes/next/layout/_partials/analytics/tencent-mta.swig","hash":"198813a3f382bda4278fe3759bf0f18a5769bb33","modified":1569556145639},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"0edd29b972aceecccb65b3e63d79c01f6639d0c5","modified":1569556145639},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"6236a874b93ac1be56fc21df8534a7ae8acffcfc","modified":1569556145639},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"9718d372887f4b0ee952da42d10b2f736d0fc6de","modified":1569556145639},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"e0767e09a632264f189570e95ccf70fb1dad9110","modified":1569556145639},{"_id":"themes/next/layout/_partials/header/menu-item.swig","hash":"226ca201e73111b130730736d808ffddcdc8ee51","modified":1569556145640},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"20c8e67d29dfbcd1c72739b00e91f86ef46d7769","modified":1569556145640},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"02a4706ce7ed6f6d2f660948a74e9e8cd6dfa1fd","modified":1569556145640},{"_id":"themes/next/layout/_partials/page/breadcrumb.swig","hash":"c851717497ca64789f2176c9ecd1dedab237b752","modified":1569556145640},{"_id":"themes/next/layout/_partials/page/page-header.swig","hash":"d3c25d70f0fd76121e4cacb9f8af4ccbe2a3c74d","modified":1569556145640},{"_id":"themes/next/layout/_partials/post/post-copyright.swig","hash":"b68ccb90e2ee42bd98c93fc030a29d38689dd55c","modified":1569556145641},{"_id":"themes/next/layout/_partials/post/post-footer.swig","hash":"b654d63d2ed221a8b642223e220392e5172d8f4d","modified":1569556145641},{"_id":"themes/next/layout/_partials/post/post-related.swig","hash":"f05225f7d0ada3853c425899b515056b96ca49bf","modified":1569556145641},{"_id":"themes/next/layout/_partials/post/post-reward.swig","hash":"90a0869c6cc351d92fc97bf42fdc6e1bfa6bc513","modified":1569556145641},{"_id":"themes/next/layout/_partials/post/wechat-subscriber.swig","hash":"2edfaf1579ea58e15cb5583fb7962dfee9af2257","modified":1569556145641},{"_id":"themes/next/layout/_partials/search/algolia-search.swig","hash":"7fa01334a0ba84500e920bb9202baa08067d2ee1","modified":1569556145641},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"d6fa9e4432b87004c5678dfe2d4b2c1f4a702b93","modified":1569556145641},{"_id":"themes/next/layout/_partials/sidebar/site-overview.swig","hash":"4e71b26d91ab750791f3be6035a946eb96ca7b34","modified":1569556145642},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"733d6874aa4f50d1071e670a554508a5a0094eb3","modified":1569556145641},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"ffc8e8836714ea79abeb77b75859634615652877","modified":1569556145643},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"108b157fbd1ac3baaf19ae87234fa8728ab79556","modified":1569556145643},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"7f14ef43d9e82bc1efc204c5adf0b1dbfc919a9f","modified":1569556145643},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"1c910fc066c06d5fbbe9f2b0c47447539e029af7","modified":1569556145643},{"_id":"themes/next/layout/_scripts/pages/schedule.swig","hash":"9e44c795565837ba318fd739e42713de365673fd","modified":1569556145642},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"7fd0459d2f1cfe1254f2c2b8087dc094c8cb0e84","modified":1569556145643},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"4790058691b7d36cf6d2d6b4e93795a7b8d608ad","modified":1569556145644},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"9f73476ebcf5cd3b7f55525b3f35dc7e9f01e154","modified":1569556145644},{"_id":"themes/next/layout/_third-party/analytics/growingio.swig","hash":"42aa3022f7739a552c7a55de316d8c0994b2fdc1","modified":1569556145644},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"20fcbed44aede1b908bd17d7a0279b03639068b1","modified":1569556145644},{"_id":"themes/next/layout/_third-party/chat/chatra.swig","hash":"fdcf006e1ba2e53eab65e901b6c63159538307ef","modified":1569556145644},{"_id":"themes/next/layout/_third-party/chat/index.swig","hash":"5ab4a8b4306c837d2f8c211a9d7fdaed76fa254d","modified":1569556145644},{"_id":"themes/next/layout/_third-party/chat/tidio.swig","hash":"cba0e6e0fad08568a9e74ba9a5bee5341cfc04c1","modified":1569556145644},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"1130b8bd60f3b84397974486e6586d7f0afaf836","modified":1569556145645},{"_id":"themes/next/layout/_third-party/comments/disqusjs.swig","hash":"df8413cba22deffca94cf4edd6d9f8d35d2bb58f","modified":1569556145645},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"86092b31761948486ecb379eb7445f66a158769d","modified":1569556145645},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"261c4f1ab42f692279a310943b807ed34516df7c","modified":1569556145645},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"6f95bc4d7ffaddc3c0df0ef3eeeaac58ff83f560","modified":1569556145645},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"ab937195168a0e8a911bf5730307f680e6d521e9","modified":1569556145645},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"bc23c9eb9c06b0b377695f44373c14c5cde1d0e3","modified":1569556145646},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"b9d7a99534e9c2608765b958eae3b5c50f5e4889","modified":1569556145646},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"dff6835d0b03ecc2db6919ca27cfb7b63949e6a8","modified":1569556145646},{"_id":"themes/next/layout/_third-party/search/algolia-search.swig","hash":"ad7a22ee0f183481c7843ecd881b9f9e8e037e31","modified":1569556145646},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"767b6c714c22588bcd26ba70b0fc19b6810cbacd","modified":1569556145647},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"b2fd17688f0433571b37704bc8df798e175e7811","modified":1569556145646},{"_id":"themes/next/layout/_third-party/search/swiftype.swig","hash":"ba0dbc06b9d244073a1c681ff7a722dcbf920b51","modified":1569556145647},{"_id":"themes/next/layout/_third-party/tags/index.swig","hash":"83d0a8f71878c6b96a04ba08567b9064de6cce83","modified":1569556145647},{"_id":"themes/next/layout/_third-party/tags/mermaid.swig","hash":"a54308f934c33b12f6bf28e4ce90e517f38cab57","modified":1569556145647},{"_id":"themes/next/layout/_third-party/tags/pdf.swig","hash":"7597800b6ce2f545baea797d95d1b8c7cf624299","modified":1569556145647},{"_id":"source/lib/pjax/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1569562492450},{"_id":"source/lib/pjax/.git/config","hash":"a1a35dff7772594ea2c22c7b7af8f481cab86f6d","modified":1569562492451},{"_id":"source/lib/pjax/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1569562488533},{"_id":"source/lib/pjax/.git/packed-refs","hash":"052452ef1f85973cb7251d82e771d7fe56e47118","modified":1569562492448},{"_id":"source/lib/pjax/.git/index","hash":"cbed9f9224b9794ad46c17670419321e6e98abb1","modified":1569562492483},{"_id":"source/lib/pjax/.git/shallow","hash":"00fb580daf9bba465fb3cb7c60747481a5ae85e6","modified":1569562491783},{"_id":"source/lib/pjax/example/example.js","hash":"48b27c93eb351d2fa91247c35038a9f1627e971a","modified":1569562492460},{"_id":"source/lib/pjax/example/forms.html","hash":"aa62fc6e697e17e16a947eb0176dc24e2e42d72c","modified":1569562492460},{"_id":"source/lib/pjax/example/page2.html","hash":"7654e0a5a471bec5d74fb88d9f2f218817afdd52","modified":1569562492463},{"_id":"source/lib/pjax/example/index.html","hash":"4a00b556253eeb11fc10013c8c3940a019154001","modified":1569562492462},{"_id":"source/lib/pjax/example/page3.html","hash":"8d1d6a9afd80caf29e5b22f10a849b23a864a6a4","modified":1569562492464},{"_id":"source/lib/pjax/lib/abort-request.js","hash":"cbae038c94f70163340801cb608f4e503640b88d","modified":1569562492465},{"_id":"source/lib/pjax/lib/eval-script.js","hash":"d5980b3c5f3c1a95427eab0d7d2263324fb72bca","modified":1569562492465},{"_id":"source/lib/pjax/lib/execute-scripts.js","hash":"8c7c18b14c11af7e2d8dd0146b7df428bf8149bb","modified":1569562492466},{"_id":"source/lib/pjax/lib/foreach-els.js","hash":"d8e50967878930891112f4acb46f47697ddc3ad7","modified":1569562492466},{"_id":"source/lib/pjax/lib/foreach-selectors.js","hash":"b11d36344a7a6aa36d533a335785772c9bfb6bc9","modified":1569562492467},{"_id":"source/lib/pjax/lib/is-supported.js","hash":"62ede7268080ab7efddd64fced8b3e79af2901f6","modified":1569562492467},{"_id":"source/lib/pjax/lib/parse-options.js","hash":"054a902e9f350f7414b80f62419da004dd90aa37","modified":1569562492467},{"_id":"source/lib/pjax/lib/send-request.js","hash":"15c341d066b0d60879ef3ca5ff858103381fb378","modified":1569562492469},{"_id":"source/lib/pjax/lib/switches-selectors.js","hash":"f31b4af163db3d9a5b3bb7c7534a4a2dd5543435","modified":1569562492469},{"_id":"source/lib/pjax/lib/switches.js","hash":"4e283f667c10e0fea15e269f1c73ccb699979bb4","modified":1569562492469},{"_id":"source/lib/pjax/lib/uniqueid.js","hash":"eb127cf8936e5bdcaa7459cf5bd042ff96b5a387","modified":1569562492469},{"_id":"source/lib/pjax/tests/setup.js","hash":"4a9489e72cbe98527931d95d68b68e2d6a9bff6e","modified":1569562492481},{"_id":"source/lib/pjax/tests/test.ts","hash":"3a5222592fc1883ba6d07fbb2095e4bb4866e9d9","modified":1569562492482},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"644c1f0b02be9bf59955ebdf496136b3fa4b660b","modified":1569556145666},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2315dd8a7a2c7aabd29efa6193df08e805cb15fc","modified":1569556145665},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"59384f63e608b272e4c8679009bbe5e6594fd1b1","modified":1569556145666},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"d9a2eff154fafff547b3aca7321eee94b450c00a","modified":1569556145669},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"1e99dfbe7736acfee59d6f54dbd6b33ddfe2fe8a","modified":1569556145669},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"14e4bd0bd702c7a7f83bf7d529fade2d0634c2f1","modified":1569556145669},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"db52bce619bb848189e83b7bfabd1b2a06fd5578","modified":1569556145669},{"_id":"themes/next/source/css/_variables/base.styl","hash":"639b65a486154cf1f70c31f3fff440ce022255c0","modified":1569556145669},{"_id":"themes/next/source/js/schemes/muse.js","hash":"be8471d4a84b773014b46a3650887ab55116ea68","modified":1569556145673},{"_id":"themes/next/source/js/schemes/pisces.js","hash":"1e47ffdda23f7f645a2a883a90e2e9d9ddbf9a46","modified":1569556145673},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1569556145674},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1569556145674},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1569556145674},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1569556145674},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1569556145674},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1569556145679},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1569556145680},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"cc15cd8da52b8b98272a0ec3c69f4af71d2a3574","modified":1569556145616},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1569556145614},{"_id":"source/lib/pjax/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1569562488534},{"_id":"source/lib/pjax/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1569562488536},{"_id":"source/lib/pjax/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1569562488535},{"_id":"source/lib/pjax/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1569562488534},{"_id":"source/lib/pjax/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1569562488535},{"_id":"source/lib/pjax/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1569562488534},{"_id":"source/lib/pjax/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1569562488536},{"_id":"source/lib/pjax/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1569562488536},{"_id":"source/lib/pjax/.git/hooks/pre-commit.sample","hash":"33729ad4ce51acda35094e581e4088f3167a0af8","modified":1569562488534},{"_id":"source/lib/pjax/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1569562488535},{"_id":"source/lib/pjax/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1569562488533},{"_id":"source/lib/pjax/.git/logs/HEAD","hash":"2e5e77aea568d684e2a27ca81c6cfab86411c1f4","modified":1569562492450},{"_id":"source/lib/pjax/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1569562488536},{"_id":"source/lib/pjax/lib/events/off.js","hash":"79920b24246e150f1c73511f1a271b93b9c5d9c8","modified":1569562492466},{"_id":"source/lib/pjax/lib/events/on.js","hash":"111fba16cc4ca701aefedea2589c832b60af303d","modified":1569562492466},{"_id":"source/lib/pjax/lib/events/trigger.js","hash":"c05ba73199c5e2c7682655491ed37743bd451751","modified":1569562492466},{"_id":"source/lib/pjax/lib/proto/attach-link.js","hash":"d15a61235aa8c1615e60ea34d9bbee834be804d0","modified":1569562492468},{"_id":"source/lib/pjax/lib/proto/attach-form.js","hash":"b41c66e58897e6371fbd04cd2b9eb7bae10e0d89","modified":1569562492467},{"_id":"source/lib/pjax/lib/proto/handle-response.js","hash":"f68bab958cce4dbbcb91920d7a8aba55b9066b41","modified":1569562492468},{"_id":"source/lib/pjax/lib/proto/log.js","hash":"c728730594aed7d81509787c5bb487af014415e1","modified":1569562492468},{"_id":"source/lib/pjax/lib/proto/parse-element.js","hash":"52bef8a845aab0d54907f73875fa58b4084019be","modified":1569562492468},{"_id":"source/lib/pjax/lib/util/clone.js","hash":"55027b88e007818c6963205fcd0090a61af8237c","modified":1569562492470},{"_id":"source/lib/pjax/lib/util/contains.js","hash":"fcc9be0477d941b7c4ba71de328773e556ded7ce","modified":1569562492470},{"_id":"source/lib/pjax/lib/util/extend.js","hash":"e599aaef93e3a00ccbd92cd87df09898d712e398","modified":1569562492470},{"_id":"source/lib/pjax/lib/util/noop.js","hash":"2c9f7e231af1a62db195875ca62df7edc253c3c4","modified":1569562492471},{"_id":"source/lib/pjax/tests/lib/abort-request.js","hash":"96d7a604ca275455199bd94d16b9cdc254bee9b9","modified":1569562492473},{"_id":"source/lib/pjax/tests/lib/eval-scripts.js","hash":"3c9125a04cec9d511f16f9311656533ef6a115d1","modified":1569562492473},{"_id":"source/lib/pjax/lib/util/update-query-string.js","hash":"eefcbff322f8c607865d47ee8fa49f1c8bfa8d7a","modified":1569562492471},{"_id":"source/lib/pjax/tests/lib/events.js","hash":"70ca7ec140d1dcf8c4958e7b6788b09ef2b60181","modified":1569562492473},{"_id":"source/lib/pjax/tests/lib/execute-scripts.js","hash":"2d02a0151ead9924516cdae9308f8667b27a7ea7","modified":1569562492474},{"_id":"source/lib/pjax/tests/lib/foreach-els.js","hash":"85995dd27d0d866cfaf5c560732fab8b0099938c","modified":1569562492474},{"_id":"source/lib/pjax/tests/lib/foreach-selectors.js","hash":"898b48ef191719070488f16a54fba8a794b10057","modified":1569562492475},{"_id":"source/lib/pjax/tests/lib/is-supported.js","hash":"e25c7e69c8b7a64a44affcae317adb2b3889aee6","modified":1569562492475},{"_id":"source/lib/pjax/tests/lib/parse-options.js","hash":"45ab302da33e5457a71fd22bbd082e51f5b06b49","modified":1569562492476},{"_id":"source/lib/pjax/tests/lib/switch-selectors.js","hash":"993dd67b1b629288feb8d167fb12b602626cf1d5","modified":1569562492479},{"_id":"source/lib/pjax/tests/lib/switches.js","hash":"f5dfdf57bafd2b4edd5f854d70837b5fe760756e","modified":1569562492480},{"_id":"source/lib/pjax/tests/lib/uniqueid.js","hash":"430550f31b9e6356c2e3a033c1b418bd6acd9667","modified":1569562492480},{"_id":"source/lib/pjax/tests/lib/send-request.js","hash":"d6adad7f95754c53b9885c0999a5118995fdc76f","modified":1569562492479},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"cda066b495a4b6b10c7bc88b2a9b82722156b66b","modified":1569556145655},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"e0db0d9205cd47c48edba81c7397e09ed24783fa","modified":1569556145655},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"65a38b8a443c7da0f9492d10b3d9c9bf1e82c649","modified":1569556145655},{"_id":"themes/next/source/css/_common/components/rainbow.styl","hash":"8e9deaf1e0a27d5bf5f0401bf04f5637df12b6c4","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"0dd11537a4b9a4d2faf3ad5cdae0f0f770a99ccf","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/scrollbar.styl","hash":"202ee1f1f8e64d8292df16f40ee176ff4e5d7e71","modified":1569556145658},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"060aeb5cff414014f7cdbb61e0ec7855cb0d4b32","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"3faa8a7cdb05ef3f3b02920d381773dfd54270a5","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f4c09c704448257ba034e932abeaf630a5c0c4e5","modified":1569556145662},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"0c60cf489cd083d3a1e3502a240a761b656241c2","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"4f7140cc0db08b47a25c4c7aad71047d433051a1","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"674c32b6e9df4b2294df07c3966bf6555e0fb5ad","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"68719dae47138abff13df0bf647191f36d2b777d","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"4ddbc8b2dba6fad900c5eca793a31f18ba850f5a","modified":1569556145664},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"990bd301ce2de0a6b936781c58318f3945d81bc2","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"253be42759a997fa7e63e79d43f6fe432055d1f4","modified":1569556145661},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"c42802ecca44d4ea435c26700070a65375edfd7c","modified":1569556145666},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"71d75fa309cf5b96d876da536f57c047e57afcff","modified":1569556145666},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"87d19a45db10689aae9a09736efd1eb896a35b3d","modified":1569556145666},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"3462ffd270f3e218e0a8362262466e79d731f975","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"73fe940abb0787a19f505fb614aafe73c8a24f08","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"55caae4ff081967646dbc11c19fac3692a5a250f","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"54c5e23ec3dcbbc77848ededba76e861cf0f4719","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"dc2a3217f9b50cf42c4262c9e486281203eaef83","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"3646e915b0a55f3b66e41d802b082aba88a76e06","modified":1569556145667},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"b22583b7340c2686a46aefeeed086540b08324a3","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"41b1d10a530913908e026fd991216e234766d148","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"eeab294e14abbae231107e1a327e907b25323136","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"f1f81bca31e82ccbd375f0cb9fb8dbb3beac810d","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"22419d2f94a478f086dd6c1887743bf3b1b537ff","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"ac523812bebb13cde268dc3cde65d0b7c6862e30","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"44ac3dff65c1bd3fe47feeed8e58aa00c9f2fb7b","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"3bcb47b9b9ea671e0a3cba6a821045d3434734cb","modified":1569556145668},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"10b4794ba62726fc052c74d786d962ed79d0780b","modified":1569556145669},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1569556145675},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1569556145675},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1569556145675},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"cc15cd8da52b8b98272a0ec3c69f4af71d2a3574","modified":1569556145614},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1569556145678},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1569556145679},{"_id":"source/lib/pjax/.git/refs/heads/master","hash":"00fb580daf9bba465fb3cb7c60747481a5ae85e6","modified":1569562492450},{"_id":"source/lib/pjax/.git/objects/02/6f03a7159987d188a48deebd6b96078ec74c03","hash":"6a04efc2299c1f1f91780d85be2e605ae31454d8","modified":1569562492433},{"_id":"source/lib/pjax/.git/objects/02/b243b703e6c6bd317fc08f9182cca40962605e","hash":"6d9c11be1b540804614653a04d7a2b0c0b462dae","modified":1569562492215},{"_id":"source/lib/pjax/.git/objects/0a/55f349ae719dbe3524507e04589a98fb9307bc","hash":"36ea958120ac7fe38c9bcc5ac8eb7230ac4c85c0","modified":1569562492413},{"_id":"source/lib/pjax/.git/objects/12/379837520a0e3c82e5c34ea1612bf21f850b63","hash":"01c6ee97b5e8176f0501151ad501469d70e22eaa","modified":1569562492422},{"_id":"source/lib/pjax/.git/objects/08/844b46e173baba9646ecec289d8975db94110f","hash":"3b336ec0b85ae06b72eb1bc61dd24fe2a91927fc","modified":1569562492407},{"_id":"source/lib/pjax/.git/objects/19/de0391f3ca2dbfbd1204060c20d7d0d112c3d3","hash":"eb35f4cfba142fda5a3e739f14df763cbe1a9259","modified":1569562492423},{"_id":"source/lib/pjax/.git/objects/17/41fdedc2170fa82b14dd8f5f781f81456f5af4","hash":"8789fd2b5ff5dd7ee6793adb8b814e6b6d256894","modified":1569562492431},{"_id":"source/lib/pjax/.git/objects/0c/6894530c63bb1368183a1ad74b60de871fbb64","hash":"e6a530fc6a453ab74ad6be423a90e1150352d80d","modified":1569562492057},{"_id":"source/lib/pjax/.git/objects/1b/596a2a78a42a789899b7949a16a1da444bb59d","hash":"f7956e49a0550e79360e325a14e05e99b16bcf2e","modified":1569562492408},{"_id":"source/lib/pjax/.git/objects/0c/459554a2d89727f576fd12dbd1eef2b1112c18","hash":"555aebe7fc977070271893bdb79f7c9b2e9e6f2b","modified":1569562492213},{"_id":"source/lib/pjax/.git/objects/1e/780996315a886efbd988906f80c33b935b2a41","hash":"f3f8ad0780ba1806b520854d578259cffed56449","modified":1569562492208},{"_id":"source/lib/pjax/.git/objects/29/f54cf59bd33ca37d9f3fc8a6bea1cebf7a089f","hash":"ba7f96d66a7481c4a634ed77b709bbcbfab7273e","modified":1569562492214},{"_id":"source/lib/pjax/.git/objects/2f/366974e5ac178f79607a7f2057a2e17dfabdfc","hash":"054145ccc2c307919e0ebda2d5c37b9ee8af9902","modified":1569562492056},{"_id":"source/lib/pjax/.git/objects/36/d2728bf824f8f928375ff1f11ce970cdfeee7c","hash":"92fe564f980cd97ed70f2295894b2343b65ee92a","modified":1569562492425},{"_id":"source/lib/pjax/.git/objects/41/4b72ee03fb89b50ab6ac497497c3ba9b188f07","hash":"8b6125cd17fecce12ddc9c75be79431feb0b71c1","modified":1569562492402},{"_id":"source/lib/pjax/.git/objects/3c/e680dadc662a4414f78e8e9fcf03aa90e71773","hash":"be7332a299c0861eaf379b65c1b19ba48e8f58b3","modified":1569562492409},{"_id":"source/lib/pjax/.git/objects/41/e1c3b3d41f1c5b97cdd54683ae44c79bca230f","hash":"26f7a8a9e4a29257207cec1c4cb8538538c66960","modified":1569562492412},{"_id":"source/lib/pjax/.git/objects/37/fa1e7bf2fb8773750d9da9a8cd6013b2773164","hash":"a5db21d70a78790383d723aa7e3f082848f46f22","modified":1569562492210},{"_id":"source/lib/pjax/.git/objects/4a/cecd033d442c2c6ccbd6c7e3125c7d9336a669","hash":"3d695596504b937fe440f9128c68cf0f2a72c95c","modified":1569562492415},{"_id":"source/lib/pjax/.git/objects/4d/76ad48886c14d97378bfcb1cb9c1415715b1de","hash":"29f75bed386a15c0d91ed273fead0078a15646f2","modified":1569562492433},{"_id":"source/lib/pjax/.git/objects/4b/b7a09713d48d158fd85d2614e14e0817da8169","hash":"eb87a229955703b304d69b9fee0e66c76f615b8b","modified":1569562492427},{"_id":"source/lib/pjax/.git/objects/52/bbf6881028af06b2ea786b308e5519bc994ff6","hash":"abc11db945e2909352d25702709c87e3259b7bc8","modified":1569562492432},{"_id":"source/lib/pjax/.git/objects/59/927ba9e37918ba180a446ee2d1222c38db1e7a","hash":"f5e590944a2caf2a9bb7490ddfc62f7a80fc2b58","modified":1569562492424},{"_id":"source/lib/pjax/.git/objects/51/66bd91cb554cd660568fcf629293c7281719f1","hash":"754f28393696f0b9dc08a937f7efd5e748dd28ed","modified":1569562492212},{"_id":"source/lib/pjax/.git/objects/4f/663fba5113dc7f7d77d8b67210470f5273b9d1","hash":"9aca2ad231c75b93aa7d4fe9d3feb9db762691b6","modified":1569562492418},{"_id":"source/lib/pjax/.git/objects/5c/158f95606b1a4dbae1e006984376463ce04432","hash":"0cb451527ce10a7d2e66912c6c432f94a0f7af91","modified":1569562492421},{"_id":"source/lib/pjax/.git/objects/5f/4e97dfb9866432d01150cb4c54fbeef9f7a627","hash":"d3f5ad80d890d8d544087297e3a46d1d7fc2bea0","modified":1569562492422},{"_id":"source/lib/pjax/.git/objects/5b/f862b4f6d3fc92c63bdf316a9c8ad7c22c0da2","hash":"fe0604005706782bfd1747f96eb85b24efd1548e","modified":1569562492218},{"_id":"source/lib/pjax/.git/objects/64/89d6a76a49c6beba9170b77aaaa922140f6143","hash":"3a2708202e26e5123d356433a6344ffae2aab014","modified":1569562492056},{"_id":"source/lib/pjax/.git/objects/66/a5ff5e24e57e19e21258a4b50d44c143905cf7","hash":"e10e5ddd7a01c9d5ea8c33f6424738f090d32422","modified":1569562492429},{"_id":"source/lib/pjax/.git/objects/69/1026d49a171887081c34032e09ce3fe3cabdcd","hash":"85b61182db290691610ab487eabfad80cf7246d7","modified":1569562492424},{"_id":"source/lib/pjax/.git/objects/6a/54b545006fda6812d30c3b75c6b6c9a315c09c","hash":"e4ee0e32db5415ff6f3e42608753411db46e655a","modified":1569562492430},{"_id":"source/lib/pjax/.git/objects/6b/09ff74f8ac49c8af7d14c929a90de9c5c89671","hash":"0195ac5628fb8326245880f0b6f83d87e86df200","modified":1569562492428},{"_id":"source/lib/pjax/.git/objects/6c/ce2e778dd316473ff861f08918fca19bfa24ae","hash":"2cea68a8dd946b08d788453fbdd98fae33918288","modified":1569562492427},{"_id":"source/lib/pjax/.git/objects/6e/551fceac2071a31d0f4f8a2e6016497833abc5","hash":"d5f72df227eddd6b0c17ddd18686c4ed89096b3c","modified":1569562492426},{"_id":"source/lib/pjax/.git/objects/72/60f4303ffe04f6217cd0ac3b09fcb53e4da277","hash":"4868a5948a7cb3f0fd367aef164569dd44832d02","modified":1569562492054},{"_id":"source/lib/pjax/.git/objects/74/7bfa3fb54b637e88bca6f162bb949df4320e03","hash":"876b7c212198441a7351297ed3ed77310b707d38","modified":1569562492209},{"_id":"source/lib/pjax/.git/objects/74/e2c26730838b16cd78e3191f6afb408f8dae59","hash":"f5afe2983aa9799e6726501cd28fd786aff1ac4f","modified":1569562492404},{"_id":"source/lib/pjax/.git/objects/75/51df30c95b208f453407d5956bfbd04c35f940","hash":"1e3bc21e61fa3f980720a0880c0981a7762d220f","modified":1569562492131},{"_id":"source/lib/pjax/.git/objects/7d/0b941fd6578b93059252362023b58dd2ac75a7","hash":"260e43600c56b1308cf8de7ae09e1921232701fe","modified":1569562492135},{"_id":"source/lib/pjax/.git/objects/89/78b448a61ebfeb8a289309739b34a496074ca3","hash":"870fca8d89d23735d9e4c84cc96823b3284913ba","modified":1569562492055},{"_id":"source/lib/pjax/.git/objects/8b/39b8f1511cc50c18d06c565b0d628e45f5fc70","hash":"bc99940eafb8b73d3088c93bb44f42440d212c17","modified":1569562492061},{"_id":"source/lib/pjax/.git/objects/81/b82388dac1da38312f207ffea2cbd1211c502a","hash":"e070541c8b9a43cc7ea37e40ada221a749c4360d","modified":1569562492411},{"_id":"source/lib/pjax/.git/objects/93/9c5e2dcb1ea3d2a427093a4f2ad71802e66ebf","hash":"7a7bac97b9d62b89346664789df2f82165b66914","modified":1569562492403},{"_id":"source/lib/pjax/.git/objects/72/4f87a6e3eb7e8b0c5514648a7189664694dbdf","hash":"3c27a196f8b17c2e5475089f0116a6d1d7f54bc6","modified":1569562492400},{"_id":"source/lib/pjax/.git/objects/94/36af3750edaa03c3387782f52b3d5e98aab7a7","hash":"c1866c8690e91e30099e16c66b326e4ec9627c35","modified":1569562492216},{"_id":"source/lib/pjax/.git/objects/96/ae7f63c05d3b7a0b77ad66bfe537b4d4fa89fe","hash":"fa706beccd785e98c2b5a5313b67937f40acb887","modified":1569562492215},{"_id":"source/lib/pjax/.git/objects/97/a639b8bf70a1b8f3fb52bc282991c6c8d31ff6","hash":"0b35931182c6233f53430a6e20ec353e0392da6c","modified":1569562492059},{"_id":"source/lib/pjax/.git/objects/98/64eb62b79b3f263625ce04db0286cbf5056ac7","hash":"9ea28a28f0ba3a696019ed0ff83433a73c73089f","modified":1569562492134},{"_id":"source/lib/pjax/.git/objects/a3/b56f510a22d9ea4744119f33663efe2f1cf242","hash":"bd22c61b306f87101f0ad470b40f2e3fb387e0d1","modified":1569562492419},{"_id":"source/lib/pjax/.git/objects/9f/2041092aedb2b2989291f8d2888092589c9772","hash":"30ffe3fbcb50418e29c893b914134deb0f73b15c","modified":1569562492429},{"_id":"source/lib/pjax/.git/objects/a5/625311ab736c4c1146d57b577905fcd9990fb7","hash":"7e5a8a17488a09b78631fd94f65913b252242f78","modified":1569562492411},{"_id":"source/lib/pjax/.git/objects/a4/405e4db730890600a458e04d18f85847ed8761","hash":"3d961d1c79379cdf9e1e4df1007c696c0799654a","modified":1569562492425},{"_id":"source/lib/pjax/.git/objects/aa/bb080b50f9cc047e64ff72a534f957944d4e55","hash":"f7119533dcc4620a1a5cded38fac9f57945bdce9","modified":1569562492432},{"_id":"source/lib/pjax/.git/objects/ad/7b1b1b633a96b024e3de065b16958a2b4fd107","hash":"497b636b41f54895ffbb9f230508af8c4e9cf85f","modified":1569562492408},{"_id":"source/lib/pjax/.git/objects/b2/2a31d70c70594cf530cb64249e5d00b33d65f2","hash":"4a5ffa55d2d103e80a667639339b328610978a1a","modified":1569562492410},{"_id":"source/lib/pjax/.git/objects/b5/bd237e460462fa91493f4407a05aee44d9efb0","hash":"36ceebe7888cfb29b3d5f75bc15ecbf5354a92c4","modified":1569562492430},{"_id":"source/lib/pjax/.git/objects/b9/90ffbaf97718a4075676257f3210d387557c82","hash":"4ce7b83a9c54b30277da968ae71a67492f56abcd","modified":1569562492405},{"_id":"source/lib/pjax/.git/objects/bf/8cd2943b2fd389a64ca560cef813e36e35c34c","hash":"8295219f471ca868b2685a171bdcb9e8cc445ba3","modified":1569562492212},{"_id":"source/lib/pjax/.git/objects/c9/52a26be58fe1d6c9f9f75e39fb9d1ceef136a0","hash":"ec6f3d841b6e0363a7e217695d87763c79fac42a","modified":1569562492414},{"_id":"source/lib/pjax/.git/objects/d0/30617ac193ed789a33216be279767c13cf8d22","hash":"5b1edcd6adabfc797785cf27c060b27955624b80","modified":1569562492412},{"_id":"source/lib/pjax/.git/objects/ad/4011505009ce58fb09d38a78320154f0529553","hash":"6928cc5a10ad52895544e7e08e151d1fb69e7805","modified":1569562492129},{"_id":"source/lib/pjax/.git/objects/d8/1627ecb05199b55271cecf1f04c8e6231bed64","hash":"c16a5301e44699c1d512067682785f1b8ebd3c8c","modified":1569562492413},{"_id":"source/lib/pjax/.git/objects/df/15742beb255209fc3a11e644a47c4c0c0b5f87","hash":"12277ae4c481cf4588cb717ecb16192a475866e5","modified":1569562492132},{"_id":"source/lib/pjax/.git/objects/e6/5dc214459fa15faa7b541ae0f06c115ed93649","hash":"b4dcc25fc8346aa3be1038c2744f2f575b4e3b94","modified":1569562492430},{"_id":"source/lib/pjax/.git/objects/e7/0a33dae5bfd3ca4b57297b3a4452a0b6586a7e","hash":"4664cafe08ed50db19bd82b7b4dcfe3a42abb9e9","modified":1569562492130},{"_id":"source/lib/pjax/.git/objects/e7/a5b334b1c30e6d2e8635c8fd40f3b5d18f4ed5","hash":"948727bdc0697d4dde221209d6e23dc00e609e91","modified":1569562492426},{"_id":"source/lib/pjax/.git/objects/e8/196a8fa0fe6a57a3a92de1977403e487491c7b","hash":"84eecae11772e991ca92f750e98b65593dadc0d9","modified":1569562492406},{"_id":"source/lib/pjax/.git/objects/eb/d43d46b397d1e3b0609df294d81ece98033eb8","hash":"8d6f7a0e8aeddfe508d89a5ba6d52411fd7945d1","modified":1569562492420},{"_id":"source/lib/pjax/.git/objects/f2/2b1ec2ddf43a16fa06899416288b873ba2aba0","hash":"7ba5353c3fcf387935061ff70c9ae65114173e2b","modified":1569562492133},{"_id":"source/lib/pjax/.git/objects/f4/95a37f43d6045582231fd8bb26d11a110ca183","hash":"ed9cca87e48e642ce3ca69c7a1c2d370180e3852","modified":1569562492054},{"_id":"source/lib/pjax/.git/objects/fd/57099d676ef98d150c473701570197bfe8f362","hash":"68ea847b595fa9041421ce277ff747b9362cde78","modified":1569562492217},{"_id":"source/lib/pjax/.git/objects/f4/bd07d4a9370323127c850bf1000b4de60e03a3","hash":"1531743d01a626dacbc88230deffd6063847bc99","modified":1569562492217},{"_id":"source/lib/pjax/.git/objects/fe/c100b19a45bf04b886519786254dcfcf9d6109","hash":"1089a57b10e14b9127fcf1ef311e37f3e78d3c9a","modified":1569562492058},{"_id":"source/lib/pjax/.git/objects/f8/9aa1f97aec0f035e5e512420793df752bfcb35","hash":"149a3f4bd7cc1f7e914e593f03ba1fe60c131e5e","modified":1569562492431},{"_id":"source/lib/pjax/.git/objects/f8/c78c239fd9c75ac02e5ba5e6e0d3fac0862a38","hash":"6af0eb5a80a783daa68bfc4c3ca9cdc9e1449e78","modified":1569562492433},{"_id":"source/lib/pjax/tests/lib/proto/attach-form.js","hash":"3614a962e3185b354a2e0d987bcecdef4a209da6","modified":1569562492477},{"_id":"source/lib/pjax/tests/lib/proto/attach-link.js","hash":"9d283cb0b09730e932673c73a3352a2d2e8939fa","modified":1569562492477},{"_id":"source/lib/pjax/tests/lib/proto/handle-response.js","hash":"26e0e334f0b20ff2fe75b3ab12a93ce44a5823f0","modified":1569562492478},{"_id":"source/lib/pjax/tests/lib/proto/parse-element.js","hash":"474edc8844028de67cbad054da79c05727620785","modified":1569562492479},{"_id":"source/lib/pjax/tests/lib/util/clone.js","hash":"4b0e62bd0f4eef3549b0da70987f63ce4953bef0","modified":1569562492480},{"_id":"source/lib/pjax/tests/lib/util/contains.js","hash":"bc0c8be855e9736cb256a2aa44fd46f3a7d1d6c5","modified":1569562492480},{"_id":"source/lib/pjax/tests/lib/util/extend.js","hash":"d45488ff6f8e3e1b59a62d0c88c86b750fe50ed4","modified":1569562492481},{"_id":"source/lib/pjax/tests/lib/util/noop.js","hash":"6959a4c02c41453a5edfa4163e36752fcfa3edf9","modified":1569562492481},{"_id":"source/lib/pjax/tests/lib/util/update-query-string.js","hash":"4158dcd877c5f229400417e0da22eb4c5b8e8e38","modified":1569562492481},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"fafc96c86926b22afba8bb9418c05e6afbc05a57","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"2bd0eb1512415325653b26d62a4463e6de83c5ac","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"919cc9aaf60b03c2bf00aca3748127f38a2026cf","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"7ddb7453bf9b85b01bff136e9d10a7f06baac9e8","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"db718eee14347f30ccabaa33bf6f9fbdea8b9462","modified":1569556145656},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"ac2105c5a7f581b1c0f2b59f2c0c3e87a7c28383","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"3abf46c513e92f3f36c14d90f032983b94f36488","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"602a3c3d2785965b23412b5c219dfe74b5fb0844","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"c60afb603d58cad3ad13e1a16c66832538510063","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"caa9a78993d549117cdc8fa7a76c473a5e7f0f67","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"2e2a09dddd2a394a635bcefb6207b6cddcb784c7","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"541d6257023915a7caca7540f12cdf283ce025f3","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"f5c2788a78790aca1a2f37f7149d6058afb539e0","modified":1569556145657},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"469d5e4e188f484abff24eddd5640fa4d4d77ed1","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"8b6481a0ac60007cf3defa3c9d85a6e412c91d6e","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"5da763d541540586ccd13868a36e3da55549eb22","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"8a7fc03a568b95be8d3337195e38bc7ec5ba2b23","modified":1569556145659},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"b3228a3c325028a3ba57d9d2138774db437537a9","modified":1569556145658},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"ef66c0a08e4243a25e41408d70ca66682b8dcea1","modified":1569556145659},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"85b8606763f4177d2f9a11c1909a21ab1ae2011c","modified":1569556145659},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"38ce7d692b8bc6fde02e3271dfd50ad37e107e4e","modified":1569556145659},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"4525465f40f82bd66e5f34e986440c75a9e2d2b2","modified":1569556145659},{"_id":"themes/next/source/css/_common/scaffolding/highlight/highlight.styl","hash":"4efe9174369bfe2125bd167feac18a07271635d6","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"2124abd41b69ff152f4bb39e78d8fbce96a45c65","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/highlight/diff.styl","hash":"d3f73688bb7423e3ab0de1efdf6db46db5e34f80","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/highlight/theme.styl","hash":"3b3acc5caa0b95a2598bef4eeacb21bab21bea56","modified":1569556145663},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"0527bc64708a9446dc7bbb2c7e39ab3a61251c26","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"514999bde116ef5cd5f7aedea80059b12a87a1ea","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"78d309e22206a4addda3c393282518dae02250ed","modified":1569556145664},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"a1eed8fe7f97885a9234502a197abf2e90ba22b6","modified":1569556145665},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"2dc2a5b7becb11de1d4bdab6b5195588ae878cfc","modified":1569556145665},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"754f70161b7e810f582cc4755d177859dcbcfced","modified":1569556145665},{"_id":"themes/next/source/css/_common/scaffolding/tags/tags.styl","hash":"9e4c0653cfd3cc6908fa0d97581bcf80861fb1e7","modified":1569556145665},{"_id":"themes/next/source/css/_common/outline/footer/footer.styl","hash":"d7a4cc66dde4789bf208f8a0dec0e4a19945f3a6","modified":1569556145659},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"e02b1097a72a7d2ddc45ea8d53aa6d77c25ac407","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"386fce803e5240c2d6860ae53f38ae3aa2e8b680","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/headerband.styl","hash":"0caf32492692ba8e854da43697a2ec8a41612194","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/header.styl","hash":"b98ba750be29c09784ff337f9e2a6e7a062aa3c0","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"139c17e7d4aa3e1112340a26a270efe58c279f8e","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"dada73ae88f01fab2ab4d2c83eddfc558de2110a","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"4718d17fc4ee30802925890771a032d966133a31","modified":1569556145660},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"2ef546b4cfa5038ebb050c592c5135bbeb51af41","modified":1569556145661},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"9b3ff4aa24069eab0e9771437013f45e450d4217","modified":1569556145661},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"41ccae779f918e6f9f5f625789a7360f1362454c","modified":1569556145661},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"95339b71ac90553fb1634c536c9749055e0c788a","modified":1569556145661},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"d055f8420583c7a009818dcdfaada592308bd628","modified":1569556145661},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"f3108a247549fbdf11071d023add3f1b34ad2b23","modified":1569556145662},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"782cf8847c9aca96f9194fcf1d910509e4073ce6","modified":1569556145662},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"db44ef2b99fc33d003010f38e64caad930c08ad0","modified":1569556145662},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar.styl","hash":"17c3f58fb84453603621d6a718fcc821c8d6bced","modified":1569556145662},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"02e5a998748a67fa885fb06fae242bcf3f2786fb","modified":1569556145662},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1569556145677},{"_id":"source/lib/pjax/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1569562492449},{"_id":"source/lib/pjax/.git/logs/refs/heads/master","hash":"2e5e77aea568d684e2a27ca81c6cfab86411c1f4","modified":1569562492451},{"_id":"source/lib/pjax/.git/logs/refs/remotes/origin/HEAD","hash":"2e5e77aea568d684e2a27ca81c6cfab86411c1f4","modified":1569562492449},{"_id":"themes/next/.git/objects/pack/pack-b70685c7d71fa30392a608fb46df876d97030f56.pack","hash":"7844d2a3c2a2d2767598d80f3eefa2e9ca21648e","modified":1569556145600},{"_id":"public/lib/pjax/index.js","hash":"0d43f95d9c585a23addf0be7b08d615434ceb336","modified":1569563528862},{"_id":"public/lib/pjax/package.json","hash":"eb7754d64e95ddd9a922c6a6fa2d1c3ff6321a96","modified":1569563528862},{"_id":"public/lib/pjax/pjax.min.js","hash":"c013ae8c6cc5a2af52b420863b5659f88c4cc090","modified":1569563528863},{"_id":"public/lib/pjax/pjax.js","hash":"06d633c9d4b0207f3991cb38ff519a0f15ff9931","modified":1569563528863},{"_id":"public/lib/pjax/example/example.js","hash":"48b27c93eb351d2fa91247c35038a9f1627e971a","modified":1569563528864},{"_id":"public/lib/pjax/lib/abort-request.js","hash":"cbae038c94f70163340801cb608f4e503640b88d","modified":1569563528864},{"_id":"public/lib/pjax/lib/foreach-els.js","hash":"d8e50967878930891112f4acb46f47697ddc3ad7","modified":1569563528864},{"_id":"public/lib/pjax/lib/eval-script.js","hash":"d5980b3c5f3c1a95427eab0d7d2263324fb72bca","modified":1569563528864},{"_id":"public/lib/pjax/lib/foreach-selectors.js","hash":"b11d36344a7a6aa36d533a335785772c9bfb6bc9","modified":1569563528864},{"_id":"public/lib/pjax/lib/execute-scripts.js","hash":"8c7c18b14c11af7e2d8dd0146b7df428bf8149bb","modified":1569563528864},{"_id":"public/lib/pjax/lib/is-supported.js","hash":"62ede7268080ab7efddd64fced8b3e79af2901f6","modified":1569563528864},{"_id":"public/lib/pjax/lib/send-request.js","hash":"15c341d066b0d60879ef3ca5ff858103381fb378","modified":1569563528864},{"_id":"public/lib/pjax/lib/switches-selectors.js","hash":"f31b4af163db3d9a5b3bb7c7534a4a2dd5543435","modified":1569563528864},{"_id":"public/lib/pjax/lib/parse-options.js","hash":"054a902e9f350f7414b80f62419da004dd90aa37","modified":1569563528864},{"_id":"public/lib/pjax/lib/switches.js","hash":"d0bfd9e24a93442d2e6092433f9c3aa6c794fd3a","modified":1569563528864},{"_id":"public/lib/pjax/lib/uniqueid.js","hash":"eb127cf8936e5bdcaa7459cf5bd042ff96b5a387","modified":1569563528864},{"_id":"public/lib/pjax/tests/setup.js","hash":"4a9489e72cbe98527931d95d68b68e2d6a9bff6e","modified":1569563528864},{"_id":"public/lib/pjax/lib/events/trigger.js","hash":"c05ba73199c5e2c7682655491ed37743bd451751","modified":1569563528864},{"_id":"public/lib/pjax/lib/events/off.js","hash":"79920b24246e150f1c73511f1a271b93b9c5d9c8","modified":1569563528864},{"_id":"public/lib/pjax/lib/proto/attach-form.js","hash":"b41c66e58897e6371fbd04cd2b9eb7bae10e0d89","modified":1569563528864},{"_id":"public/lib/pjax/lib/events/on.js","hash":"111fba16cc4ca701aefedea2589c832b60af303d","modified":1569563528864},{"_id":"public/lib/pjax/lib/proto/attach-link.js","hash":"d15a61235aa8c1615e60ea34d9bbee834be804d0","modified":1569563528864},{"_id":"public/lib/pjax/lib/proto/log.js","hash":"c728730594aed7d81509787c5bb487af014415e1","modified":1569563528864},{"_id":"public/lib/pjax/lib/proto/handle-response.js","hash":"f68bab958cce4dbbcb91920d7a8aba55b9066b41","modified":1569563528864},{"_id":"public/lib/pjax/lib/util/clone.js","hash":"55027b88e007818c6963205fcd0090a61af8237c","modified":1569563528864},{"_id":"public/lib/pjax/lib/util/contains.js","hash":"fcc9be0477d941b7c4ba71de328773e556ded7ce","modified":1569563528864},{"_id":"public/lib/pjax/lib/proto/parse-element.js","hash":"bafb5e4b9897716624a92ba69458e418116e22f8","modified":1569563528864},{"_id":"public/lib/pjax/lib/util/extend.js","hash":"e599aaef93e3a00ccbd92cd87df09898d712e398","modified":1569563528864},{"_id":"public/lib/pjax/lib/util/noop.js","hash":"2c9f7e231af1a62db195875ca62df7edc253c3c4","modified":1569563528864},{"_id":"public/lib/pjax/tests/lib/eval-scripts.js","hash":"3c9125a04cec9d511f16f9311656533ef6a115d1","modified":1569563528864},{"_id":"public/lib/pjax/tests/lib/abort-request.js","hash":"96d7a604ca275455199bd94d16b9cdc254bee9b9","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/events.js","hash":"70ca7ec140d1dcf8c4958e7b6788b09ef2b60181","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/foreach-els.js","hash":"85995dd27d0d866cfaf5c560732fab8b0099938c","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/execute-scripts.js","hash":"358ba332a75d646a83a9f68644d0c4d7981098c1","modified":1569563528865},{"_id":"public/lib/pjax/lib/util/update-query-string.js","hash":"eefcbff322f8c607865d47ee8fa49f1c8bfa8d7a","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/foreach-selectors.js","hash":"898b48ef191719070488f16a54fba8a794b10057","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/switch-selectors.js","hash":"993dd67b1b629288feb8d167fb12b602626cf1d5","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/parse-options.js","hash":"45ab302da33e5457a71fd22bbd082e51f5b06b49","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/is-supported.js","hash":"e25c7e69c8b7a64a44affcae317adb2b3889aee6","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/switches.js","hash":"57c77ae3d2fb31bf7659480316c77f1cf54a39a9","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/uniqueid.js","hash":"430550f31b9e6356c2e3a033c1b418bd6acd9667","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/send-request.js","hash":"d6adad7f95754c53b9885c0999a5118995fdc76f","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/proto/attach-form.js","hash":"3614a962e3185b354a2e0d987bcecdef4a209da6","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/proto/handle-response.js","hash":"26e0e334f0b20ff2fe75b3ab12a93ce44a5823f0","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/proto/attach-link.js","hash":"9d283cb0b09730e932673c73a3352a2d2e8939fa","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/util/contains.js","hash":"692f766c34309478ebbf624a90b043e820127bac","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/proto/parse-element.js","hash":"d3d9d0cb2a23f6fd4b4b77914b026f3e761049a9","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/util/extend.js","hash":"d45488ff6f8e3e1b59a62d0c88c86b750fe50ed4","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/util/clone.js","hash":"4b0e62bd0f4eef3549b0da70987f63ce4953bef0","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/util/noop.js","hash":"6959a4c02c41453a5edfa4163e36752fcfa3edf9","modified":1569563528865},{"_id":"public/lib/pjax/tests/lib/util/update-query-string.js","hash":"4158dcd877c5f229400417e0da22eb4c5b8e8e38","modified":1569563528865},{"_id":"public/atom.xml","hash":"6b1d28a724752c5f921195aec7c4ce9034ad52a7","modified":1569563528866},{"_id":"public/search.xml","hash":"aad9750d57d9a5859469a5af390c50b13e7bc8ed","modified":1569563528866},{"_id":"public/404.html","hash":"3a56b0ef422d3a0e52e4e23158f6e10d248fd074","modified":1569563528869},{"_id":"public/tags/index.html","hash":"0aa572ba2ab582320b2172f601ffffac71523cdc","modified":1569563528869},{"_id":"public/categories/index.html","hash":"f5450ecb7a9420a79dafefe35fdfb9ac6612df30","modified":1569563528869},{"_id":"public/lib/pjax/example/page3.html","hash":"8817f4354800227e66db6a621de49ce3c64881a4","modified":1569563528869},{"_id":"public/lib/pjax/example/page2.html","hash":"985fe27587dba2e5931e63a35989a15359564e8f","modified":1569563528869},{"_id":"public/lib/pjax/example/index.html","hash":"b1a9d9f2defa8a1fe4f77aed0a00b85becbeda55","modified":1569563528869},{"_id":"public/archives/index.html","hash":"908c57279b933bee6e3404428882be323623e69b","modified":1569563528869},{"_id":"public/archives/2019/index.html","hash":"b21972d53fe30e8779181f96ac65da8c494eea66","modified":1569563528869},{"_id":"public/archives/2019/09/index.html","hash":"d50115bf87e804dcd6ec37d2dcd8f8c5fd598f9e","modified":1569563528869},{"_id":"public/index.html","hash":"395e6e2995b6c5c178894b24abc62390e84659e5","modified":1569563528869},{"_id":"public/lib/pjax/CHANGELOG.html","hash":"5332085b9eb278a0c960b9c72a6cfa113fe5fc20","modified":1569563528869},{"_id":"public/lib/pjax/example/forms.html","hash":"fa5904257c81b9bd8425d19f5b7827ed4e9d8691","modified":1569563528869},{"_id":"public/2019/09/27/hello-world/index.html","hash":"7762856a210d0c91c1c89113bec9457af4af295f","modified":1569563528869},{"_id":"public/lib/pjax/LICENSE","hash":"0cadc79604daeacf95062d1e5ccd43edbfaed836","modified":1569563528872},{"_id":"public/lib/pjax/index.d.ts","hash":"b90fe99fe90ee7024d760467e75565da561f7ccd","modified":1569563528872},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1569563528872},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1569563528872},{"_id":"public/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1569563528872},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1569563528872},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1569563528872},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1569563528873},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1569563528873},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1569563528873},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1569563528873},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1569563528873},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1569563528873},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1569563528873},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1569563528873},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1569563528873},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1569563528873},{"_id":"public/lib/pjax/tests/test.ts","hash":"3a5222592fc1883ba6d07fbb2095e4bb4866e9d9","modified":1569563528873},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1569563528873},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1569563528873},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1569563529363},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1569563529365},{"_id":"public/js/algolia-search.js","hash":"813afcc30feee11d59f297f2d5a96f98fbbd4743","modified":1569563529368},{"_id":"public/js/motion.js","hash":"d52807a73efc34b1189c096477f348d05debf861","modified":1569563529368},{"_id":"public/js/utils.js","hash":"33a76cda8ecad2bea9db13e1f77c6e22fd6452fe","modified":1569563529368},{"_id":"public/js/bookmark.js","hash":"60cab6771a57c268da331920edd6d7fcd2713d42","modified":1569563529368},{"_id":"public/js/local-search.js","hash":"0579159bf994e3726b3ba063e5905f79465fdfb1","modified":1569563529368},{"_id":"public/js/next-boot.js","hash":"d1892ad3ca2741534ebaac0476902e05031ab255","modified":1569563529368},{"_id":"public/js/schemes/pisces.js","hash":"1e47ffdda23f7f645a2a883a90e2e9d9ddbf9a46","modified":1569563529368},{"_id":"public/js/schemes/muse.js","hash":"be8471d4a84b773014b46a3650887ab55116ea68","modified":1569563529368},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1569563529368},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1569563529368},{"_id":"public/css/main.css","hash":"1dc3ccb1035f551c5b6ea373c3b1f63215a7812f","modified":1569563529368},{"_id":"public/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1569563529368},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1569563529368},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1569563529368},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1569563529368},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1569563529371}],"Category":[],"Data":[],"Page":[{"title":"404","date":"2019-09-27T05:50:14.000Z","_content":"\n\n<center>\n对不起，您所访问的页面不存在或者已删除。\n您可以<a href=\"https://stornado.github.io>\">点击此处</a>返回首页。\n</center>\n\n<blockquote class=\"blockquote-center\">\n    仲夏叶 | Ryan Stornado\n</blockquote>","source":"404.md","raw":"---\ntitle: 404\ndate: 2019-09-27 13:50:14\n---\n\n\n<center>\n对不起，您所访问的页面不存在或者已删除。\n您可以<a href=\"https://stornado.github.io>\">点击此处</a>返回首页。\n</center>\n\n<blockquote class=\"blockquote-center\">\n    仲夏叶 | Ryan Stornado\n</blockquote>","updated":"2019-09-27T05:51:39.300Z","path":"404.html","comments":1,"layout":"page","_id":"ck11plkrn0000wk2x11ist4d8","content":"<center>\n对不起，您所访问的页面不存在或者已删除。 您可以<a href=\"https://stornado.github.io>\">点击此处</a>返回首页。\n</center>\n<blockquote class=\"blockquote-center\">\n仲夏叶 | Ryan Stornado\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<center>\n对不起，您所访问的页面不存在或者已删除。 您可以<a href=\"https://stornado.github.io>\">点击此处</a>返回首页。\n</center>\n<blockquote class=\"blockquote-center\">\n仲夏叶 | Ryan Stornado\n</blockquote>\n"},{"title":"tags","date":"2019-09-27T05:41:06.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-09-27 13:41:06\ntype: tags\ncomments: false\n---\n","updated":"2019-09-27T05:42:47.319Z","path":"tags/index.html","layout":"page","_id":"ck11plkvl0002wk2xv7y2aihd","content":"\n","site":{"data":{}},"excerpt":"","more":"\n"},{"title":"categories","date":"2019-09-27T05:41:33.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-09-27 13:41:33\ntype: categories\ncomments: false\n---\n","updated":"2019-09-27T05:43:10.907Z","path":"categories/index.html","layout":"page","_id":"ck11plkvl0003wk2xiofr6cju","content":"\n","site":{"data":{}},"excerpt":"","more":"\n"},{"_content":"// var executeScripts = require(\"./lib/execute-scripts\");  // unused-var\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        // executeScripts(el);\n        if (el === 0) ;  // intentially left blank!\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n","source":"lib/pjax/index.js","raw":"// var executeScripts = require(\"./lib/execute-scripts\");  // unused-var\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        // executeScripts(el);\n        if (el === 0) ;  // intentially left blank!\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n","date":"2019-09-27T05:34:52.465Z","updated":"2019-09-27T05:34:52.465Z","path":"lib/pjax/index.js","layout":"false","title":"","comments":1,"_id":"ck11plkxe0004wk2xgfldoc0e","content":"// var executeScripts = require(\"./lib/execute-scripts\");  // unused-var\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        // executeScripts(el);\n        if (el === 0) ;  // intentially left blank!\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n</html[^></html>","site":{"data":{}},"excerpt":"","more":"// var executeScripts = require(\"./lib/execute-scripts\");  // unused-var\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        // executeScripts(el);\n        if (el === 0) ;  // intentially left blank!\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n</html[^></html>"},{"_content":"{\n  \"name\": \"pjax\",\n  \"version\": \"0.2.8\",\n  \"description\": \"Easily enable fast AJAX navigation on any website (using pushState + XHR)\",\n  \"keywords\": [\n    \"pjax\",\n    \"pushstate\",\n    \"ajax\",\n    \"navigation\",\n    \"transition\",\n    \"animation\"\n  ],\n  \"repository\": \"https://github.com/MoOx/pjax.git\",\n  \"author\": \"Maxime Thirouin\",\n  \"contributors\": [\n    \"BehindTheMath\",\n    \"Robin North (http://robinnorth.co.uk)\"\n  ],\n  \"license\": \"MIT\",\n  \"main\": \"index.js\",\n  \"files\": [\n    \"index.js\",\n    \"lib\",\n    \"pjax.js\",\n    \"pjax.min.js\",\n    \"index.d.ts\"\n  ],\n  \"types\": \"index.d.ts\",\n  \"devDependencies\": {\n    \"browserify\": \"^15.0.0\",\n    \"eslint\": \"^5.7.0\",\n    \"eslint-config-i-am-meticulous\": \"^11.0.0\",\n    \"husky\": \"^1.2.0\",\n    \"jsdom\": \"^11.5.1\",\n    \"jsdom-global\": \"^3.0.2\",\n    \"lint-staged\": \"^8.1.0\",\n    \"npmpub\": \"^3.1.0\",\n    \"nyc\": \"^11.4.1\",\n    \"opn-cli\": \"^3.1.0\",\n    \"prettier\": \"^1.14.3\",\n    \"serve\": \"^7.1.3\",\n    \"tap-nyc\": \"^1.0.3\",\n    \"tap-spec\": \"^4.1.1\",\n    \"tape\": \"^4.8.0\",\n    \"uglify-js\": \"^3.3.8\"\n  },\n  \"scripts\": {\n    \"lint\": \"eslint .\",\n    \"standalone\": \"browserify index.js --standalone Pjax > pjax.js\",\n    \"build\": \"npm run standalone && uglifyjs pjax.js -o pjax.min.js\",\n    \"build-debug\": \"browserify index.js --debug --standalone Pjax > pjax.js\",\n    \"tests\": \"tape -r ./tests/setup.js \\\"./tests/**/*.js\\\"\",\n    \"test\": \"npm run lint && npm run tests | tap-spec\",\n    \"coverage-tests\": \"npm run tests | tap-nyc\",\n    \"coverage\": \"nyc -x \\\"tests/**\\\" npm run coverage-tests\",\n    \"example\": \"opn http://localhost:3000/example/ && serve -p 3000 .\",\n    \"prepublish\": \"npm run build\",\n    \"release\": \"npmpub\"\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"npm test && lint-staged\"\n    }\n  },\n  \"lint-staged\": {\n    \"*.js\": [\n      \"eslint --fix\",\n      \"prettier --write\",\n      \"git add\"\n    ]\n  }\n}\n","source":"lib/pjax/package.json","raw":"{\n  \"name\": \"pjax\",\n  \"version\": \"0.2.8\",\n  \"description\": \"Easily enable fast AJAX navigation on any website (using pushState + XHR)\",\n  \"keywords\": [\n    \"pjax\",\n    \"pushstate\",\n    \"ajax\",\n    \"navigation\",\n    \"transition\",\n    \"animation\"\n  ],\n  \"repository\": \"https://github.com/MoOx/pjax.git\",\n  \"author\": \"Maxime Thirouin\",\n  \"contributors\": [\n    \"BehindTheMath\",\n    \"Robin North (http://robinnorth.co.uk)\"\n  ],\n  \"license\": \"MIT\",\n  \"main\": \"index.js\",\n  \"files\": [\n    \"index.js\",\n    \"lib\",\n    \"pjax.js\",\n    \"pjax.min.js\",\n    \"index.d.ts\"\n  ],\n  \"types\": \"index.d.ts\",\n  \"devDependencies\": {\n    \"browserify\": \"^15.0.0\",\n    \"eslint\": \"^5.7.0\",\n    \"eslint-config-i-am-meticulous\": \"^11.0.0\",\n    \"husky\": \"^1.2.0\",\n    \"jsdom\": \"^11.5.1\",\n    \"jsdom-global\": \"^3.0.2\",\n    \"lint-staged\": \"^8.1.0\",\n    \"npmpub\": \"^3.1.0\",\n    \"nyc\": \"^11.4.1\",\n    \"opn-cli\": \"^3.1.0\",\n    \"prettier\": \"^1.14.3\",\n    \"serve\": \"^7.1.3\",\n    \"tap-nyc\": \"^1.0.3\",\n    \"tap-spec\": \"^4.1.1\",\n    \"tape\": \"^4.8.0\",\n    \"uglify-js\": \"^3.3.8\"\n  },\n  \"scripts\": {\n    \"lint\": \"eslint .\",\n    \"standalone\": \"browserify index.js --standalone Pjax > pjax.js\",\n    \"build\": \"npm run standalone && uglifyjs pjax.js -o pjax.min.js\",\n    \"build-debug\": \"browserify index.js --debug --standalone Pjax > pjax.js\",\n    \"tests\": \"tape -r ./tests/setup.js \\\"./tests/**/*.js\\\"\",\n    \"test\": \"npm run lint && npm run tests | tap-spec\",\n    \"coverage-tests\": \"npm run tests | tap-nyc\",\n    \"coverage\": \"nyc -x \\\"tests/**\\\" npm run coverage-tests\",\n    \"example\": \"opn http://localhost:3000/example/ && serve -p 3000 .\",\n    \"prepublish\": \"npm run build\",\n    \"release\": \"npmpub\"\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"npm test && lint-staged\"\n    }\n  },\n  \"lint-staged\": {\n    \"*.js\": [\n      \"eslint --fix\",\n      \"prettier --write\",\n      \"git add\"\n    ]\n  }\n}\n","date":"2019-09-27T05:34:52.471Z","updated":"2019-09-27T05:34:52.471Z","path":"lib/pjax/package.json","layout":"false","title":"","comments":1,"_id":"ck11plkxf0005wk2x0txtl0cp","content":"{\"name\":\"pjax\",\"version\":\"0.2.8\",\"description\":\"Easily enable fast AJAX navigation on any website (using pushState + XHR)\",\"keywords\":[\"pjax\",\"pushstate\",\"ajax\",\"navigation\",\"transition\",\"animation\"],\"repository\":\"https://github.com/MoOx/pjax.git\",\"author\":\"Maxime Thirouin\",\"contributors\":[\"BehindTheMath\",\"Robin North (http://robinnorth.co.uk)\"],\"license\":\"MIT\",\"main\":\"index.js\",\"files\":[\"index.js\",\"lib\",\"pjax.js\",\"pjax.min.js\",\"index.d.ts\"],\"types\":\"index.d.ts\",\"devDependencies\":{\"browserify\":\"^15.0.0\",\"eslint\":\"^5.7.0\",\"eslint-config-i-am-meticulous\":\"^11.0.0\",\"husky\":\"^1.2.0\",\"jsdom\":\"^11.5.1\",\"jsdom-global\":\"^3.0.2\",\"lint-staged\":\"^8.1.0\",\"npmpub\":\"^3.1.0\",\"nyc\":\"^11.4.1\",\"opn-cli\":\"^3.1.0\",\"prettier\":\"^1.14.3\",\"serve\":\"^7.1.3\",\"tap-nyc\":\"^1.0.3\",\"tap-spec\":\"^4.1.1\",\"tape\":\"^4.8.0\",\"uglify-js\":\"^3.3.8\"},\"scripts\":{\"lint\":\"eslint .\",\"standalone\":\"browserify index.js --standalone Pjax > pjax.js\",\"build\":\"npm run standalone && uglifyjs pjax.js -o pjax.min.js\",\"build-debug\":\"browserify index.js --debug --standalone Pjax > pjax.js\",\"tests\":\"tape -r ./tests/setup.js \\\"./tests/**/*.js\\\"\",\"test\":\"npm run lint && npm run tests | tap-spec\",\"coverage-tests\":\"npm run tests | tap-nyc\",\"coverage\":\"nyc -x \\\"tests/**\\\" npm run coverage-tests\",\"example\":\"opn http://localhost:3000/example/ && serve -p 3000 .\",\"prepublish\":\"npm run build\",\"release\":\"npmpub\"},\"husky\":{\"hooks\":{\"pre-commit\":\"npm test && lint-staged\"}},\"lint-staged\":{\"*.js\":[\"eslint --fix\",\"prettier --write\",\"git add\"]}}","site":{"data":{}},"excerpt":"","more":"{\"name\":\"pjax\",\"version\":\"0.2.8\",\"description\":\"Easily enable fast AJAX navigation on any website (using pushState + XHR)\",\"keywords\":[\"pjax\",\"pushstate\",\"ajax\",\"navigation\",\"transition\",\"animation\"],\"repository\":\"https://github.com/MoOx/pjax.git\",\"author\":\"Maxime Thirouin\",\"contributors\":[\"BehindTheMath\",\"Robin North (http://robinnorth.co.uk)\"],\"license\":\"MIT\",\"main\":\"index.js\",\"files\":[\"index.js\",\"lib\",\"pjax.js\",\"pjax.min.js\",\"index.d.ts\"],\"types\":\"index.d.ts\",\"devDependencies\":{\"browserify\":\"^15.0.0\",\"eslint\":\"^5.7.0\",\"eslint-config-i-am-meticulous\":\"^11.0.0\",\"husky\":\"^1.2.0\",\"jsdom\":\"^11.5.1\",\"jsdom-global\":\"^3.0.2\",\"lint-staged\":\"^8.1.0\",\"npmpub\":\"^3.1.0\",\"nyc\":\"^11.4.1\",\"opn-cli\":\"^3.1.0\",\"prettier\":\"^1.14.3\",\"serve\":\"^7.1.3\",\"tap-nyc\":\"^1.0.3\",\"tap-spec\":\"^4.1.1\",\"tape\":\"^4.8.0\",\"uglify-js\":\"^3.3.8\"},\"scripts\":{\"lint\":\"eslint .\",\"standalone\":\"browserify index.js --standalone Pjax > pjax.js\",\"build\":\"npm run standalone && uglifyjs pjax.js -o pjax.min.js\",\"build-debug\":\"browserify index.js --debug --standalone Pjax > pjax.js\",\"tests\":\"tape -r ./tests/setup.js \\\"./tests/**/*.js\\\"\",\"test\":\"npm run lint && npm run tests | tap-spec\",\"coverage-tests\":\"npm run tests | tap-nyc\",\"coverage\":\"nyc -x \\\"tests/**\\\" npm run coverage-tests\",\"example\":\"opn http://localhost:3000/example/ && serve -p 3000 .\",\"prepublish\":\"npm run build\",\"release\":\"npmpub\"},\"husky\":{\"hooks\":{\"pre-commit\":\"npm test && lint-staged\"}},\"lint-staged\":{\"*.js\":[\"eslint --fix\",\"prettier --write\",\"git add\"]}}"},{"_content":"# 0.2.8 - 2019-03-09\n\n- Fixed: Edge form support.\n  ([#178](https://github.com/MoOx/pjax/pull/178) - @robinnorth)\n- Fixed: Removed keyup event listener for forms.\n  ([#184](https://github.com/MoOx/pjax/pull/184) - @BehindTheMath)\n- Fixed: Bugs in evalScripts().\n  ([#186](https://github.com/MoOx/pjax/pull/186) - @BehindTheMath)\n- Fixed: Handle non-string HTML passed to loadContent().\n  ([#200](https://github.com/MoOx/pjax/pull/200) - @BehindTheMath)\n- Tooling: Switch linting to ESLint and Prettier.\n  ([#191](https://github.com/MoOx/pjax/pull/191) - @BehindTheMath)\n\n# 0.2.7 - 2018-08-15\n\n- Fixed: Parsing values of option elements in forms.\n  ([#162](https://github.com/MoOx/pjax/pull/162) - @BehindTheMath)\n- Fixed: Added index.d.ts to package.json so it will be installed by npm.\n  ([c589ab9](https://github.com/MoOx/pjax/commit/c589ab9c25bee6161bf3e557eaca44e51c14fb89) - @BehindTheMath)\n- Fixed: `options.history` to correctly parse being set to false.\n  ([#165](https://github.com/MoOx/pjax/pull/165) - @BehindTheMath).\n- Fixed: Pass the current `options` object to `loadContent()`.\n  ([#171](https://github.com/MoOx/pjax/pull/171) - @BehindTheMath)\n- Fixed: Ensure correct XHR encoding for multipart/form-data forms\n  ([#174](https://github.com/MoOx/pjax/pull/174) - @BehindTheMath)\n- Added: More documentation.\n  ([#160](https://github.com/MoOx/pjax/pull/160), [#171](https://github.com/MoOx/pjax/pull/171) - @robinnorth, @BehindTheMath)\n\n# 0.2.6 - 2018-04-30\n\n- Fixed: Form submission for GET requests.\n  ([#129](https://github.com/MoOx/pjax/pull/129) - @robinnorth)\n- Fixed: Refactor `loadUrl()` to make manually calling simpler.\n  ([#134](https://github.com/MoOx/pjax/pull/134) - @robinnorth)\n- Fixed: Support multiple select fields in form submissions.\n  ([#147](https://github.com/MoOx/pjax/pull/147) - @robinnorth)\n- Fixed: Use the same options object in `handle-response` as in `send-request`. This way, `pjax.state.options` will also have the request options.\n  ([#148](https://github.com/MoOx/pjax/pull/148) - @BehindTheMath)\n- Added: Move the XHR callback to a separate method, and trigger an error event if the response cannot be parsed.\n  ([#137](https://github.com/MoOx/pjax/pull/137) - @BehindTheMath)\n- Added: TypeScript definitions.\n  ([#138](https://github.com/MoOx/pjax/pull/138) - @BehindTheMath)\n- Added: `replaceNode` switch, as an alternative to the `outerHTML` switch.\n  ([#141](https://github.com/MoOx/pjax/pull/141) - @BehindTheMath)\n- Added: `X-PJAX-Selectors` HTTP header. This is a serialized JSON array of selectors, taken from `options.selectors`. You can use this to send back only the elements that Pjax will use to switch, instead of sending the whole page.\n  ([#144](https://github.com/MoOx/pjax/pull/144) - @BehindTheMath)\n- Added: An option to use `FormData` to submit forms.\n  ([#153](https://github.com/MoOx/pjax/pull/153) - @BehindTheMath)\n- Added: Tests.\n  ([f98f2dd](https://github.com/MoOx/pjax/commit/f98f2dd63b48113ff91b6bd8808257bfc723ef6b), [#145](https://github.com/MoOx/pjax/pull/145) - @robinnorth, @BehindTheMath)\n\n# 0.2.5 - 2018-02-02\n\n- Fixed: Async switch functions now work correctly, because the DOM is now parsed after all the switches finish.\n  ([#79](https://github.com/MoOx/pjax/pull/79), [#110](https://github.com/MoOx/pjax/pull/110) - @oskarrough, @BehindTheMath, @robinnorth)\n- Fixed: Bug on IE11 preventing AJAX page refresh.\n  ([#81](https://github.com/MoOx/pjax/pull/81) - @CPTechnikVX)\n- Fixed: Default switches are now available as `Pjax.switches`.\n  ([#92](https://github.com/MoOx/pjax/pull/92) - @BehindTheMath)\n- Fixed: An error that was caused by a missing `switchElementsAlt`.\n  ([#93](https://github.com/MoOx/pjax/pull/93), [#104](https://github.com/MoOx/pjax/pull/104) - @BehindTheMath, @robinnorth)\n- Fixed: Incorrect `main` field in npm package\n  ([#105](https://github.com/MoOx/pjax/pull/105) - @robinnorth)\n- Fixed: A pending XHR is now aborted if the user navigates somewhere else before the request is finished.\n  ([#114](https://github.com/MoOx/pjax/pull/114) - @robinnorth)\n- Fixed: When rendering new content, focus will now be removed only from elements within one of the containers manipulated by Pjax.\n  ([#116](https://github.com/MoOx/pjax/pull/116) - @BehindTheMath)\n- Fixed: Stop dispatching extraneous `pjax:complete` events when external scripts load\n  ([#118](https://github.com/MoOx/pjax/pull/118) - @robinnorth)\n- Added: Send the `X-PJAX` header with XHR requests.\n  ([#80](https://github.com/MoOx/pjax/pull/80) - @bram1028)\n- Added: Direct download link for script tags. (@MoOx)\n- Added: Pass the element that triggered Pjax to the `pjax:send` event.\n  ([#94](https://github.com/MoOx/pjax/pull/94) - @BehindTheMath)\n- Added: An option to set a timeout for XHR requests.\n  ([#95](https://github.com/MoOx/pjax/pull/95) - @BehindTheMath)\n- Added: Checks for XHR redirects\n  ([#101](https://github.com/MoOx/pjax/pull/101) - @BehindTheMath)\n- Added: Save scroll position with history, and restore when navigating backwards or forwards.\n  ([#110](https://github.com/MoOx/pjax/pull/110), [#119](https://github.com/MoOx/pjax/pull/119) - @BehindTheMath, @robinnorth)\n- Added: Scroll to element position when URL contains a hash\n  ([#110](https://github.com/MoOx/pjax/pull/110) - @BehindTheMath)\n- Added: Minified version of the Pjax bundle.\n  ([#115](https://github.com/MoOx/pjax/pull/115) - @BehindTheMath)\n- Changed: Miscellaneous code and tests cleanup.\n  ([#96](https://github.com/MoOx/pjax/pull/96), [#98](https://github.com/MoOx/pjax/pull/98), [#99](https://github.com/MoOx/pjax/pull/99), [#100](https://github.com/MoOx/pjax/pull/1070), [#107](https://github.com/MoOx/pjax/pull/107), [#113](https://github.com/MoOx/pjax/pull/113), [#120](https://github.com/MoOx/pjax/pull/120) - @BehindTheMath, @MoOx, @robinnorth)\n\n# 0.2.4 - 2016-06-28\n\n- Fixed: ``refresh`` should now work (use `this.parseDOM` for refresh)\n  ([#67](https://github.com/MoOx/pjax/pull/67) - @compressed)\n- Fixed: Some attributes, such as `itemscope` have no corresponding value.\n  This change allows them to still be set.\n  ([#67](https://github.com/MoOx/pjax/pull/67) - @compressed)\n- Added: ``cacheBust`` option\n  ([#71](https://github.com/MoOx/pjax/pull/71) - @tremby)\n\n# 0.2.3 - 2016-03-24\n\n- Fixed: ``currentUrlFullReload`` option now works\n- Fixed: ``this.reload`` is now a Function\n  ([#65](https://github.com/MoOx/pjax/issues/65))\n\n# 0.2.2 - 2016-03-12\n\n- Fixed: added back standalone version in `./pjax.js`\n([#57](https://github.com/MoOx/pjax/issues/57)\n- Fixed: error when using pjax with google analytics (``options`` was undefined)\n([#59](https://github.com/MoOx/pjax/pull/59))\n- Fixed: HierarchyRequestError error\n([#49](https://github.com/MoOx/pjax/pull/49))\n- Fixed: ``TypeError: Pjax.forEachEls is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Fixed: ``TypeError: Pjax.executeScripts is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Fixed: ``TypeError: Pjax.clone is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Added: Ignore events with prevented defaults\n([#50](https://github.com/MoOx/pjax/pull/50))\n\n# 0.2.1 - 2015-02-04\n\n- Fixed: it's better when a release have actual files.\n\n# 0.2.0 - 2015-02-04\n\n- Fixed: prevent scrollTo from being converted from false to 0 ([#33](https://github.com/MoOx/pjax/pull/33))\n- Changed: code exploded in commonjs style\n- Added: lots of tests\n- Added: `refresh` method to force update a DOM element ([#36](https://github.com/MoOx/pjax/pull/36))\n\n# 0.1.4 - 2014-10-14\n\n- Fixed: allow to load pages without any attributes on `<html>` element (fix [#6](https://github.com/MoOx/pjax/issues/6))\n- Fixed: make `Pjax.switches.sideBySide` method usable (fix [#13](https://github.com/MoOx/pjax/issues/13))\n\n# 0.1.3 - 2014-09-16\n\n- Fixed: clicking on the current url somewhere does not produce a full reload by default (see option `currentUrlFullReload`)\n- Fixed: `document.implementation.createHTMLDocument` error (in IE10, ref [#16](https://github.com/MoOx/pjax/pull/16))\n\n# 0.1.2 - 2014-04-03\n\n- Changed: `pjax.js` relocated in `src/`\n- Fixed: `<html>` attributes of pjaxified document are now available\n\n# 0.1.1 - 2014-04-02\n\n- Fixed: safer UMD wrapper (fix concat issue)\n\n# 0.1.0 - 2014-03-24\n\n✨ Initial release\n","source":"lib/pjax/CHANGELOG.md","raw":"# 0.2.8 - 2019-03-09\n\n- Fixed: Edge form support.\n  ([#178](https://github.com/MoOx/pjax/pull/178) - @robinnorth)\n- Fixed: Removed keyup event listener for forms.\n  ([#184](https://github.com/MoOx/pjax/pull/184) - @BehindTheMath)\n- Fixed: Bugs in evalScripts().\n  ([#186](https://github.com/MoOx/pjax/pull/186) - @BehindTheMath)\n- Fixed: Handle non-string HTML passed to loadContent().\n  ([#200](https://github.com/MoOx/pjax/pull/200) - @BehindTheMath)\n- Tooling: Switch linting to ESLint and Prettier.\n  ([#191](https://github.com/MoOx/pjax/pull/191) - @BehindTheMath)\n\n# 0.2.7 - 2018-08-15\n\n- Fixed: Parsing values of option elements in forms.\n  ([#162](https://github.com/MoOx/pjax/pull/162) - @BehindTheMath)\n- Fixed: Added index.d.ts to package.json so it will be installed by npm.\n  ([c589ab9](https://github.com/MoOx/pjax/commit/c589ab9c25bee6161bf3e557eaca44e51c14fb89) - @BehindTheMath)\n- Fixed: `options.history` to correctly parse being set to false.\n  ([#165](https://github.com/MoOx/pjax/pull/165) - @BehindTheMath).\n- Fixed: Pass the current `options` object to `loadContent()`.\n  ([#171](https://github.com/MoOx/pjax/pull/171) - @BehindTheMath)\n- Fixed: Ensure correct XHR encoding for multipart/form-data forms\n  ([#174](https://github.com/MoOx/pjax/pull/174) - @BehindTheMath)\n- Added: More documentation.\n  ([#160](https://github.com/MoOx/pjax/pull/160), [#171](https://github.com/MoOx/pjax/pull/171) - @robinnorth, @BehindTheMath)\n\n# 0.2.6 - 2018-04-30\n\n- Fixed: Form submission for GET requests.\n  ([#129](https://github.com/MoOx/pjax/pull/129) - @robinnorth)\n- Fixed: Refactor `loadUrl()` to make manually calling simpler.\n  ([#134](https://github.com/MoOx/pjax/pull/134) - @robinnorth)\n- Fixed: Support multiple select fields in form submissions.\n  ([#147](https://github.com/MoOx/pjax/pull/147) - @robinnorth)\n- Fixed: Use the same options object in `handle-response` as in `send-request`. This way, `pjax.state.options` will also have the request options.\n  ([#148](https://github.com/MoOx/pjax/pull/148) - @BehindTheMath)\n- Added: Move the XHR callback to a separate method, and trigger an error event if the response cannot be parsed.\n  ([#137](https://github.com/MoOx/pjax/pull/137) - @BehindTheMath)\n- Added: TypeScript definitions.\n  ([#138](https://github.com/MoOx/pjax/pull/138) - @BehindTheMath)\n- Added: `replaceNode` switch, as an alternative to the `outerHTML` switch.\n  ([#141](https://github.com/MoOx/pjax/pull/141) - @BehindTheMath)\n- Added: `X-PJAX-Selectors` HTTP header. This is a serialized JSON array of selectors, taken from `options.selectors`. You can use this to send back only the elements that Pjax will use to switch, instead of sending the whole page.\n  ([#144](https://github.com/MoOx/pjax/pull/144) - @BehindTheMath)\n- Added: An option to use `FormData` to submit forms.\n  ([#153](https://github.com/MoOx/pjax/pull/153) - @BehindTheMath)\n- Added: Tests.\n  ([f98f2dd](https://github.com/MoOx/pjax/commit/f98f2dd63b48113ff91b6bd8808257bfc723ef6b), [#145](https://github.com/MoOx/pjax/pull/145) - @robinnorth, @BehindTheMath)\n\n# 0.2.5 - 2018-02-02\n\n- Fixed: Async switch functions now work correctly, because the DOM is now parsed after all the switches finish.\n  ([#79](https://github.com/MoOx/pjax/pull/79), [#110](https://github.com/MoOx/pjax/pull/110) - @oskarrough, @BehindTheMath, @robinnorth)\n- Fixed: Bug on IE11 preventing AJAX page refresh.\n  ([#81](https://github.com/MoOx/pjax/pull/81) - @CPTechnikVX)\n- Fixed: Default switches are now available as `Pjax.switches`.\n  ([#92](https://github.com/MoOx/pjax/pull/92) - @BehindTheMath)\n- Fixed: An error that was caused by a missing `switchElementsAlt`.\n  ([#93](https://github.com/MoOx/pjax/pull/93), [#104](https://github.com/MoOx/pjax/pull/104) - @BehindTheMath, @robinnorth)\n- Fixed: Incorrect `main` field in npm package\n  ([#105](https://github.com/MoOx/pjax/pull/105) - @robinnorth)\n- Fixed: A pending XHR is now aborted if the user navigates somewhere else before the request is finished.\n  ([#114](https://github.com/MoOx/pjax/pull/114) - @robinnorth)\n- Fixed: When rendering new content, focus will now be removed only from elements within one of the containers manipulated by Pjax.\n  ([#116](https://github.com/MoOx/pjax/pull/116) - @BehindTheMath)\n- Fixed: Stop dispatching extraneous `pjax:complete` events when external scripts load\n  ([#118](https://github.com/MoOx/pjax/pull/118) - @robinnorth)\n- Added: Send the `X-PJAX` header with XHR requests.\n  ([#80](https://github.com/MoOx/pjax/pull/80) - @bram1028)\n- Added: Direct download link for script tags. (@MoOx)\n- Added: Pass the element that triggered Pjax to the `pjax:send` event.\n  ([#94](https://github.com/MoOx/pjax/pull/94) - @BehindTheMath)\n- Added: An option to set a timeout for XHR requests.\n  ([#95](https://github.com/MoOx/pjax/pull/95) - @BehindTheMath)\n- Added: Checks for XHR redirects\n  ([#101](https://github.com/MoOx/pjax/pull/101) - @BehindTheMath)\n- Added: Save scroll position with history, and restore when navigating backwards or forwards.\n  ([#110](https://github.com/MoOx/pjax/pull/110), [#119](https://github.com/MoOx/pjax/pull/119) - @BehindTheMath, @robinnorth)\n- Added: Scroll to element position when URL contains a hash\n  ([#110](https://github.com/MoOx/pjax/pull/110) - @BehindTheMath)\n- Added: Minified version of the Pjax bundle.\n  ([#115](https://github.com/MoOx/pjax/pull/115) - @BehindTheMath)\n- Changed: Miscellaneous code and tests cleanup.\n  ([#96](https://github.com/MoOx/pjax/pull/96), [#98](https://github.com/MoOx/pjax/pull/98), [#99](https://github.com/MoOx/pjax/pull/99), [#100](https://github.com/MoOx/pjax/pull/1070), [#107](https://github.com/MoOx/pjax/pull/107), [#113](https://github.com/MoOx/pjax/pull/113), [#120](https://github.com/MoOx/pjax/pull/120) - @BehindTheMath, @MoOx, @robinnorth)\n\n# 0.2.4 - 2016-06-28\n\n- Fixed: ``refresh`` should now work (use `this.parseDOM` for refresh)\n  ([#67](https://github.com/MoOx/pjax/pull/67) - @compressed)\n- Fixed: Some attributes, such as `itemscope` have no corresponding value.\n  This change allows them to still be set.\n  ([#67](https://github.com/MoOx/pjax/pull/67) - @compressed)\n- Added: ``cacheBust`` option\n  ([#71](https://github.com/MoOx/pjax/pull/71) - @tremby)\n\n# 0.2.3 - 2016-03-24\n\n- Fixed: ``currentUrlFullReload`` option now works\n- Fixed: ``this.reload`` is now a Function\n  ([#65](https://github.com/MoOx/pjax/issues/65))\n\n# 0.2.2 - 2016-03-12\n\n- Fixed: added back standalone version in `./pjax.js`\n([#57](https://github.com/MoOx/pjax/issues/57)\n- Fixed: error when using pjax with google analytics (``options`` was undefined)\n([#59](https://github.com/MoOx/pjax/pull/59))\n- Fixed: HierarchyRequestError error\n([#49](https://github.com/MoOx/pjax/pull/49))\n- Fixed: ``TypeError: Pjax.forEachEls is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Fixed: ``TypeError: Pjax.executeScripts is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Fixed: ``TypeError: Pjax.clone is not a function``\n([#52](https://github.com/MoOx/pjax/pull/52))\n- Added: Ignore events with prevented defaults\n([#50](https://github.com/MoOx/pjax/pull/50))\n\n# 0.2.1 - 2015-02-04\n\n- Fixed: it's better when a release have actual files.\n\n# 0.2.0 - 2015-02-04\n\n- Fixed: prevent scrollTo from being converted from false to 0 ([#33](https://github.com/MoOx/pjax/pull/33))\n- Changed: code exploded in commonjs style\n- Added: lots of tests\n- Added: `refresh` method to force update a DOM element ([#36](https://github.com/MoOx/pjax/pull/36))\n\n# 0.1.4 - 2014-10-14\n\n- Fixed: allow to load pages without any attributes on `<html>` element (fix [#6](https://github.com/MoOx/pjax/issues/6))\n- Fixed: make `Pjax.switches.sideBySide` method usable (fix [#13](https://github.com/MoOx/pjax/issues/13))\n\n# 0.1.3 - 2014-09-16\n\n- Fixed: clicking on the current url somewhere does not produce a full reload by default (see option `currentUrlFullReload`)\n- Fixed: `document.implementation.createHTMLDocument` error (in IE10, ref [#16](https://github.com/MoOx/pjax/pull/16))\n\n# 0.1.2 - 2014-04-03\n\n- Changed: `pjax.js` relocated in `src/`\n- Fixed: `<html>` attributes of pjaxified document are now available\n\n# 0.1.1 - 2014-04-02\n\n- Fixed: safer UMD wrapper (fix concat issue)\n\n# 0.1.0 - 2014-03-24\n\n✨ Initial release\n","date":"2019-09-27T05:34:52.458Z","updated":"2019-09-27T05:34:52.458Z","path":"lib/pjax/CHANGELOG.html","title":"","comments":1,"layout":"page","_id":"ck11plkxg0006wk2xds6wh12x","content":"<h1 id=\"section\">0.2.8 - 2019-03-09</h1>\n<ul>\n<li>Fixed: Edge form support. (<a href=\"https://github.com/MoOx/pjax/pull/178\" target=\"_blank\" rel=\"noopener\">#178</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Removed keyup event listener for forms. (<a href=\"https://github.com/MoOx/pjax/pull/184\" target=\"_blank\" rel=\"noopener\">#184</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Bugs in evalScripts(). (<a href=\"https://github.com/MoOx/pjax/pull/186\" target=\"_blank\" rel=\"noopener\">#186</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Handle non-string HTML passed to loadContent(). (<a href=\"https://github.com/MoOx/pjax/pull/200\" target=\"_blank\" rel=\"noopener\">#200</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Tooling: Switch linting to ESLint and Prettier. (<a href=\"https://github.com/MoOx/pjax/pull/191\" target=\"_blank\" rel=\"noopener\">#191</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-1\">0.2.7 - 2018-08-15</h1>\n<ul>\n<li>Fixed: Parsing values of option elements in forms. (<a href=\"https://github.com/MoOx/pjax/pull/162\" target=\"_blank\" rel=\"noopener\">#162</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Added index.d.ts to package.json so it will be installed by npm. (<a href=\"https://github.com/MoOx/pjax/commit/c589ab9c25bee6161bf3e557eaca44e51c14fb89\" target=\"_blank\" rel=\"noopener\">c589ab9</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: <code>options.history</code> to correctly parse being set to false. (<a href=\"https://github.com/MoOx/pjax/pull/165\" target=\"_blank\" rel=\"noopener\">#165</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>).</li>\n<li>Fixed: Pass the current <code>options</code> object to <code>loadContent()</code>. (<a href=\"https://github.com/MoOx/pjax/pull/171\" target=\"_blank\" rel=\"noopener\">#171</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Ensure correct XHR encoding for multipart/form-data forms (<a href=\"https://github.com/MoOx/pjax/pull/174\" target=\"_blank\" rel=\"noopener\">#174</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: More documentation. (<a href=\"https://github.com/MoOx/pjax/pull/160\" target=\"_blank\" rel=\"noopener\">#160</a>, <a href=\"https://github.com/MoOx/pjax/pull/171\" target=\"_blank\" rel=\"noopener\">#171</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-2\">0.2.6 - 2018-04-30</h1>\n<ul>\n<li>Fixed: Form submission for GET requests. (<a href=\"https://github.com/MoOx/pjax/pull/129\" target=\"_blank\" rel=\"noopener\">#129</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Refactor <code>loadUrl()</code> to make manually calling simpler. (<a href=\"https://github.com/MoOx/pjax/pull/134\" target=\"_blank\" rel=\"noopener\">#134</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Support multiple select fields in form submissions. (<a href=\"https://github.com/MoOx/pjax/pull/147\" target=\"_blank\" rel=\"noopener\">#147</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Use the same options object in <code>handle-response</code> as in <code>send-request</code>. This way, <code>pjax.state.options</code> will also have the request options. (<a href=\"https://github.com/MoOx/pjax/pull/148\" target=\"_blank\" rel=\"noopener\">#148</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Move the XHR callback to a separate method, and trigger an error event if the response cannot be parsed. (<a href=\"https://github.com/MoOx/pjax/pull/137\" target=\"_blank\" rel=\"noopener\">#137</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: TypeScript definitions. (<a href=\"https://github.com/MoOx/pjax/pull/138\" target=\"_blank\" rel=\"noopener\">#138</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: <code>replaceNode</code> switch, as an alternative to the <code>outerHTML</code> switch. (<a href=\"https://github.com/MoOx/pjax/pull/141\" target=\"_blank\" rel=\"noopener\">#141</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: <code>X-PJAX-Selectors</code> HTTP header. This is a serialized JSON array of selectors, taken from <code>options.selectors</code>. You can use this to send back only the elements that Pjax will use to switch, instead of sending the whole page. (<a href=\"https://github.com/MoOx/pjax/pull/144\" target=\"_blank\" rel=\"noopener\">#144</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: An option to use <code>FormData</code> to submit forms. (<a href=\"https://github.com/MoOx/pjax/pull/153\" target=\"_blank\" rel=\"noopener\">#153</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Tests. (<a href=\"https://github.com/MoOx/pjax/commit/f98f2dd63b48113ff91b6bd8808257bfc723ef6b\" target=\"_blank\" rel=\"noopener\">f98f2dd</a>, <a href=\"https://github.com/MoOx/pjax/pull/145\" target=\"_blank\" rel=\"noopener\">#145</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-3\">0.2.5 - 2018-02-02</h1>\n<ul>\n<li>Fixed: Async switch functions now work correctly, because the DOM is now parsed after all the switches finish. (<a href=\"https://github.com/MoOx/pjax/pull/79\" target=\"_blank\" rel=\"noopener\">#79</a>, <a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a> - <span class=\"citation\" data-cites=\"oskarrough\">@oskarrough</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Bug on IE11 preventing AJAX page refresh. (<a href=\"https://github.com/MoOx/pjax/pull/81\" target=\"_blank\" rel=\"noopener\">#81</a> - <span class=\"citation\" data-cites=\"CPTechnikVX\">@CPTechnikVX</span>)</li>\n<li>Fixed: Default switches are now available as <code>Pjax.switches</code>. (<a href=\"https://github.com/MoOx/pjax/pull/92\" target=\"_blank\" rel=\"noopener\">#92</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: An error that was caused by a missing <code>switchElementsAlt</code>. (<a href=\"https://github.com/MoOx/pjax/pull/93\" target=\"_blank\" rel=\"noopener\">#93</a>, <a href=\"https://github.com/MoOx/pjax/pull/104\" target=\"_blank\" rel=\"noopener\">#104</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Incorrect <code>main</code> field in npm package (<a href=\"https://github.com/MoOx/pjax/pull/105\" target=\"_blank\" rel=\"noopener\">#105</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: A pending XHR is now aborted if the user navigates somewhere else before the request is finished. (<a href=\"https://github.com/MoOx/pjax/pull/114\" target=\"_blank\" rel=\"noopener\">#114</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: When rendering new content, focus will now be removed only from elements within one of the containers manipulated by Pjax. (<a href=\"https://github.com/MoOx/pjax/pull/116\" target=\"_blank\" rel=\"noopener\">#116</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Stop dispatching extraneous <code>pjax:complete</code> events when external scripts load (<a href=\"https://github.com/MoOx/pjax/pull/118\" target=\"_blank\" rel=\"noopener\">#118</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Added: Send the <code>X-PJAX</code> header with XHR requests. (<a href=\"https://github.com/MoOx/pjax/pull/80\" target=\"_blank\" rel=\"noopener\">#80</a> - <span class=\"citation\" data-cites=\"bram1028\">@bram1028</span>)</li>\n<li>Added: Direct download link for script tags. (<span class=\"citation\" data-cites=\"MoOx\">@MoOx</span>)</li>\n<li>Added: Pass the element that triggered Pjax to the <code>pjax:send</code> event. (<a href=\"https://github.com/MoOx/pjax/pull/94\" target=\"_blank\" rel=\"noopener\">#94</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: An option to set a timeout for XHR requests. (<a href=\"https://github.com/MoOx/pjax/pull/95\" target=\"_blank\" rel=\"noopener\">#95</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Checks for XHR redirects (<a href=\"https://github.com/MoOx/pjax/pull/101\" target=\"_blank\" rel=\"noopener\">#101</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Save scroll position with history, and restore when navigating backwards or forwards. (<a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a>, <a href=\"https://github.com/MoOx/pjax/pull/119\" target=\"_blank\" rel=\"noopener\">#119</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Added: Scroll to element position when URL contains a hash (<a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Minified version of the Pjax bundle. (<a href=\"https://github.com/MoOx/pjax/pull/115\" target=\"_blank\" rel=\"noopener\">#115</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Changed: Miscellaneous code and tests cleanup. (<a href=\"https://github.com/MoOx/pjax/pull/96\" target=\"_blank\" rel=\"noopener\">#96</a>, <a href=\"https://github.com/MoOx/pjax/pull/98\" target=\"_blank\" rel=\"noopener\">#98</a>, <a href=\"https://github.com/MoOx/pjax/pull/99\" target=\"_blank\" rel=\"noopener\">#99</a>, <a href=\"https://github.com/MoOx/pjax/pull/1070\" target=\"_blank\" rel=\"noopener\">#100</a>, <a href=\"https://github.com/MoOx/pjax/pull/107\" target=\"_blank\" rel=\"noopener\">#107</a>, <a href=\"https://github.com/MoOx/pjax/pull/113\" target=\"_blank\" rel=\"noopener\">#113</a>, <a href=\"https://github.com/MoOx/pjax/pull/120\" target=\"_blank\" rel=\"noopener\">#120</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"MoOx\">@MoOx</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n</ul>\n<h1 id=\"section-4\">0.2.4 - 2016-06-28</h1>\n<ul>\n<li>Fixed: <code>refresh</code> should now work (use <code>this.parseDOM</code> for refresh) (<a href=\"https://github.com/MoOx/pjax/pull/67\" target=\"_blank\" rel=\"noopener\">#67</a> - <span class=\"citation\" data-cites=\"compressed\">@compressed</span>)</li>\n<li>Fixed: Some attributes, such as <code>itemscope</code> have no corresponding value. This change allows them to still be set. (<a href=\"https://github.com/MoOx/pjax/pull/67\" target=\"_blank\" rel=\"noopener\">#67</a> - <span class=\"citation\" data-cites=\"compressed\">@compressed</span>)</li>\n<li>Added: <code>cacheBust</code> option (<a href=\"https://github.com/MoOx/pjax/pull/71\" target=\"_blank\" rel=\"noopener\">#71</a> - <span class=\"citation\" data-cites=\"tremby\">@tremby</span>)</li>\n</ul>\n<h1 id=\"section-5\">0.2.3 - 2016-03-24</h1>\n<ul>\n<li>Fixed: <code>currentUrlFullReload</code> option now works</li>\n<li>Fixed: <code>this.reload</code> is now a Function (<a href=\"https://github.com/MoOx/pjax/issues/65\" target=\"_blank\" rel=\"noopener\">#65</a>)</li>\n</ul>\n<h1 id=\"section-6\">0.2.2 - 2016-03-12</h1>\n<ul>\n<li>Fixed: added back standalone version in <code>./pjax.js</code> (<a href=\"https://github.com/MoOx/pjax/issues/57\" target=\"_blank\" rel=\"noopener\">#57</a></li>\n<li>Fixed: error when using pjax with google analytics (<code>options</code> was undefined) (<a href=\"https://github.com/MoOx/pjax/pull/59\" target=\"_blank\" rel=\"noopener\">#59</a>)</li>\n<li>Fixed: HierarchyRequestError error (<a href=\"https://github.com/MoOx/pjax/pull/49\" target=\"_blank\" rel=\"noopener\">#49</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.forEachEls is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.executeScripts is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.clone is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Added: Ignore events with prevented defaults (<a href=\"https://github.com/MoOx/pjax/pull/50\" target=\"_blank\" rel=\"noopener\">#50</a>)</li>\n</ul>\n<h1 id=\"section-7\">0.2.1 - 2015-02-04</h1>\n<ul>\n<li>Fixed: it's better when a release have actual files.</li>\n</ul>\n<h1 id=\"section-8\">0.2.0 - 2015-02-04</h1>\n<ul>\n<li>Fixed: prevent scrollTo from being converted from false to 0 (<a href=\"https://github.com/MoOx/pjax/pull/33\" target=\"_blank\" rel=\"noopener\">#33</a>)</li>\n<li>Changed: code exploded in commonjs style</li>\n<li>Added: lots of tests</li>\n<li>Added: <code>refresh</code> method to force update a DOM element (<a href=\"https://github.com/MoOx/pjax/pull/36\" target=\"_blank\" rel=\"noopener\">#36</a>)</li>\n</ul>\n<h1 id=\"section-9\">0.1.4 - 2014-10-14</h1>\n<ul>\n<li>Fixed: allow to load pages without any attributes on <code>&lt;html&gt;</code> element (fix <a href=\"https://github.com/MoOx/pjax/issues/6\" target=\"_blank\" rel=\"noopener\">#6</a>)</li>\n<li>Fixed: make <code>Pjax.switches.sideBySide</code> method usable (fix <a href=\"https://github.com/MoOx/pjax/issues/13\" target=\"_blank\" rel=\"noopener\">#13</a>)</li>\n</ul>\n<h1 id=\"section-10\">0.1.3 - 2014-09-16</h1>\n<ul>\n<li>Fixed: clicking on the current url somewhere does not produce a full reload by default (see option <code>currentUrlFullReload</code>)</li>\n<li>Fixed: <code>document.implementation.createHTMLDocument</code> error (in IE10, ref <a href=\"https://github.com/MoOx/pjax/pull/16\" target=\"_blank\" rel=\"noopener\">#16</a>)</li>\n</ul>\n<h1 id=\"section-11\">0.1.2 - 2014-04-03</h1>\n<ul>\n<li>Changed: <code>pjax.js</code> relocated in <code>src/</code></li>\n<li>Fixed: <code>&lt;html&gt;</code> attributes of pjaxified document are now available</li>\n</ul>\n<h1 id=\"section-12\">0.1.1 - 2014-04-02</h1>\n<ul>\n<li>Fixed: safer UMD wrapper (fix concat issue)</li>\n</ul>\n<h1 id=\"section-13\">0.1.0 - 2014-03-24</h1>\n<p>✨ Initial release</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"section\">0.2.8 - 2019-03-09</h1>\n<ul>\n<li>Fixed: Edge form support. (<a href=\"https://github.com/MoOx/pjax/pull/178\" target=\"_blank\" rel=\"noopener\">#178</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Removed keyup event listener for forms. (<a href=\"https://github.com/MoOx/pjax/pull/184\" target=\"_blank\" rel=\"noopener\">#184</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Bugs in evalScripts(). (<a href=\"https://github.com/MoOx/pjax/pull/186\" target=\"_blank\" rel=\"noopener\">#186</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Handle non-string HTML passed to loadContent(). (<a href=\"https://github.com/MoOx/pjax/pull/200\" target=\"_blank\" rel=\"noopener\">#200</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Tooling: Switch linting to ESLint and Prettier. (<a href=\"https://github.com/MoOx/pjax/pull/191\" target=\"_blank\" rel=\"noopener\">#191</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-1\">0.2.7 - 2018-08-15</h1>\n<ul>\n<li>Fixed: Parsing values of option elements in forms. (<a href=\"https://github.com/MoOx/pjax/pull/162\" target=\"_blank\" rel=\"noopener\">#162</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Added index.d.ts to package.json so it will be installed by npm. (<a href=\"https://github.com/MoOx/pjax/commit/c589ab9c25bee6161bf3e557eaca44e51c14fb89\" target=\"_blank\" rel=\"noopener\">c589ab9</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: <code>options.history</code> to correctly parse being set to false. (<a href=\"https://github.com/MoOx/pjax/pull/165\" target=\"_blank\" rel=\"noopener\">#165</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>).</li>\n<li>Fixed: Pass the current <code>options</code> object to <code>loadContent()</code>. (<a href=\"https://github.com/MoOx/pjax/pull/171\" target=\"_blank\" rel=\"noopener\">#171</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Ensure correct XHR encoding for multipart/form-data forms (<a href=\"https://github.com/MoOx/pjax/pull/174\" target=\"_blank\" rel=\"noopener\">#174</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: More documentation. (<a href=\"https://github.com/MoOx/pjax/pull/160\" target=\"_blank\" rel=\"noopener\">#160</a>, <a href=\"https://github.com/MoOx/pjax/pull/171\" target=\"_blank\" rel=\"noopener\">#171</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-2\">0.2.6 - 2018-04-30</h1>\n<ul>\n<li>Fixed: Form submission for GET requests. (<a href=\"https://github.com/MoOx/pjax/pull/129\" target=\"_blank\" rel=\"noopener\">#129</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Refactor <code>loadUrl()</code> to make manually calling simpler. (<a href=\"https://github.com/MoOx/pjax/pull/134\" target=\"_blank\" rel=\"noopener\">#134</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Support multiple select fields in form submissions. (<a href=\"https://github.com/MoOx/pjax/pull/147\" target=\"_blank\" rel=\"noopener\">#147</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Use the same options object in <code>handle-response</code> as in <code>send-request</code>. This way, <code>pjax.state.options</code> will also have the request options. (<a href=\"https://github.com/MoOx/pjax/pull/148\" target=\"_blank\" rel=\"noopener\">#148</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Move the XHR callback to a separate method, and trigger an error event if the response cannot be parsed. (<a href=\"https://github.com/MoOx/pjax/pull/137\" target=\"_blank\" rel=\"noopener\">#137</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: TypeScript definitions. (<a href=\"https://github.com/MoOx/pjax/pull/138\" target=\"_blank\" rel=\"noopener\">#138</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: <code>replaceNode</code> switch, as an alternative to the <code>outerHTML</code> switch. (<a href=\"https://github.com/MoOx/pjax/pull/141\" target=\"_blank\" rel=\"noopener\">#141</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: <code>X-PJAX-Selectors</code> HTTP header. This is a serialized JSON array of selectors, taken from <code>options.selectors</code>. You can use this to send back only the elements that Pjax will use to switch, instead of sending the whole page. (<a href=\"https://github.com/MoOx/pjax/pull/144\" target=\"_blank\" rel=\"noopener\">#144</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: An option to use <code>FormData</code> to submit forms. (<a href=\"https://github.com/MoOx/pjax/pull/153\" target=\"_blank\" rel=\"noopener\">#153</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Tests. (<a href=\"https://github.com/MoOx/pjax/commit/f98f2dd63b48113ff91b6bd8808257bfc723ef6b\" target=\"_blank\" rel=\"noopener\">f98f2dd</a>, <a href=\"https://github.com/MoOx/pjax/pull/145\" target=\"_blank\" rel=\"noopener\">#145</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n</ul>\n<h1 id=\"section-3\">0.2.5 - 2018-02-02</h1>\n<ul>\n<li>Fixed: Async switch functions now work correctly, because the DOM is now parsed after all the switches finish. (<a href=\"https://github.com/MoOx/pjax/pull/79\" target=\"_blank\" rel=\"noopener\">#79</a>, <a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a> - <span class=\"citation\" data-cites=\"oskarrough\">@oskarrough</span>, <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Bug on IE11 preventing AJAX page refresh. (<a href=\"https://github.com/MoOx/pjax/pull/81\" target=\"_blank\" rel=\"noopener\">#81</a> - <span class=\"citation\" data-cites=\"CPTechnikVX\">@CPTechnikVX</span>)</li>\n<li>Fixed: Default switches are now available as <code>Pjax.switches</code>. (<a href=\"https://github.com/MoOx/pjax/pull/92\" target=\"_blank\" rel=\"noopener\">#92</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: An error that was caused by a missing <code>switchElementsAlt</code>. (<a href=\"https://github.com/MoOx/pjax/pull/93\" target=\"_blank\" rel=\"noopener\">#93</a>, <a href=\"https://github.com/MoOx/pjax/pull/104\" target=\"_blank\" rel=\"noopener\">#104</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: Incorrect <code>main</code> field in npm package (<a href=\"https://github.com/MoOx/pjax/pull/105\" target=\"_blank\" rel=\"noopener\">#105</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: A pending XHR is now aborted if the user navigates somewhere else before the request is finished. (<a href=\"https://github.com/MoOx/pjax/pull/114\" target=\"_blank\" rel=\"noopener\">#114</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Fixed: When rendering new content, focus will now be removed only from elements within one of the containers manipulated by Pjax. (<a href=\"https://github.com/MoOx/pjax/pull/116\" target=\"_blank\" rel=\"noopener\">#116</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Fixed: Stop dispatching extraneous <code>pjax:complete</code> events when external scripts load (<a href=\"https://github.com/MoOx/pjax/pull/118\" target=\"_blank\" rel=\"noopener\">#118</a> - <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Added: Send the <code>X-PJAX</code> header with XHR requests. (<a href=\"https://github.com/MoOx/pjax/pull/80\" target=\"_blank\" rel=\"noopener\">#80</a> - <span class=\"citation\" data-cites=\"bram1028\">@bram1028</span>)</li>\n<li>Added: Direct download link for script tags. (<span class=\"citation\" data-cites=\"MoOx\">@MoOx</span>)</li>\n<li>Added: Pass the element that triggered Pjax to the <code>pjax:send</code> event. (<a href=\"https://github.com/MoOx/pjax/pull/94\" target=\"_blank\" rel=\"noopener\">#94</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: An option to set a timeout for XHR requests. (<a href=\"https://github.com/MoOx/pjax/pull/95\" target=\"_blank\" rel=\"noopener\">#95</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Checks for XHR redirects (<a href=\"https://github.com/MoOx/pjax/pull/101\" target=\"_blank\" rel=\"noopener\">#101</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Save scroll position with history, and restore when navigating backwards or forwards. (<a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a>, <a href=\"https://github.com/MoOx/pjax/pull/119\" target=\"_blank\" rel=\"noopener\">#119</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n<li>Added: Scroll to element position when URL contains a hash (<a href=\"https://github.com/MoOx/pjax/pull/110\" target=\"_blank\" rel=\"noopener\">#110</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Added: Minified version of the Pjax bundle. (<a href=\"https://github.com/MoOx/pjax/pull/115\" target=\"_blank\" rel=\"noopener\">#115</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>)</li>\n<li>Changed: Miscellaneous code and tests cleanup. (<a href=\"https://github.com/MoOx/pjax/pull/96\" target=\"_blank\" rel=\"noopener\">#96</a>, <a href=\"https://github.com/MoOx/pjax/pull/98\" target=\"_blank\" rel=\"noopener\">#98</a>, <a href=\"https://github.com/MoOx/pjax/pull/99\" target=\"_blank\" rel=\"noopener\">#99</a>, <a href=\"https://github.com/MoOx/pjax/pull/1070\" target=\"_blank\" rel=\"noopener\">#100</a>, <a href=\"https://github.com/MoOx/pjax/pull/107\" target=\"_blank\" rel=\"noopener\">#107</a>, <a href=\"https://github.com/MoOx/pjax/pull/113\" target=\"_blank\" rel=\"noopener\">#113</a>, <a href=\"https://github.com/MoOx/pjax/pull/120\" target=\"_blank\" rel=\"noopener\">#120</a> - <span class=\"citation\" data-cites=\"BehindTheMath\">@BehindTheMath</span>, <span class=\"citation\" data-cites=\"MoOx\">@MoOx</span>, <span class=\"citation\" data-cites=\"robinnorth\">@robinnorth</span>)</li>\n</ul>\n<h1 id=\"section-4\">0.2.4 - 2016-06-28</h1>\n<ul>\n<li>Fixed: <code>refresh</code> should now work (use <code>this.parseDOM</code> for refresh) (<a href=\"https://github.com/MoOx/pjax/pull/67\" target=\"_blank\" rel=\"noopener\">#67</a> - <span class=\"citation\" data-cites=\"compressed\">@compressed</span>)</li>\n<li>Fixed: Some attributes, such as <code>itemscope</code> have no corresponding value. This change allows them to still be set. (<a href=\"https://github.com/MoOx/pjax/pull/67\" target=\"_blank\" rel=\"noopener\">#67</a> - <span class=\"citation\" data-cites=\"compressed\">@compressed</span>)</li>\n<li>Added: <code>cacheBust</code> option (<a href=\"https://github.com/MoOx/pjax/pull/71\" target=\"_blank\" rel=\"noopener\">#71</a> - <span class=\"citation\" data-cites=\"tremby\">@tremby</span>)</li>\n</ul>\n<h1 id=\"section-5\">0.2.3 - 2016-03-24</h1>\n<ul>\n<li>Fixed: <code>currentUrlFullReload</code> option now works</li>\n<li>Fixed: <code>this.reload</code> is now a Function (<a href=\"https://github.com/MoOx/pjax/issues/65\" target=\"_blank\" rel=\"noopener\">#65</a>)</li>\n</ul>\n<h1 id=\"section-6\">0.2.2 - 2016-03-12</h1>\n<ul>\n<li>Fixed: added back standalone version in <code>./pjax.js</code> (<a href=\"https://github.com/MoOx/pjax/issues/57\" target=\"_blank\" rel=\"noopener\">#57</a></li>\n<li>Fixed: error when using pjax with google analytics (<code>options</code> was undefined) (<a href=\"https://github.com/MoOx/pjax/pull/59\" target=\"_blank\" rel=\"noopener\">#59</a>)</li>\n<li>Fixed: HierarchyRequestError error (<a href=\"https://github.com/MoOx/pjax/pull/49\" target=\"_blank\" rel=\"noopener\">#49</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.forEachEls is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.executeScripts is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Fixed: <code>TypeError: Pjax.clone is not a function</code> (<a href=\"https://github.com/MoOx/pjax/pull/52\" target=\"_blank\" rel=\"noopener\">#52</a>)</li>\n<li>Added: Ignore events with prevented defaults (<a href=\"https://github.com/MoOx/pjax/pull/50\" target=\"_blank\" rel=\"noopener\">#50</a>)</li>\n</ul>\n<h1 id=\"section-7\">0.2.1 - 2015-02-04</h1>\n<ul>\n<li>Fixed: it's better when a release have actual files.</li>\n</ul>\n<h1 id=\"section-8\">0.2.0 - 2015-02-04</h1>\n<ul>\n<li>Fixed: prevent scrollTo from being converted from false to 0 (<a href=\"https://github.com/MoOx/pjax/pull/33\" target=\"_blank\" rel=\"noopener\">#33</a>)</li>\n<li>Changed: code exploded in commonjs style</li>\n<li>Added: lots of tests</li>\n<li>Added: <code>refresh</code> method to force update a DOM element (<a href=\"https://github.com/MoOx/pjax/pull/36\" target=\"_blank\" rel=\"noopener\">#36</a>)</li>\n</ul>\n<h1 id=\"section-9\">0.1.4 - 2014-10-14</h1>\n<ul>\n<li>Fixed: allow to load pages without any attributes on <code>&lt;html&gt;</code> element (fix <a href=\"https://github.com/MoOx/pjax/issues/6\" target=\"_blank\" rel=\"noopener\">#6</a>)</li>\n<li>Fixed: make <code>Pjax.switches.sideBySide</code> method usable (fix <a href=\"https://github.com/MoOx/pjax/issues/13\" target=\"_blank\" rel=\"noopener\">#13</a>)</li>\n</ul>\n<h1 id=\"section-10\">0.1.3 - 2014-09-16</h1>\n<ul>\n<li>Fixed: clicking on the current url somewhere does not produce a full reload by default (see option <code>currentUrlFullReload</code>)</li>\n<li>Fixed: <code>document.implementation.createHTMLDocument</code> error (in IE10, ref <a href=\"https://github.com/MoOx/pjax/pull/16\" target=\"_blank\" rel=\"noopener\">#16</a>)</li>\n</ul>\n<h1 id=\"section-11\">0.1.2 - 2014-04-03</h1>\n<ul>\n<li>Changed: <code>pjax.js</code> relocated in <code>src/</code></li>\n<li>Fixed: <code>&lt;html&gt;</code> attributes of pjaxified document are now available</li>\n</ul>\n<h1 id=\"section-12\">0.1.1 - 2014-04-02</h1>\n<ul>\n<li>Fixed: safer UMD wrapper (fix concat issue)</li>\n</ul>\n<h1 id=\"section-13\">0.1.0 - 2014-03-24</h1>\n<p>✨ Initial release</p>\n"},{"_content":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){var executeScripts=require(\"./lib/execute-scripts\");var forEachEls=require(\"./lib/foreach-els\");var parseOptions=require(\"./lib/parse-options\");var switches=require(\"./lib/switches\");var newUid=require(\"./lib/uniqueid\");var on=require(\"./lib/events/on\");var trigger=require(\"./lib/events/trigger\");var clone=require(\"./lib/util/clone\");var contains=require(\"./lib/util/contains\");var extend=require(\"./lib/util/extend\");var noop=require(\"./lib/util/noop\");var Pjax=function(options){this.state={numPendingSwitches:0,href:null,options:null};this.options=parseOptions(options);this.log(\"Pjax options\",this.options);if(this.options.scrollRestoration&&\"scrollRestoration\"in history){history.scrollRestoration=\"manual\"}this.maxUid=this.lastUid=newUid();this.parseDOM(document);on(window,\"popstate\",function(st){if(st.state){var opt=clone(this.options);opt.url=st.state.url;opt.title=st.state.title;opt.history=false;opt.scrollPos=st.state.scrollPos;if(st.state.uid<this.lastUid){opt.backward=true}else{opt.forward=true}this.lastUid=st.state.uid;this.loadUrl(st.state.url,opt)}}.bind(this))};Pjax.switches=switches;Pjax.prototype={log:require(\"./lib/proto/log\"),getElements:function(el){return el.querySelectorAll(this.options.elements)},parseDOM:function(el){var parseElement=require(\"./lib/proto/parse-element\");forEachEls(this.getElements(el),parseElement,this)},refresh:function(el){this.parseDOM(el||document)},reload:function(){window.location.reload()},attachLink:require(\"./lib/proto/attach-link\"),attachForm:require(\"./lib/proto/attach-form\"),forEachSelectors:function(cb,context,DOMcontext){return require(\"./lib/foreach-selectors\").bind(this)(this.options.selectors,cb,context,DOMcontext)},switchSelectors:function(selectors,fromEl,toEl,options){return require(\"./lib/switches-selectors\").bind(this)(this.options.switches,this.options.switchesOptions,selectors,fromEl,toEl,options)},latestChance:function(href){window.location=href},onSwitch:function(){trigger(window,\"resize scroll\");this.state.numPendingSwitches--;if(this.state.numPendingSwitches===0){this.afterAllSwitches()}},loadContent:function(html,options){if(typeof html!==\"string\"){trigger(document,\"pjax:complete pjax:error\",options);return}var tmpEl=document.implementation.createHTMLDocument(\"pjax\");var htmlRegex=/<html[^>]+>/gi;var htmlAttribsRegex=/\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;var matches=html.match(htmlRegex);if(matches&&matches.length){matches=matches[0].match(htmlAttribsRegex);if(matches.length){matches.shift();matches.forEach(function(htmlAttrib){var attr=htmlAttrib.trim().split(\"=\");if(attr.length===1){tmpEl.documentElement.setAttribute(attr[0],true)}else{tmpEl.documentElement.setAttribute(attr[0],attr[1].slice(1,-1))}})}}tmpEl.documentElement.innerHTML=html;this.log(\"load content\",tmpEl.documentElement.attributes,tmpEl.documentElement.innerHTML.length);if(document.activeElement&&contains(document,this.options.selectors,document.activeElement)){try{document.activeElement.blur()}catch(e){}}this.switchSelectors(this.options.selectors,tmpEl,document,options)},abortRequest:require(\"./lib/abort-request\"),doRequest:require(\"./lib/send-request\"),handleResponse:require(\"./lib/proto/handle-response\"),loadUrl:function(href,options){options=typeof options===\"object\"?extend({},this.options,options):clone(this.options);this.log(\"load href\",href,options);this.abortRequest(this.request);trigger(document,\"pjax:send\",options);this.request=this.doRequest(href,options,this.handleResponse.bind(this))},afterAllSwitches:function(){var autofocusEl=Array.prototype.slice.call(document.querySelectorAll(\"[autofocus]\")).pop();if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus()}this.options.selectors.forEach(function(selector){forEachEls(document.querySelectorAll(selector),function(el){})});var state=this.state;if(state.options.history){if(!window.history.state){this.lastUid=this.maxUid=newUid();window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)}this.lastUid=this.maxUid=newUid();window.history.pushState({url:state.href,title:state.options.title,uid:this.maxUid,scrollPos:[0,0]},state.options.title,state.href)}this.forEachSelectors(function(el){this.parseDOM(el)},this);trigger(document,\"pjax:complete pjax:success\",state.options);if(typeof state.options.analytics===\"function\"){state.options.analytics()}if(state.options.history){var a=document.createElement(\"a\");a.href=this.state.href;if(a.hash){var name=a.hash.slice(1);name=decodeURIComponent(name);var curtop=0;var target=document.getElementById(name)||document.getElementsByName(name)[0];if(target){if(target.offsetParent){do{curtop+=target.offsetTop;target=target.offsetParent}while(target)}}window.scrollTo(0,curtop)}else if(state.options.scrollTo!==false){if(state.options.scrollTo.length>1){window.scrollTo(state.options.scrollTo[0],state.options.scrollTo[1])}else{window.scrollTo(0,state.options.scrollTo)}}}else if(state.options.scrollRestoration&&state.options.scrollPos){window.scrollTo(state.options.scrollPos[0],state.options.scrollPos[1])}this.state={numPendingSwitches:0,href:null,options:null}}};Pjax.isSupported=require(\"./lib/is-supported\");if(Pjax.isSupported()){module.exports=Pjax}else{var stupidPjax=noop;for(var key in Pjax.prototype){if(Pjax.prototype.hasOwnProperty(key)&&typeof Pjax.prototype[key]===\"function\"){stupidPjax[key]=noop}}module.exports=stupidPjax}},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){var noop=require(\"./util/noop\");module.exports=function(request){if(request&&request.readyState<4){request.onreadystatechange=noop;request.abort()}}},{\"./util/noop\":23}],3:[function(require,module,exports){module.exports=function(el){var code=el.text||el.textContent||el.innerHTML||\"\";var src=el.src||\"\";var parent=el.parentNode||document.querySelector(\"head\")||document.documentElement;var script=document.createElement(\"script\");if(code.match(\"document.write\")){if(console&&console.log){console.log(\"Script contains document.write. Can’t be executed correctly. Code skipped \",el)}return false}script.type=\"text/javascript\";script.id=el.id;if(src!==\"\"){script.src=src;script.async=false}if(code!==\"\"){try{script.appendChild(document.createTextNode(code))}catch(e){script.text=code}}parent.appendChild(script);if((parent instanceof HTMLHeadElement||parent instanceof HTMLBodyElement)&&parent.contains(script)){parent.removeChild(script)}return true}},{}],4:[function(require,module,exports){var forEachEls=require(\"../foreach-els\");module.exports=function(els,events,listener,useCapture){events=typeof events===\"string\"?events.split(\" \"):events;events.forEach(function(e){forEachEls(els,function(el){el.addEventListener(e,listener,useCapture)})})}},{\"../foreach-els\":7}],5:[function(require,module,exports){var forEachEls=require(\"../foreach-els\");module.exports=function(els,events,opts){events=typeof events===\"string\"?events.split(\" \"):events;events.forEach(function(e){var event;event=document.createEvent(\"HTMLEvents\");event.initEvent(e,true,true);event.eventName=e;if(opts){Object.keys(opts).forEach(function(key){event[key]=opts[key]})}forEachEls(els,function(el){var domFix=false;if(!el.parentNode&&el!==document&&el!==window){domFix=true;document.body.appendChild(el)}el.dispatchEvent(event);if(domFix){el.parentNode.removeChild(el)}})})}},{\"../foreach-els\":7}],6:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var evalScript=require(\"./eval-script\");module.exports=function(el){if(el.tagName.toLowerCase()===\"script\"){evalScript(el)}forEachEls(el.querySelectorAll(\"script\"),function(script){if(!script.type||script.type.toLowerCase()===\"text/javascript\"){if(script.parentNode){script.parentNode.removeChild(script)}evalScript(script)}})}},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){module.exports=function(els,fn,context){if(els instanceof HTMLCollection||els instanceof NodeList||els instanceof Array){return Array.prototype.forEach.call(els,fn,context)}return fn.call(context,els)}},{}],8:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");module.exports=function(selectors,cb,context,DOMcontext){DOMcontext=DOMcontext||document;selectors.forEach(function(selector){forEachEls(DOMcontext.querySelectorAll(selector),cb,context)})}},{\"./foreach-els\":7}],9:[function(require,module,exports){module.exports=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/)}},{}],10:[function(require,module,exports){var defaultSwitches=require(\"./switches\");module.exports=function(options){options=options||{};options.elements=options.elements||\"a[href], form[action]\";options.selectors=options.selectors||[\"title\",\".js-Pjax\"];options.switches=options.switches||{};options.switchesOptions=options.switchesOptions||{};options.history=typeof options.history===\"undefined\"?true:options.history;options.analytics=typeof options.analytics===\"function\"||options.analytics===false?options.analytics:defaultAnalytics;options.scrollTo=typeof options.scrollTo===\"undefined\"?0:options.scrollTo;options.scrollRestoration=typeof options.scrollRestoration!==\"undefined\"?options.scrollRestoration:true;options.cacheBust=typeof options.cacheBust===\"undefined\"?true:options.cacheBust;options.debug=options.debug||false;options.timeout=options.timeout||0;options.currentUrlFullReload=typeof options.currentUrlFullReload===\"undefined\"?false:options.currentUrlFullReload;if(!options.switches.head){options.switches.head=defaultSwitches.switchElementsAlt}if(!options.switches.body){options.switches.body=defaultSwitches.switchElementsAlt}return options};function defaultAnalytics(){if(window._gaq){_gaq.push([\"_trackPageview\"])}if(window.ga){ga(\"send\",\"pageview\",{page:location.pathname,title:document.title})}}},{\"./switches\":18}],11:[function(require,module,exports){var on=require(\"../events/on\");var clone=require(\"../util/clone\");var attrState=\"data-pjax-state\";var formAction=function(el,event){if(isDefaultPrevented(event)){return}var options=clone(this.options);options.requestOptions={requestUrl:el.getAttribute(\"action\")||window.location.href,requestMethod:el.getAttribute(\"method\")||\"GET\"};var virtLinkElement=document.createElement(\"a\");virtLinkElement.setAttribute(\"href\",options.requestOptions.requestUrl);var attrValue=checkIfShouldAbort(virtLinkElement,options);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(el.enctype===\"multipart/form-data\"){options.requestOptions.formData=new FormData(el)}else{options.requestOptions.requestParams=parseFormElements(el)}el.setAttribute(attrState,\"submit\");options.triggerElement=el;this.loadUrl(virtLinkElement.href,options)};function parseFormElements(el){var requestParams=[];var formElements=el.elements;for(var i=0;i<formElements.length;i++){var element=formElements[i];var tagName=element.tagName.toLowerCase();if(!!element.name&&element.attributes!==undefined&&tagName!==\"button\"){var type=element.attributes.type;if(!type||type.value!==\"checkbox\"&&type.value!==\"radio\"||element.checked){var values=[];if(tagName===\"select\"){var opt;for(var j=0;j<element.options.length;j++){opt=element.options[j];if(opt.selected&&!opt.disabled){values.push(opt.hasAttribute(\"value\")?opt.value:opt.text)}}}else{values.push(element.value)}for(var k=0;k<values.length;k++){requestParams.push({name:encodeURIComponent(element.name),value:encodeURIComponent(values[k])})}}}}return requestParams}function checkIfShouldAbort(virtLinkElement,options){if(virtLinkElement.protocol!==window.location.protocol||virtLinkElement.host!==window.location.host){return\"external\"}if(virtLinkElement.hash&&virtLinkElement.href.replace(virtLinkElement.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(virtLinkElement.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}if(options.currentUrlFullReload&&virtLinkElement.href===window.location.href.split(\"#\")[0]){return\"reload\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"submit\",function(event){formAction.call(that,el,event)})}},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){var on=require(\"../events/on\");var clone=require(\"../util/clone\");var attrState=\"data-pjax-state\";var linkAction=function(el,event){if(isDefaultPrevented(event)){return}var options=clone(this.options);var attrValue=checkIfShouldAbort(el,event);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(this.options.currentUrlFullReload&&el.href===window.location.href.split(\"#\")[0]){el.setAttribute(attrState,\"reload\");this.reload();return}el.setAttribute(attrState,\"load\");options.triggerElement=el;this.loadUrl(el.href,options)};function checkIfShouldAbort(el,event){if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey){return\"modifier\"}if(el.protocol!==window.location.protocol||el.host!==window.location.host){return\"external\"}if(el.hash&&el.href.replace(el.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(el.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"click\",function(event){linkAction.call(that,el,event)});on(el,\"keyup\",function(event){if(event.keyCode===13){linkAction.call(that,el,event)}}.bind(this))}},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){var clone=require(\"../util/clone\");var newUid=require(\"../uniqueid\");var trigger=require(\"../events/trigger\");module.exports=function(responseText,request,href,options){options=clone(options||this.options);options.request=request;if(responseText===false){trigger(document,\"pjax:complete pjax:error\",options);return}var currentState=window.history.state||{};window.history.replaceState({url:currentState.url||window.location.href,title:currentState.title||document.title,uid:currentState.uid||newUid(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var oldHref=href;if(request.responseURL){if(href!==request.responseURL){href=request.responseURL}}else if(request.getResponseHeader(\"X-PJAX-URL\")){href=request.getResponseHeader(\"X-PJAX-URL\")}else if(request.getResponseHeader(\"X-XHR-Redirected-To\")){href=request.getResponseHeader(\"X-XHR-Redirected-To\")}var a=document.createElement(\"a\");a.href=oldHref;var oldHash=a.hash;a.href=href;if(oldHash&&!a.hash){a.hash=oldHash;href=a.href}this.state.href=href;this.state.options=options;try{this.loadContent(responseText,options)}catch(e){trigger(document,\"pjax:error\",options);if(!this.options.debug){if(console&&console.error){console.error(\"Pjax switch fail: \",e)}return this.latestChance(href)}else{throw e}}}},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){module.exports=function(){if(this.options.debug&&console){if(typeof console.log===\"function\"){console.log.apply(console,arguments)}else if(console.log){console.log(arguments)}}}},{}],15:[function(require,module,exports){var attrState=\"data-pjax-state\";module.exports=function(el){switch(el.tagName.toLowerCase()){case\"a\":if(!el.hasAttribute(attrState)){this.attachLink(el)}break;case\"form\":if(!el.hasAttribute(attrState)){this.attachForm(el)}break;default:throw\"Pjax can only be applied on <a> or <form> submit\"}}},{}],16:[function(require,module,exports){var updateQueryString=require(\"./util/update-query-string\");module.exports=function(location,options,callback){options=options||{};var queryString;var requestOptions=options.requestOptions||{};var requestMethod=(requestOptions.requestMethod||\"GET\").toUpperCase();var requestParams=requestOptions.requestParams||null;var formData=requestOptions.formData||null;var requestPayload=null;var request=new XMLHttpRequest;var timeout=options.timeout||0;request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){callback(request.responseText,request,location,options)}else if(request.status!==0){callback(null,request,location,options)}}};request.onerror=function(e){console.log(e);callback(null,request,location,options)};request.ontimeout=function(){callback(null,request,location,options)};if(requestParams&&requestParams.length){queryString=requestParams.map(function(param){return param.name+\"=\"+param.value}).join(\"&\");switch(requestMethod){case\"GET\":location=location.split(\"?\")[0];location+=\"?\"+queryString;break;case\"POST\":requestPayload=queryString;break}}else if(formData){requestPayload=formData}if(options.cacheBust){location=updateQueryString(location,\"t\",Date.now())}request.open(requestMethod,location,true);request.timeout=timeout;request.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");request.setRequestHeader(\"X-PJAX\",\"true\");request.setRequestHeader(\"X-PJAX-Selectors\",JSON.stringify(options.selectors));if(requestPayload&&requestMethod===\"POST\"&&!formData){request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")}request.send(requestPayload);return request}},{\"./util/update-query-string\":24}],17:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var defaultSwitches=require(\"./switches\");module.exports=function(switches,switchesOptions,selectors,fromEl,toEl,options){var switchesQueue=[];selectors.forEach(function(selector){var newEls=fromEl.querySelectorAll(selector);var oldEls=toEl.querySelectorAll(selector);if(this.log){this.log(\"Pjax switch\",selector,newEls,oldEls)}if(newEls.length!==oldEls.length){throw\"DOM doesn’t look the same on new loaded page: ’\"+selector+\"’ - new \"+newEls.length+\", old \"+oldEls.length}forEachEls(newEls,function(newEl,i){var oldEl=oldEls[i];if(this.log){this.log(\"newEl\",newEl,\"oldEl\",oldEl)}var callback=switches[selector]?switches[selector].bind(this,oldEl,newEl,options,switchesOptions[selector]):defaultSwitches.outerHTML.bind(this,oldEl,newEl,options);switchesQueue.push(callback)},this)},this);this.state.numPendingSwitches=switchesQueue.length;switchesQueue.forEach(function(queuedSwitch){queuedSwitch()})}},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){var on=require(\"./events/on\");module.exports={outerHTML:function(oldEl,newEl){oldEl.outerHTML=newEl.outerHTML;this.onSwitch()},innerHTML:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.className===\"\"){oldEl.removeAttribute(\"class\")}else{}this.onSwitch()},switchElementsAlt:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.hasAttributes()){var attrs=newEl.attributes;for(var i=0;i<attrs.length;i++){oldEl.attributes.setNamedItem(attrs[i].cloneNode())}}this.onSwitch()},replaceNode:function(oldEl,newEl){oldEl.parentNode.replaceChild(newEl,oldEl);this.onSwitch()},sideBySide:function(oldEl,newEl,options,switchOptions){var forEach=Array.prototype.forEach;var elsToRemove=[];var elsToAdd=[];var fragToAppend=document.createDocumentFragment();var animationEventNames=\"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";var animatedElsNumber=0;var sexyAnimationEnd=function(e){if(e.target!==e.currentTarget){return}animatedElsNumber--;if(animatedElsNumber<=0&&elsToRemove){elsToRemove.forEach(function(el){if(el.parentNode){el.parentNode.removeChild(el)}});elsToAdd.forEach(function(el){el.className=el.className.replace(el.getAttribute(\"data-pjax-classes\"),\"\");el.removeAttribute(\"data-pjax-classes\")});elsToAdd=null;elsToRemove=null;this.onSwitch()}}.bind(this);switchOptions=switchOptions||{};forEach.call(oldEl.childNodes,function(el){elsToRemove.push(el);if(el.classList&&!el.classList.contains(\"js-Pjax-remove\")){if(el.hasAttribute(\"data-pjax-classes\")){el.className=el.className.replace(el.getAttribute(\"data-pjax-classes\"),\"\");el.removeAttribute(\"data-pjax-classes\")}el.classList.add(\"js-Pjax-remove\");if(switchOptions.callbacks&&switchOptions.callbacks.removeElement){switchOptions.callbacks.removeElement(el)}if(switchOptions.classNames){el.className+=\" \"+switchOptions.classNames.remove+\" \"+(options.backward?switchOptions.classNames.backward:switchOptions.classNames.forward)}animatedElsNumber++;on(el,animationEventNames,sexyAnimationEnd,true)}});forEach.call(newEl.childNodes,function(el){if(el.classList){var addClasses=\"\";if(switchOptions.classNames){addClasses=\" js-Pjax-add \"+switchOptions.classNames.add+\" \"+(options.backward?switchOptions.classNames.forward:switchOptions.classNames.backward)}if(switchOptions.callbacks&&switchOptions.callbacks.addElement){switchOptions.callbacks.addElement(el)}el.className+=addClasses;el.setAttribute(\"data-pjax-classes\",addClasses);elsToAdd.push(el);fragToAppend.appendChild(el);animatedElsNumber++;on(el,animationEventNames,sexyAnimationEnd,true)}});oldEl.className=newEl.className;oldEl.appendChild(fragToAppend)}}},{\"./events/on\":4}],19:[function(require,module,exports){module.exports=function(){var counter=0;return function(){var id=\"pjax\"+(new Date).getTime()+\"_\"+counter;counter++;return id}}()},{}],20:[function(require,module,exports){module.exports=function(obj){if(null===obj||\"object\"!==typeof obj){return obj}var copy=obj.constructor();for(var attr in obj){if(obj.hasOwnProperty(attr)){copy[attr]=obj[attr]}}return copy}},{}],21:[function(require,module,exports){module.exports=function contains(doc,selectors,el){for(var i=0;i<selectors.length;i++){var selectedEls=doc.querySelectorAll(selectors[i]);for(var j=0;j<selectedEls.length;j++){if(selectedEls[j].contains(el)){return true}}}return false}},{}],22:[function(require,module,exports){module.exports=function(target){if(target==null){return null}var to=Object(target);for(var i=1;i<arguments.length;i++){var source=arguments[i];if(source!=null){for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){to[key]=source[key]}}}}return to}},{}],23:[function(require,module,exports){module.exports=function(){}},{}],24:[function(require,module,exports){module.exports=function(uri,key,value){var re=new RegExp(\"([?&])\"+key+\"=.*?(&|$)\",\"i\");var separator=uri.indexOf(\"?\")!==-1?\"&\":\"?\";if(uri.match(re)){return uri.replace(re,\"$1\"+key+\"=\"+value+\"$2\")}else{return uri+separator+key+\"=\"+value}}},{}]},{},[1])(1)});","source":"lib/pjax/pjax.min.js","raw":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){var executeScripts=require(\"./lib/execute-scripts\");var forEachEls=require(\"./lib/foreach-els\");var parseOptions=require(\"./lib/parse-options\");var switches=require(\"./lib/switches\");var newUid=require(\"./lib/uniqueid\");var on=require(\"./lib/events/on\");var trigger=require(\"./lib/events/trigger\");var clone=require(\"./lib/util/clone\");var contains=require(\"./lib/util/contains\");var extend=require(\"./lib/util/extend\");var noop=require(\"./lib/util/noop\");var Pjax=function(options){this.state={numPendingSwitches:0,href:null,options:null};this.options=parseOptions(options);this.log(\"Pjax options\",this.options);if(this.options.scrollRestoration&&\"scrollRestoration\"in history){history.scrollRestoration=\"manual\"}this.maxUid=this.lastUid=newUid();this.parseDOM(document);on(window,\"popstate\",function(st){if(st.state){var opt=clone(this.options);opt.url=st.state.url;opt.title=st.state.title;opt.history=false;opt.scrollPos=st.state.scrollPos;if(st.state.uid<this.lastUid){opt.backward=true}else{opt.forward=true}this.lastUid=st.state.uid;this.loadUrl(st.state.url,opt)}}.bind(this))};Pjax.switches=switches;Pjax.prototype={log:require(\"./lib/proto/log\"),getElements:function(el){return el.querySelectorAll(this.options.elements)},parseDOM:function(el){var parseElement=require(\"./lib/proto/parse-element\");forEachEls(this.getElements(el),parseElement,this)},refresh:function(el){this.parseDOM(el||document)},reload:function(){window.location.reload()},attachLink:require(\"./lib/proto/attach-link\"),attachForm:require(\"./lib/proto/attach-form\"),forEachSelectors:function(cb,context,DOMcontext){return require(\"./lib/foreach-selectors\").bind(this)(this.options.selectors,cb,context,DOMcontext)},switchSelectors:function(selectors,fromEl,toEl,options){return require(\"./lib/switches-selectors\").bind(this)(this.options.switches,this.options.switchesOptions,selectors,fromEl,toEl,options)},latestChance:function(href){window.location=href},onSwitch:function(){trigger(window,\"resize scroll\");this.state.numPendingSwitches--;if(this.state.numPendingSwitches===0){this.afterAllSwitches()}},loadContent:function(html,options){if(typeof html!==\"string\"){trigger(document,\"pjax:complete pjax:error\",options);return}var tmpEl=document.implementation.createHTMLDocument(\"pjax\");var htmlRegex=/<html[^>]+>/gi;var htmlAttribsRegex=/\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;var matches=html.match(htmlRegex);if(matches&&matches.length){matches=matches[0].match(htmlAttribsRegex);if(matches.length){matches.shift();matches.forEach(function(htmlAttrib){var attr=htmlAttrib.trim().split(\"=\");if(attr.length===1){tmpEl.documentElement.setAttribute(attr[0],true)}else{tmpEl.documentElement.setAttribute(attr[0],attr[1].slice(1,-1))}})}}tmpEl.documentElement.innerHTML=html;this.log(\"load content\",tmpEl.documentElement.attributes,tmpEl.documentElement.innerHTML.length);if(document.activeElement&&contains(document,this.options.selectors,document.activeElement)){try{document.activeElement.blur()}catch(e){}}this.switchSelectors(this.options.selectors,tmpEl,document,options)},abortRequest:require(\"./lib/abort-request\"),doRequest:require(\"./lib/send-request\"),handleResponse:require(\"./lib/proto/handle-response\"),loadUrl:function(href,options){options=typeof options===\"object\"?extend({},this.options,options):clone(this.options);this.log(\"load href\",href,options);this.abortRequest(this.request);trigger(document,\"pjax:send\",options);this.request=this.doRequest(href,options,this.handleResponse.bind(this))},afterAllSwitches:function(){var autofocusEl=Array.prototype.slice.call(document.querySelectorAll(\"[autofocus]\")).pop();if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus()}this.options.selectors.forEach(function(selector){forEachEls(document.querySelectorAll(selector),function(el){})});var state=this.state;if(state.options.history){if(!window.history.state){this.lastUid=this.maxUid=newUid();window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)}this.lastUid=this.maxUid=newUid();window.history.pushState({url:state.href,title:state.options.title,uid:this.maxUid,scrollPos:[0,0]},state.options.title,state.href)}this.forEachSelectors(function(el){this.parseDOM(el)},this);trigger(document,\"pjax:complete pjax:success\",state.options);if(typeof state.options.analytics===\"function\"){state.options.analytics()}if(state.options.history){var a=document.createElement(\"a\");a.href=this.state.href;if(a.hash){var name=a.hash.slice(1);name=decodeURIComponent(name);var curtop=0;var target=document.getElementById(name)||document.getElementsByName(name)[0];if(target){if(target.offsetParent){do{curtop+=target.offsetTop;target=target.offsetParent}while(target)}}window.scrollTo(0,curtop)}else if(state.options.scrollTo!==false){if(state.options.scrollTo.length>1){window.scrollTo(state.options.scrollTo[0],state.options.scrollTo[1])}else{window.scrollTo(0,state.options.scrollTo)}}}else if(state.options.scrollRestoration&&state.options.scrollPos){window.scrollTo(state.options.scrollPos[0],state.options.scrollPos[1])}this.state={numPendingSwitches:0,href:null,options:null}}};Pjax.isSupported=require(\"./lib/is-supported\");if(Pjax.isSupported()){module.exports=Pjax}else{var stupidPjax=noop;for(var key in Pjax.prototype){if(Pjax.prototype.hasOwnProperty(key)&&typeof Pjax.prototype[key]===\"function\"){stupidPjax[key]=noop}}module.exports=stupidPjax}},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){var noop=require(\"./util/noop\");module.exports=function(request){if(request&&request.readyState<4){request.onreadystatechange=noop;request.abort()}}},{\"./util/noop\":23}],3:[function(require,module,exports){module.exports=function(el){var code=el.text||el.textContent||el.innerHTML||\"\";var src=el.src||\"\";var parent=el.parentNode||document.querySelector(\"head\")||document.documentElement;var script=document.createElement(\"script\");if(code.match(\"document.write\")){if(console&&console.log){console.log(\"Script contains document.write. Can’t be executed correctly. Code skipped \",el)}return false}script.type=\"text/javascript\";script.id=el.id;if(src!==\"\"){script.src=src;script.async=false}if(code!==\"\"){try{script.appendChild(document.createTextNode(code))}catch(e){script.text=code}}parent.appendChild(script);if((parent instanceof HTMLHeadElement||parent instanceof HTMLBodyElement)&&parent.contains(script)){parent.removeChild(script)}return true}},{}],4:[function(require,module,exports){var forEachEls=require(\"../foreach-els\");module.exports=function(els,events,listener,useCapture){events=typeof events===\"string\"?events.split(\" \"):events;events.forEach(function(e){forEachEls(els,function(el){el.addEventListener(e,listener,useCapture)})})}},{\"../foreach-els\":7}],5:[function(require,module,exports){var forEachEls=require(\"../foreach-els\");module.exports=function(els,events,opts){events=typeof events===\"string\"?events.split(\" \"):events;events.forEach(function(e){var event;event=document.createEvent(\"HTMLEvents\");event.initEvent(e,true,true);event.eventName=e;if(opts){Object.keys(opts).forEach(function(key){event[key]=opts[key]})}forEachEls(els,function(el){var domFix=false;if(!el.parentNode&&el!==document&&el!==window){domFix=true;document.body.appendChild(el)}el.dispatchEvent(event);if(domFix){el.parentNode.removeChild(el)}})})}},{\"../foreach-els\":7}],6:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var evalScript=require(\"./eval-script\");module.exports=function(el){if(el.tagName.toLowerCase()===\"script\"){evalScript(el)}forEachEls(el.querySelectorAll(\"script\"),function(script){if(!script.type||script.type.toLowerCase()===\"text/javascript\"){if(script.parentNode){script.parentNode.removeChild(script)}evalScript(script)}})}},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){module.exports=function(els,fn,context){if(els instanceof HTMLCollection||els instanceof NodeList||els instanceof Array){return Array.prototype.forEach.call(els,fn,context)}return fn.call(context,els)}},{}],8:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");module.exports=function(selectors,cb,context,DOMcontext){DOMcontext=DOMcontext||document;selectors.forEach(function(selector){forEachEls(DOMcontext.querySelectorAll(selector),cb,context)})}},{\"./foreach-els\":7}],9:[function(require,module,exports){module.exports=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/)}},{}],10:[function(require,module,exports){var defaultSwitches=require(\"./switches\");module.exports=function(options){options=options||{};options.elements=options.elements||\"a[href], form[action]\";options.selectors=options.selectors||[\"title\",\".js-Pjax\"];options.switches=options.switches||{};options.switchesOptions=options.switchesOptions||{};options.history=typeof options.history===\"undefined\"?true:options.history;options.analytics=typeof options.analytics===\"function\"||options.analytics===false?options.analytics:defaultAnalytics;options.scrollTo=typeof options.scrollTo===\"undefined\"?0:options.scrollTo;options.scrollRestoration=typeof options.scrollRestoration!==\"undefined\"?options.scrollRestoration:true;options.cacheBust=typeof options.cacheBust===\"undefined\"?true:options.cacheBust;options.debug=options.debug||false;options.timeout=options.timeout||0;options.currentUrlFullReload=typeof options.currentUrlFullReload===\"undefined\"?false:options.currentUrlFullReload;if(!options.switches.head){options.switches.head=defaultSwitches.switchElementsAlt}if(!options.switches.body){options.switches.body=defaultSwitches.switchElementsAlt}return options};function defaultAnalytics(){if(window._gaq){_gaq.push([\"_trackPageview\"])}if(window.ga){ga(\"send\",\"pageview\",{page:location.pathname,title:document.title})}}},{\"./switches\":18}],11:[function(require,module,exports){var on=require(\"../events/on\");var clone=require(\"../util/clone\");var attrState=\"data-pjax-state\";var formAction=function(el,event){if(isDefaultPrevented(event)){return}var options=clone(this.options);options.requestOptions={requestUrl:el.getAttribute(\"action\")||window.location.href,requestMethod:el.getAttribute(\"method\")||\"GET\"};var virtLinkElement=document.createElement(\"a\");virtLinkElement.setAttribute(\"href\",options.requestOptions.requestUrl);var attrValue=checkIfShouldAbort(virtLinkElement,options);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(el.enctype===\"multipart/form-data\"){options.requestOptions.formData=new FormData(el)}else{options.requestOptions.requestParams=parseFormElements(el)}el.setAttribute(attrState,\"submit\");options.triggerElement=el;this.loadUrl(virtLinkElement.href,options)};function parseFormElements(el){var requestParams=[];var formElements=el.elements;for(var i=0;i<formElements.length;i++){var element=formElements[i];var tagName=element.tagName.toLowerCase();if(!!element.name&&element.attributes!==undefined&&tagName!==\"button\"){var type=element.attributes.type;if(!type||type.value!==\"checkbox\"&&type.value!==\"radio\"||element.checked){var values=[];if(tagName===\"select\"){var opt;for(var j=0;j<element.options.length;j++){opt=element.options[j];if(opt.selected&&!opt.disabled){values.push(opt.hasAttribute(\"value\")?opt.value:opt.text)}}}else{values.push(element.value)}for(var k=0;k<values.length;k++){requestParams.push({name:encodeURIComponent(element.name),value:encodeURIComponent(values[k])})}}}}return requestParams}function checkIfShouldAbort(virtLinkElement,options){if(virtLinkElement.protocol!==window.location.protocol||virtLinkElement.host!==window.location.host){return\"external\"}if(virtLinkElement.hash&&virtLinkElement.href.replace(virtLinkElement.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(virtLinkElement.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}if(options.currentUrlFullReload&&virtLinkElement.href===window.location.href.split(\"#\")[0]){return\"reload\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"submit\",function(event){formAction.call(that,el,event)})}},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){var on=require(\"../events/on\");var clone=require(\"../util/clone\");var attrState=\"data-pjax-state\";var linkAction=function(el,event){if(isDefaultPrevented(event)){return}var options=clone(this.options);var attrValue=checkIfShouldAbort(el,event);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(this.options.currentUrlFullReload&&el.href===window.location.href.split(\"#\")[0]){el.setAttribute(attrState,\"reload\");this.reload();return}el.setAttribute(attrState,\"load\");options.triggerElement=el;this.loadUrl(el.href,options)};function checkIfShouldAbort(el,event){if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey){return\"modifier\"}if(el.protocol!==window.location.protocol||el.host!==window.location.host){return\"external\"}if(el.hash&&el.href.replace(el.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(el.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"click\",function(event){linkAction.call(that,el,event)});on(el,\"keyup\",function(event){if(event.keyCode===13){linkAction.call(that,el,event)}}.bind(this))}},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){var clone=require(\"../util/clone\");var newUid=require(\"../uniqueid\");var trigger=require(\"../events/trigger\");module.exports=function(responseText,request,href,options){options=clone(options||this.options);options.request=request;if(responseText===false){trigger(document,\"pjax:complete pjax:error\",options);return}var currentState=window.history.state||{};window.history.replaceState({url:currentState.url||window.location.href,title:currentState.title||document.title,uid:currentState.uid||newUid(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var oldHref=href;if(request.responseURL){if(href!==request.responseURL){href=request.responseURL}}else if(request.getResponseHeader(\"X-PJAX-URL\")){href=request.getResponseHeader(\"X-PJAX-URL\")}else if(request.getResponseHeader(\"X-XHR-Redirected-To\")){href=request.getResponseHeader(\"X-XHR-Redirected-To\")}var a=document.createElement(\"a\");a.href=oldHref;var oldHash=a.hash;a.href=href;if(oldHash&&!a.hash){a.hash=oldHash;href=a.href}this.state.href=href;this.state.options=options;try{this.loadContent(responseText,options)}catch(e){trigger(document,\"pjax:error\",options);if(!this.options.debug){if(console&&console.error){console.error(\"Pjax switch fail: \",e)}return this.latestChance(href)}else{throw e}}}},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){module.exports=function(){if(this.options.debug&&console){if(typeof console.log===\"function\"){console.log.apply(console,arguments)}else if(console.log){console.log(arguments)}}}},{}],15:[function(require,module,exports){var attrState=\"data-pjax-state\";module.exports=function(el){switch(el.tagName.toLowerCase()){case\"a\":if(!el.hasAttribute(attrState)){this.attachLink(el)}break;case\"form\":if(!el.hasAttribute(attrState)){this.attachForm(el)}break;default:throw\"Pjax can only be applied on <a> or <form> submit\"}}},{}],16:[function(require,module,exports){var updateQueryString=require(\"./util/update-query-string\");module.exports=function(location,options,callback){options=options||{};var queryString;var requestOptions=options.requestOptions||{};var requestMethod=(requestOptions.requestMethod||\"GET\").toUpperCase();var requestParams=requestOptions.requestParams||null;var formData=requestOptions.formData||null;var requestPayload=null;var request=new XMLHttpRequest;var timeout=options.timeout||0;request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){callback(request.responseText,request,location,options)}else if(request.status!==0){callback(null,request,location,options)}}};request.onerror=function(e){console.log(e);callback(null,request,location,options)};request.ontimeout=function(){callback(null,request,location,options)};if(requestParams&&requestParams.length){queryString=requestParams.map(function(param){return param.name+\"=\"+param.value}).join(\"&\");switch(requestMethod){case\"GET\":location=location.split(\"?\")[0];location+=\"?\"+queryString;break;case\"POST\":requestPayload=queryString;break}}else if(formData){requestPayload=formData}if(options.cacheBust){location=updateQueryString(location,\"t\",Date.now())}request.open(requestMethod,location,true);request.timeout=timeout;request.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");request.setRequestHeader(\"X-PJAX\",\"true\");request.setRequestHeader(\"X-PJAX-Selectors\",JSON.stringify(options.selectors));if(requestPayload&&requestMethod===\"POST\"&&!formData){request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")}request.send(requestPayload);return request}},{\"./util/update-query-string\":24}],17:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var defaultSwitches=require(\"./switches\");module.exports=function(switches,switchesOptions,selectors,fromEl,toEl,options){var switchesQueue=[];selectors.forEach(function(selector){var newEls=fromEl.querySelectorAll(selector);var oldEls=toEl.querySelectorAll(selector);if(this.log){this.log(\"Pjax switch\",selector,newEls,oldEls)}if(newEls.length!==oldEls.length){throw\"DOM doesn’t look the same on new loaded page: ’\"+selector+\"’ - new \"+newEls.length+\", old \"+oldEls.length}forEachEls(newEls,function(newEl,i){var oldEl=oldEls[i];if(this.log){this.log(\"newEl\",newEl,\"oldEl\",oldEl)}var callback=switches[selector]?switches[selector].bind(this,oldEl,newEl,options,switchesOptions[selector]):defaultSwitches.outerHTML.bind(this,oldEl,newEl,options);switchesQueue.push(callback)},this)},this);this.state.numPendingSwitches=switchesQueue.length;switchesQueue.forEach(function(queuedSwitch){queuedSwitch()})}},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){var on=require(\"./events/on\");module.exports={outerHTML:function(oldEl,newEl){oldEl.outerHTML=newEl.outerHTML;this.onSwitch()},innerHTML:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.className===\"\"){oldEl.removeAttribute(\"class\")}else{}this.onSwitch()},switchElementsAlt:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.hasAttributes()){var attrs=newEl.attributes;for(var i=0;i<attrs.length;i++){oldEl.attributes.setNamedItem(attrs[i].cloneNode())}}this.onSwitch()},replaceNode:function(oldEl,newEl){oldEl.parentNode.replaceChild(newEl,oldEl);this.onSwitch()},sideBySide:function(oldEl,newEl,options,switchOptions){var forEach=Array.prototype.forEach;var elsToRemove=[];var elsToAdd=[];var fragToAppend=document.createDocumentFragment();var animationEventNames=\"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";var animatedElsNumber=0;var sexyAnimationEnd=function(e){if(e.target!==e.currentTarget){return}animatedElsNumber--;if(animatedElsNumber<=0&&elsToRemove){elsToRemove.forEach(function(el){if(el.parentNode){el.parentNode.removeChild(el)}});elsToAdd.forEach(function(el){el.className=el.className.replace(el.getAttribute(\"data-pjax-classes\"),\"\");el.removeAttribute(\"data-pjax-classes\")});elsToAdd=null;elsToRemove=null;this.onSwitch()}}.bind(this);switchOptions=switchOptions||{};forEach.call(oldEl.childNodes,function(el){elsToRemove.push(el);if(el.classList&&!el.classList.contains(\"js-Pjax-remove\")){if(el.hasAttribute(\"data-pjax-classes\")){el.className=el.className.replace(el.getAttribute(\"data-pjax-classes\"),\"\");el.removeAttribute(\"data-pjax-classes\")}el.classList.add(\"js-Pjax-remove\");if(switchOptions.callbacks&&switchOptions.callbacks.removeElement){switchOptions.callbacks.removeElement(el)}if(switchOptions.classNames){el.className+=\" \"+switchOptions.classNames.remove+\" \"+(options.backward?switchOptions.classNames.backward:switchOptions.classNames.forward)}animatedElsNumber++;on(el,animationEventNames,sexyAnimationEnd,true)}});forEach.call(newEl.childNodes,function(el){if(el.classList){var addClasses=\"\";if(switchOptions.classNames){addClasses=\" js-Pjax-add \"+switchOptions.classNames.add+\" \"+(options.backward?switchOptions.classNames.forward:switchOptions.classNames.backward)}if(switchOptions.callbacks&&switchOptions.callbacks.addElement){switchOptions.callbacks.addElement(el)}el.className+=addClasses;el.setAttribute(\"data-pjax-classes\",addClasses);elsToAdd.push(el);fragToAppend.appendChild(el);animatedElsNumber++;on(el,animationEventNames,sexyAnimationEnd,true)}});oldEl.className=newEl.className;oldEl.appendChild(fragToAppend)}}},{\"./events/on\":4}],19:[function(require,module,exports){module.exports=function(){var counter=0;return function(){var id=\"pjax\"+(new Date).getTime()+\"_\"+counter;counter++;return id}}()},{}],20:[function(require,module,exports){module.exports=function(obj){if(null===obj||\"object\"!==typeof obj){return obj}var copy=obj.constructor();for(var attr in obj){if(obj.hasOwnProperty(attr)){copy[attr]=obj[attr]}}return copy}},{}],21:[function(require,module,exports){module.exports=function contains(doc,selectors,el){for(var i=0;i<selectors.length;i++){var selectedEls=doc.querySelectorAll(selectors[i]);for(var j=0;j<selectedEls.length;j++){if(selectedEls[j].contains(el)){return true}}}return false}},{}],22:[function(require,module,exports){module.exports=function(target){if(target==null){return null}var to=Object(target);for(var i=1;i<arguments.length;i++){var source=arguments[i];if(source!=null){for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){to[key]=source[key]}}}}return to}},{}],23:[function(require,module,exports){module.exports=function(){}},{}],24:[function(require,module,exports){module.exports=function(uri,key,value){var re=new RegExp(\"([?&])\"+key+\"=.*?(&|$)\",\"i\");var separator=uri.indexOf(\"?\")!==-1?\"&\":\"?\";if(uri.match(re)){return uri.replace(re,\"$1\"+key+\"=\"+value+\"$2\")}else{return uri+separator+key+\"=\"+value}}},{}]},{},[1])(1)});","date":"2019-09-27T05:34:52.472Z","updated":"2019-09-27T05:34:52.472Z","path":"lib/pjax/pjax.min.js","layout":"false","title":"","comments":1,"_id":"ck11plkxh0007wk2xnnxsohcq","content":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){var executescripts=\"require(\"./lib/execute-scripts\");var\" foreachels=\"require(\"./lib/foreach-els\");var\" parseoptions=\"require(\"./lib/parse-options\");var\" switches=\"require(\"./lib/switches\");var\" newuid=\"require(\"./lib/uniqueid\");var\" on=\"require(\"./lib/events/on\");var\" trigger=\"require(\"./lib/events/trigger\");var\" clone=\"require(\"./lib/util/clone\");var\" contains=\"require(\"./lib/util/contains\");var\" extend=\"require(\"./lib/util/extend\");var\" noop=\"require(\"./lib/util/noop\");var\" pjax=\"function(options){this.state={numPendingSwitches:0,href:null,options:null};this.options=parseOptions(options);this.log(\"Pjax\" options\",this.options);if(this.options.scrollrestoration&&\"scrollrestoration\"in history){history.scrollrestoration=\"manual\" }this.maxuid=\"this.lastUid=newUid();this.parseDOM(document);on(window,\"popstate\",function(st){if(st.state){var\" opt=\"clone(this.options);opt.url=st.state.url;opt.title=st.state.title;opt.history=false;opt.scrollPos=st.state.scrollPos;if(st.state.uid<this.lastUid){opt.backward=true}else{opt.forward=true}this.lastUid=st.state.uid;this.loadUrl(st.state.url,opt)}}.bind(this))};Pjax.switches=switches;Pjax.prototype={log:require(\"./lib/proto/log\"),getElements:function(el){return\" el.queryselectorall(this.options.elements)},parsedom:function(el){var parseelement=\"require(\"./lib/proto/parse-element\");forEachEls(this.getElements(el),parseElement,this)},refresh:function(el){this.parseDOM(el||document)},reload:function(){window.location.reload()},attachLink:require(\"./lib/proto/attach-link\"),attachForm:require(\"./lib/proto/attach-form\"),forEachSelectors:function(cb,context,DOMcontext){return\" require(\". lib foreach-selectors\").bind(this)(this.options.selectors,cb,context,domcontext)},switchselectors:function(selectors,fromel,toel,options){return switches-selectors\").bind(this)(this.options.switches,this.options.switchesoptions,selectors,fromel,toel,options)},latestchance:function(href){window.location=\"href},onSwitch:function(){trigger(window,\"resize\" scroll\");this.state.numpendingswitches--;if(this.state.numpendingswitches=\"==0){this.afterAllSwitches()}},loadContent:function(html,options){if(typeof\" html!=\"=\"string\"){trigger(document,\"pjax:complete\" pjax:error\",options);return}var tmpel=\"document.implementation.createHTMLDocument(\"pjax\");var\" htmlregex=\"/<html[^\">]+>/gi;var htmlAttribsRegex=/\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;var matches=html.match(htmlRegex);if(matches&&matches.length){matches=matches[0].match(htmlAttribsRegex);if(matches.length){matches.shift();matches.forEach(function(htmlAttrib){var attr=htmlAttrib.trim().split(\"=\");if(attr.length===1){tmpEl.documentElement.setAttribute(attr[0],true)}else{tmpEl.documentElement.setAttribute(attr[0],attr[1].slice(1,-1))}})}}tmpEl.documentElement.innerHTML=html;this.log(\"load content\",tmpEl.documentElement.attributes,tmpEl.documentElement.innerHTML.length);if(document.activeElement&&contains(document,this.options.selectors,document.activeElement)){try{document.activeElement.blur()}catch(e){}}this.switchSelectors(this.options.selectors,tmpEl,document,options)},abortRequest:require(\"./lib/abort-request\"),doRequest:require(\"./lib/send-request\"),handleResponse:require(\"./lib/proto/handle-response\"),loadUrl:function(href,options){options=typeof options===\"object\"?extend({},this.options,options):clone(this.options);this.log(\"load href\",href,options);this.abortRequest(this.request);trigger(document,\"pjax:send\",options);this.request=this.doRequest(href,options,this.handleResponse.bind(this))},afterAllSwitches:function(){var autofocusEl=Array.prototype.slice.call(document.querySelectorAll(\"[autofocus]\")).pop();if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus()}this.options.selectors.forEach(function(selector){forEachEls(document.querySelectorAll(selector),function(el){})});var state=this.state;if(state.options.history){if(!window.history.state){this.lastUid=this.maxUid=newUid();window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)}this.lastUid=this.maxUid=newUid();window.history.pushState({url:state.href,title:state.options.title,uid:this.maxUid,scrollPos:[0,0]},state.options.title,state.href)}this.forEachSelectors(function(el){this.parseDOM(el)},this);trigger(document,\"pjax:complete pjax:success\",state.options);if(typeof state.options.analytics===\"function\"){state.options.analytics()}if(state.options.history){var a=document.createElement(\"a\");a.href=this.state.href;if(a.hash){var name=a.hash.slice(1);name=decodeURIComponent(name);var curtop=0;var target=document.getElementById(name)||document.getElementsByName(name)[0];if(target){if(target.offsetParent){do{curtop+=target.offsetTop;target=target.offsetParent}while(target)}}window.scrollTo(0,curtop)}else if(state.options.scrollTo!==false){if(state.options.scrollTo.length>1){window.scrollTo(state.options.scrollTo[0],state.options.scrollTo[1])}else{window.scrollTo(0,state.options.scrollTo)}}}else if(state.options.scrollRestoration&&state.options.scrollPos){window.scrollTo(state.options.scrollPos[0],state.options.scrollPos[1])}this.state={numPendingSwitches:0,href:null,options:null}}};Pjax.isSupported=require(\"./lib/is-supported\");if(Pjax.isSupported()){module.exports=Pjax}else{var stupidPjax=noop;for(var key in Pjax.prototype){if(Pjax.prototype.hasOwnProperty(key)&&typeof Pjax.prototype[key]===\"function\"){stupidPjax[key]=noop}}module.exports=stupidPjax}},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){var noop=require(\"./util/noop\");module.exports=function(request){if(request&&request.readyState<4){request.onreadystatechange=noop;request.abort()}}},{\". util noop\":23}],3:[function(require,module,exports){module.exports=\"function(el){var\" code=\"el.text||el.textContent||el.innerHTML||\"\";var\" src=\"el.src||\"\";var\" parent=\"el.parentNode||document.querySelector(\"head\")||document.documentElement;var\" script=\"document.createElement(\"script\");if(code.match(\"document.write\")){if(console&&console.log){console.log(\"Script\" contains document.write. can’t be executed correctly. skipped \",el)}return false}script.type=\"text/javascript\" ;script.id=\"el.id;if(src!==\"\"){script.src=src;script.async=false}if(code!==\"\"){try{script.appendChild(document.createTextNode(code))}catch(e){script.text=code}}parent.appendChild(script);if((parent\" instanceof htmlheadelement||parent htmlbodyelement)&&parent.contains(script)){parent.removechild(script)}return true}},{}],4:[function(require,module,exports){var foreachels=\"require(\"../foreach-els\");module.exports=function(els,events,listener,useCapture){events=typeof\" events=\"==\"string\"?events.split(\"\" \"):events;events.foreach(function(e){foreachels(els,function(el){el.addeventlistener(e,listener,usecapture)})})}},{\".. foreach-els\":7}],5:[function(require,module,exports){var \"):events;events.foreach(function(e){var event;event=\"document.createEvent(\"HTMLEvents\");event.initEvent(e,true,true);event.eventName=e;if(opts){Object.keys(opts).forEach(function(key){event[key]=opts[key]})}forEachEls(els,function(el){var\" domfix=\"false;if(!el.parentNode&&el!==document&&el!==window){domFix=true;document.body.appendChild(el)}el.dispatchEvent(event);if(domFix){el.parentNode.removeChild(el)}})})}},{\"../foreach-els\":7}],6:[function(require,module,exports){var\" evalscript=\"require(\"./eval-script\");module.exports=function(el){if(el.tagName.toLowerCase()===\"script\"){evalScript(el)}forEachEls(el.querySelectorAll(\"script\"),function(script){if(!script.type||script.type.toLowerCase()===\"text/javascript\"){if(script.parentNode){script.parentNode.removeChild(script)}evalScript(script)}})}},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){module.exports=function(els,fn,context){if(els\" htmlcollection||els nodelist||els array){return array.prototype.foreach.call(els,fn,context)}return fn.call(context,els)}},{}],8:[function(require,module,exports){var window.history&&window.history.pushstate&&window.history.replacestate&&!navigator.useragent.match( ((ipod|iphone|ipad).+\\bos\\s+[1-4]\\d|webapps\\ .+cfnetwork) )}},{}],10:[function(require,module,exports){var defaultswitches=\"require(\"./switches\");module.exports=function(options){options=options||{};options.elements=options.elements||\"a[href],\" form[action]\";options.selectors=\"options.selectors||[\"title\",\".js-Pjax\"];options.switches=options.switches||{};options.switchesOptions=options.switchesOptions||{};options.history=typeof\" options.history=\"==\"undefined\"?true:options.history;options.analytics=typeof\" options.analytics=\"==\"function\"||options.analytics===false?options.analytics:defaultAnalytics;options.scrollTo=typeof\" options.scrollto=\"==\"undefined\"?0:options.scrollTo;options.scrollRestoration=typeof\" options.scrollrestoration!=\"=\"undefined\"?options.scrollRestoration:true;options.cacheBust=typeof\" options.cachebust=\"==\"undefined\"?true:options.cacheBust;options.debug=options.debug||false;options.timeout=options.timeout||0;options.currentUrlFullReload=typeof\" options.currenturlfullreload=\"==\"undefined\"?false:options.currentUrlFullReload;if(!options.switches.head){options.switches.head=defaultSwitches.switchElementsAlt}if(!options.switches.body){options.switches.body=defaultSwitches.switchElementsAlt}return\" options};function defaultanalytics(){if(window._gaq){_gaq.push([\"_trackpageview\"])}if(window.ga){ga(\"send\",\"pageview\",{page:location.pathname,title:document.title})}}},{\". switches\":18}],11:[function(require,module,exports){var on=\"require(\"../events/on\");var\" clone=\"require(\"../util/clone\");var\" attrstate=\"data-pjax-state\" ;var formaction=\"function(el,event){if(isDefaultPrevented(event)){return}var\" options=\"clone(this.options);options.requestOptions={requestUrl:el.getAttribute(\"action\")||window.location.href,requestMethod:el.getAttribute(\"method\")||\"GET\"};var\" virtlinkelement=\"document.createElement(\"a\");virtLinkElement.setAttribute(\"href\",options.requestOptions.requestUrl);var\" attrvalue=\"checkIfShouldAbort(virtLinkElement,options);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(el.enctype===\"multipart/form-data\"){options.requestOptions.formData=new\" formdata(el)}else{options.requestoptions.requestparams=\"parseFormElements(el)}el.setAttribute(attrState,\"submit\");options.triggerElement=el;this.loadUrl(virtLinkElement.href,options)};function\" parseformelements(el){var requestparams=\"[];var\" formelements=\"el.elements;for(var\" i=\"0;i<formElements.length;i++){var\" element=\"formElements[i];var\" tagname=\"element.tagName.toLowerCase();if(!!element.name&&element.attributes!==undefined&&tagName!==\"button\"){var\" type=\"element.attributes.type;if(!type||type.value!==\"checkbox\"&&type.value!==\"radio\"||element.checked){var\" values=\"[];if(tagName===\"select\"){var\" opt;for(var j=\"0;j<element.options.length;j++){opt=element.options[j];if(opt.selected&&!opt.disabled){values.push(opt.hasAttribute(\"value\")?opt.value:opt.text)}}}else{values.push(element.value)}for(var\" k=\"0;k<values.length;k++){requestParams.push({name:encodeURIComponent(element.name),value:encodeURIComponent(values[k])})}}}}return\" requestparams}function checkifshouldabort(virtlinkelement,options){if(virtlinkelement.protocol!=\"=window.location.protocol||virtLinkElement.host!==window.location.host){return\"external\"}if(virtLinkElement.hash&&virtLinkElement.href.replace(virtLinkElement.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(virtLinkElement.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}if(options.currentUrlFullReload&&virtLinkElement.href===window.location.href.split(\"#\")[0]){return\"reload\"}}var\" isdefaultprevented=\"function(event){return\" event.defaultprevented||event.returnvalue=\"==false};module.exports=function(el){var\" that=\"this;el.setAttribute(attrState,\"\");on(el,\"submit\",function(event){formAction.call(that,el,event)})}},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){var\" linkaction=\"function(el,event){if(isDefaultPrevented(event)){return}var\" checkifshouldabort(el,event){if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey){return\"modifier\"}if(el.protocol!==window.location.protocol||el.host!==window.location.host){return\"external\"}if(el.hash&&el.href.replace(el.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(el.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"click\",function(event){linkAction.call(that,el,event)});on(el,\"keyup\",function(event){if(event.keyCode===13){linkAction.call(that,el,event)}}.bind(this))}},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){var clone=require(\"../util/clone\");var newUid=require(\"../uniqueid\");var trigger=require(\"../events/trigger\");module.exports=function(responseText,request,href,options){options=clone(options||this.options);options.request=request;if(responseText===false){trigger(document,\"pjax:complete pjax:error\",options);return}var currentState=window.history.state||{};window.history.replaceState({url:currentState.url||window.location.href,title:currentState.title||document.title,uid:currentState.uid||newUid(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var oldHref=href;if(request.responseURL){if(href!==request.responseURL){href=request.responseURL}}else if(request.getResponseHeader(\"X-PJAX-URL\")){href=request.getResponseHeader(\"X-PJAX-URL\")}else if(request.getResponseHeader(\"X-XHR-Redirected-To\")){href=request.getResponseHeader(\"X-XHR-Redirected-To\")}var a=document.createElement(\"a\");a.href=oldHref;var oldHash=a.hash;a.href=href;if(oldHash&&!a.hash){a.hash=oldHash;href=a.href}this.state.href=href;this.state.options=options;try{this.loadContent(responseText,options)}catch(e){trigger(document,\"pjax:error\",options);if(!this.options.debug){if(console&&console.error){console.error(\"Pjax switch fail: \",e)}return this.latestChance(href)}else{throw e}}}},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){module.exports=function(){if(this.options.debug&&console){if(typeof console.log===\"function\"){console.log.apply(console,arguments)}else if(console.log){console.log(arguments)}}}},{}],15:[function(require,module,exports){var attrState=\"data-pjax-state\";module.exports=function(el){switch(el.tagName.toLowerCase()){case\"a\":if(!el.hasAttribute(attrState)){this.attachLink(el)}break;case\"form\":if(!el.hasAttribute(attrState)){this.attachForm(el)}break;default:throw\"Pjax can only be applied on <a> or <form> submit\"}}},{}],16:[function(require,module,exports){var updateQueryString=require(\"./util/update-query-string\");module.exports=function(location,options,callback){options=options||{};var queryString;var requestOptions=options.requestOptions||{};var requestMethod=(requestOptions.requestMethod||\"GET\").toUpperCase();var requestParams=requestOptions.requestParams||null;var formData=requestOptions.formData||null;var requestPayload=null;var request=new XMLHttpRequest;var timeout=options.timeout||0;request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){callback(request.responseText,request,location,options)}else if(request.status!==0){callback(null,request,location,options)}}};request.onerror=function(e){console.log(e);callback(null,request,location,options)};request.ontimeout=function(){callback(null,request,location,options)};if(requestParams&&requestParams.length){queryString=requestParams.map(function(param){return param.name+\"=\"+param.value}).join(\"&\");switch(requestMethod){case\"GET\":location=location.split(\"?\")[0];location+=\"?\"+queryString;break;case\"POST\":requestPayload=queryString;break}}else if(formData){requestPayload=formData}if(options.cacheBust){location=updateQueryString(location,\"t\",Date.now())}request.open(requestMethod,location,true);request.timeout=timeout;request.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");request.setRequestHeader(\"X-PJAX\",\"true\");request.setRequestHeader(\"X-PJAX-Selectors\",JSON.stringify(options.selectors));if(requestPayload&&requestMethod===\"POST\"&&!formData){request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")}request.send(requestPayload);return request}},{\"./util/update-query-string\":24}],17:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var defaultSwitches=require(\"./switches\");module.exports=function(switches,switchesOptions,selectors,fromEl,toEl,options){var switchesQueue=[];selectors.forEach(function(selector){var newEls=fromEl.querySelectorAll(selector);var oldEls=toEl.querySelectorAll(selector);if(this.log){this.log(\"Pjax switch\",selector,newEls,oldEls)}if(newEls.length!==oldEls.length){throw\"DOM doesn’t look the same on new loaded page: ’\"+selector+\"’ - new \"+newEls.length+\", old \"+oldEls.length}forEachEls(newEls,function(newEl,i){var oldEl=oldEls[i];if(this.log){this.log(\"newEl\",newEl,\"oldEl\",oldEl)}var callback=switches[selector]?switches[selector].bind(this,oldEl,newEl,options,switchesOptions[selector]):defaultSwitches.outerHTML.bind(this,oldEl,newEl,options);switchesQueue.push(callback)},this)},this);this.state.numPendingSwitches=switchesQueue.length;switchesQueue.forEach(function(queuedSwitch){queuedSwitch()})}},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){var on=require(\"./events/on\");module.exports={outerHTML:function(oldEl,newEl){oldEl.outerHTML=newEl.outerHTML;this.onSwitch()},innerHTML:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.className===\"\"){oldEl.removeAttribute(\"class\")}else{}this.onSwitch()},switchElementsAlt:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.hasAttributes()){var attrs=newEl.attributes;for(var i=0;i</form></a></4){request.onreadystatechange=noop;request.abort()}}},{\".></t.length;i++)o(t[i]);return>","site":{"data":{}},"excerpt":"","more":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){var executescripts=\"require(\"./lib/execute-scripts\");var\" foreachels=\"require(\"./lib/foreach-els\");var\" parseoptions=\"require(\"./lib/parse-options\");var\" switches=\"require(\"./lib/switches\");var\" newuid=\"require(\"./lib/uniqueid\");var\" on=\"require(\"./lib/events/on\");var\" trigger=\"require(\"./lib/events/trigger\");var\" clone=\"require(\"./lib/util/clone\");var\" contains=\"require(\"./lib/util/contains\");var\" extend=\"require(\"./lib/util/extend\");var\" noop=\"require(\"./lib/util/noop\");var\" pjax=\"function(options){this.state={numPendingSwitches:0,href:null,options:null};this.options=parseOptions(options);this.log(\"Pjax\" options\",this.options);if(this.options.scrollrestoration&&\"scrollrestoration\"in history){history.scrollrestoration=\"manual\" }this.maxuid=\"this.lastUid=newUid();this.parseDOM(document);on(window,\"popstate\",function(st){if(st.state){var\" opt=\"clone(this.options);opt.url=st.state.url;opt.title=st.state.title;opt.history=false;opt.scrollPos=st.state.scrollPos;if(st.state.uid<this.lastUid){opt.backward=true}else{opt.forward=true}this.lastUid=st.state.uid;this.loadUrl(st.state.url,opt)}}.bind(this))};Pjax.switches=switches;Pjax.prototype={log:require(\"./lib/proto/log\"),getElements:function(el){return\" el.queryselectorall(this.options.elements)},parsedom:function(el){var parseelement=\"require(\"./lib/proto/parse-element\");forEachEls(this.getElements(el),parseElement,this)},refresh:function(el){this.parseDOM(el||document)},reload:function(){window.location.reload()},attachLink:require(\"./lib/proto/attach-link\"),attachForm:require(\"./lib/proto/attach-form\"),forEachSelectors:function(cb,context,DOMcontext){return\" require(\". lib foreach-selectors\").bind(this)(this.options.selectors,cb,context,domcontext)},switchselectors:function(selectors,fromel,toel,options){return switches-selectors\").bind(this)(this.options.switches,this.options.switchesoptions,selectors,fromel,toel,options)},latestchance:function(href){window.location=\"href},onSwitch:function(){trigger(window,\"resize\" scroll\");this.state.numpendingswitches--;if(this.state.numpendingswitches=\"==0){this.afterAllSwitches()}},loadContent:function(html,options){if(typeof\" html!=\"=\"string\"){trigger(document,\"pjax:complete\" pjax:error\",options);return}var tmpel=\"document.implementation.createHTMLDocument(\"pjax\");var\" htmlregex=\"/<html[^\">]+>/gi;var htmlAttribsRegex=/\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;var matches=html.match(htmlRegex);if(matches&&matches.length){matches=matches[0].match(htmlAttribsRegex);if(matches.length){matches.shift();matches.forEach(function(htmlAttrib){var attr=htmlAttrib.trim().split(\"=\");if(attr.length===1){tmpEl.documentElement.setAttribute(attr[0],true)}else{tmpEl.documentElement.setAttribute(attr[0],attr[1].slice(1,-1))}})}}tmpEl.documentElement.innerHTML=html;this.log(\"load content\",tmpEl.documentElement.attributes,tmpEl.documentElement.innerHTML.length);if(document.activeElement&&contains(document,this.options.selectors,document.activeElement)){try{document.activeElement.blur()}catch(e){}}this.switchSelectors(this.options.selectors,tmpEl,document,options)},abortRequest:require(\"./lib/abort-request\"),doRequest:require(\"./lib/send-request\"),handleResponse:require(\"./lib/proto/handle-response\"),loadUrl:function(href,options){options=typeof options===\"object\"?extend({},this.options,options):clone(this.options);this.log(\"load href\",href,options);this.abortRequest(this.request);trigger(document,\"pjax:send\",options);this.request=this.doRequest(href,options,this.handleResponse.bind(this))},afterAllSwitches:function(){var autofocusEl=Array.prototype.slice.call(document.querySelectorAll(\"[autofocus]\")).pop();if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus()}this.options.selectors.forEach(function(selector){forEachEls(document.querySelectorAll(selector),function(el){})});var state=this.state;if(state.options.history){if(!window.history.state){this.lastUid=this.maxUid=newUid();window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)}this.lastUid=this.maxUid=newUid();window.history.pushState({url:state.href,title:state.options.title,uid:this.maxUid,scrollPos:[0,0]},state.options.title,state.href)}this.forEachSelectors(function(el){this.parseDOM(el)},this);trigger(document,\"pjax:complete pjax:success\",state.options);if(typeof state.options.analytics===\"function\"){state.options.analytics()}if(state.options.history){var a=document.createElement(\"a\");a.href=this.state.href;if(a.hash){var name=a.hash.slice(1);name=decodeURIComponent(name);var curtop=0;var target=document.getElementById(name)||document.getElementsByName(name)[0];if(target){if(target.offsetParent){do{curtop+=target.offsetTop;target=target.offsetParent}while(target)}}window.scrollTo(0,curtop)}else if(state.options.scrollTo!==false){if(state.options.scrollTo.length>1){window.scrollTo(state.options.scrollTo[0],state.options.scrollTo[1])}else{window.scrollTo(0,state.options.scrollTo)}}}else if(state.options.scrollRestoration&&state.options.scrollPos){window.scrollTo(state.options.scrollPos[0],state.options.scrollPos[1])}this.state={numPendingSwitches:0,href:null,options:null}}};Pjax.isSupported=require(\"./lib/is-supported\");if(Pjax.isSupported()){module.exports=Pjax}else{var stupidPjax=noop;for(var key in Pjax.prototype){if(Pjax.prototype.hasOwnProperty(key)&&typeof Pjax.prototype[key]===\"function\"){stupidPjax[key]=noop}}module.exports=stupidPjax}},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){var noop=require(\"./util/noop\");module.exports=function(request){if(request&&request.readyState<4){request.onreadystatechange=noop;request.abort()}}},{\". util noop\":23}],3:[function(require,module,exports){module.exports=\"function(el){var\" code=\"el.text||el.textContent||el.innerHTML||\"\";var\" src=\"el.src||\"\";var\" parent=\"el.parentNode||document.querySelector(\"head\")||document.documentElement;var\" script=\"document.createElement(\"script\");if(code.match(\"document.write\")){if(console&&console.log){console.log(\"Script\" contains document.write. can’t be executed correctly. skipped \",el)}return false}script.type=\"text/javascript\" ;script.id=\"el.id;if(src!==\"\"){script.src=src;script.async=false}if(code!==\"\"){try{script.appendChild(document.createTextNode(code))}catch(e){script.text=code}}parent.appendChild(script);if((parent\" instanceof htmlheadelement||parent htmlbodyelement)&&parent.contains(script)){parent.removechild(script)}return true}},{}],4:[function(require,module,exports){var foreachels=\"require(\"../foreach-els\");module.exports=function(els,events,listener,useCapture){events=typeof\" events=\"==\"string\"?events.split(\"\" \"):events;events.foreach(function(e){foreachels(els,function(el){el.addeventlistener(e,listener,usecapture)})})}},{\".. foreach-els\":7}],5:[function(require,module,exports){var \"):events;events.foreach(function(e){var event;event=\"document.createEvent(\"HTMLEvents\");event.initEvent(e,true,true);event.eventName=e;if(opts){Object.keys(opts).forEach(function(key){event[key]=opts[key]})}forEachEls(els,function(el){var\" domfix=\"false;if(!el.parentNode&&el!==document&&el!==window){domFix=true;document.body.appendChild(el)}el.dispatchEvent(event);if(domFix){el.parentNode.removeChild(el)}})})}},{\"../foreach-els\":7}],6:[function(require,module,exports){var\" evalscript=\"require(\"./eval-script\");module.exports=function(el){if(el.tagName.toLowerCase()===\"script\"){evalScript(el)}forEachEls(el.querySelectorAll(\"script\"),function(script){if(!script.type||script.type.toLowerCase()===\"text/javascript\"){if(script.parentNode){script.parentNode.removeChild(script)}evalScript(script)}})}},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){module.exports=function(els,fn,context){if(els\" htmlcollection||els nodelist||els array){return array.prototype.foreach.call(els,fn,context)}return fn.call(context,els)}},{}],8:[function(require,module,exports){var window.history&&window.history.pushstate&&window.history.replacestate&&!navigator.useragent.match( ((ipod|iphone|ipad).+\\bos\\s+[1-4]\\d|webapps\\ .+cfnetwork) )}},{}],10:[function(require,module,exports){var defaultswitches=\"require(\"./switches\");module.exports=function(options){options=options||{};options.elements=options.elements||\"a[href],\" form[action]\";options.selectors=\"options.selectors||[\"title\",\".js-Pjax\"];options.switches=options.switches||{};options.switchesOptions=options.switchesOptions||{};options.history=typeof\" options.history=\"==\"undefined\"?true:options.history;options.analytics=typeof\" options.analytics=\"==\"function\"||options.analytics===false?options.analytics:defaultAnalytics;options.scrollTo=typeof\" options.scrollto=\"==\"undefined\"?0:options.scrollTo;options.scrollRestoration=typeof\" options.scrollrestoration!=\"=\"undefined\"?options.scrollRestoration:true;options.cacheBust=typeof\" options.cachebust=\"==\"undefined\"?true:options.cacheBust;options.debug=options.debug||false;options.timeout=options.timeout||0;options.currentUrlFullReload=typeof\" options.currenturlfullreload=\"==\"undefined\"?false:options.currentUrlFullReload;if(!options.switches.head){options.switches.head=defaultSwitches.switchElementsAlt}if(!options.switches.body){options.switches.body=defaultSwitches.switchElementsAlt}return\" options};function defaultanalytics(){if(window._gaq){_gaq.push([\"_trackpageview\"])}if(window.ga){ga(\"send\",\"pageview\",{page:location.pathname,title:document.title})}}},{\". switches\":18}],11:[function(require,module,exports){var on=\"require(\"../events/on\");var\" clone=\"require(\"../util/clone\");var\" attrstate=\"data-pjax-state\" ;var formaction=\"function(el,event){if(isDefaultPrevented(event)){return}var\" options=\"clone(this.options);options.requestOptions={requestUrl:el.getAttribute(\"action\")||window.location.href,requestMethod:el.getAttribute(\"method\")||\"GET\"};var\" virtlinkelement=\"document.createElement(\"a\");virtLinkElement.setAttribute(\"href\",options.requestOptions.requestUrl);var\" attrvalue=\"checkIfShouldAbort(virtLinkElement,options);if(attrValue){el.setAttribute(attrState,attrValue);return}event.preventDefault();if(el.enctype===\"multipart/form-data\"){options.requestOptions.formData=new\" formdata(el)}else{options.requestoptions.requestparams=\"parseFormElements(el)}el.setAttribute(attrState,\"submit\");options.triggerElement=el;this.loadUrl(virtLinkElement.href,options)};function\" parseformelements(el){var requestparams=\"[];var\" formelements=\"el.elements;for(var\" i=\"0;i<formElements.length;i++){var\" element=\"formElements[i];var\" tagname=\"element.tagName.toLowerCase();if(!!element.name&&element.attributes!==undefined&&tagName!==\"button\"){var\" type=\"element.attributes.type;if(!type||type.value!==\"checkbox\"&&type.value!==\"radio\"||element.checked){var\" values=\"[];if(tagName===\"select\"){var\" opt;for(var j=\"0;j<element.options.length;j++){opt=element.options[j];if(opt.selected&&!opt.disabled){values.push(opt.hasAttribute(\"value\")?opt.value:opt.text)}}}else{values.push(element.value)}for(var\" k=\"0;k<values.length;k++){requestParams.push({name:encodeURIComponent(element.name),value:encodeURIComponent(values[k])})}}}}return\" requestparams}function checkifshouldabort(virtlinkelement,options){if(virtlinkelement.protocol!=\"=window.location.protocol||virtLinkElement.host!==window.location.host){return\"external\"}if(virtLinkElement.hash&&virtLinkElement.href.replace(virtLinkElement.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(virtLinkElement.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}if(options.currentUrlFullReload&&virtLinkElement.href===window.location.href.split(\"#\")[0]){return\"reload\"}}var\" isdefaultprevented=\"function(event){return\" event.defaultprevented||event.returnvalue=\"==false};module.exports=function(el){var\" that=\"this;el.setAttribute(attrState,\"\");on(el,\"submit\",function(event){formAction.call(that,el,event)})}},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){var\" linkaction=\"function(el,event){if(isDefaultPrevented(event)){return}var\" checkifshouldabort(el,event){if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey){return\"modifier\"}if(el.protocol!==window.location.protocol||el.host!==window.location.host){return\"external\"}if(el.hash&&el.href.replace(el.hash,\"\")===window.location.href.replace(location.hash,\"\")){return\"anchor\"}if(el.href===window.location.href.split(\"#\")[0]+\"#\"){return\"anchor-empty\"}}var isDefaultPrevented=function(event){return event.defaultPrevented||event.returnValue===false};module.exports=function(el){var that=this;el.setAttribute(attrState,\"\");on(el,\"click\",function(event){linkAction.call(that,el,event)});on(el,\"keyup\",function(event){if(event.keyCode===13){linkAction.call(that,el,event)}}.bind(this))}},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){var clone=require(\"../util/clone\");var newUid=require(\"../uniqueid\");var trigger=require(\"../events/trigger\");module.exports=function(responseText,request,href,options){options=clone(options||this.options);options.request=request;if(responseText===false){trigger(document,\"pjax:complete pjax:error\",options);return}var currentState=window.history.state||{};window.history.replaceState({url:currentState.url||window.location.href,title:currentState.title||document.title,uid:currentState.uid||newUid(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var oldHref=href;if(request.responseURL){if(href!==request.responseURL){href=request.responseURL}}else if(request.getResponseHeader(\"X-PJAX-URL\")){href=request.getResponseHeader(\"X-PJAX-URL\")}else if(request.getResponseHeader(\"X-XHR-Redirected-To\")){href=request.getResponseHeader(\"X-XHR-Redirected-To\")}var a=document.createElement(\"a\");a.href=oldHref;var oldHash=a.hash;a.href=href;if(oldHash&&!a.hash){a.hash=oldHash;href=a.href}this.state.href=href;this.state.options=options;try{this.loadContent(responseText,options)}catch(e){trigger(document,\"pjax:error\",options);if(!this.options.debug){if(console&&console.error){console.error(\"Pjax switch fail: \",e)}return this.latestChance(href)}else{throw e}}}},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){module.exports=function(){if(this.options.debug&&console){if(typeof console.log===\"function\"){console.log.apply(console,arguments)}else if(console.log){console.log(arguments)}}}},{}],15:[function(require,module,exports){var attrState=\"data-pjax-state\";module.exports=function(el){switch(el.tagName.toLowerCase()){case\"a\":if(!el.hasAttribute(attrState)){this.attachLink(el)}break;case\"form\":if(!el.hasAttribute(attrState)){this.attachForm(el)}break;default:throw\"Pjax can only be applied on <a> or <form> submit\"}}},{}],16:[function(require,module,exports){var updateQueryString=require(\"./util/update-query-string\");module.exports=function(location,options,callback){options=options||{};var queryString;var requestOptions=options.requestOptions||{};var requestMethod=(requestOptions.requestMethod||\"GET\").toUpperCase();var requestParams=requestOptions.requestParams||null;var formData=requestOptions.formData||null;var requestPayload=null;var request=new XMLHttpRequest;var timeout=options.timeout||0;request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200){callback(request.responseText,request,location,options)}else if(request.status!==0){callback(null,request,location,options)}}};request.onerror=function(e){console.log(e);callback(null,request,location,options)};request.ontimeout=function(){callback(null,request,location,options)};if(requestParams&&requestParams.length){queryString=requestParams.map(function(param){return param.name+\"=\"+param.value}).join(\"&\");switch(requestMethod){case\"GET\":location=location.split(\"?\")[0];location+=\"?\"+queryString;break;case\"POST\":requestPayload=queryString;break}}else if(formData){requestPayload=formData}if(options.cacheBust){location=updateQueryString(location,\"t\",Date.now())}request.open(requestMethod,location,true);request.timeout=timeout;request.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");request.setRequestHeader(\"X-PJAX\",\"true\");request.setRequestHeader(\"X-PJAX-Selectors\",JSON.stringify(options.selectors));if(requestPayload&&requestMethod===\"POST\"&&!formData){request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")}request.send(requestPayload);return request}},{\"./util/update-query-string\":24}],17:[function(require,module,exports){var forEachEls=require(\"./foreach-els\");var defaultSwitches=require(\"./switches\");module.exports=function(switches,switchesOptions,selectors,fromEl,toEl,options){var switchesQueue=[];selectors.forEach(function(selector){var newEls=fromEl.querySelectorAll(selector);var oldEls=toEl.querySelectorAll(selector);if(this.log){this.log(\"Pjax switch\",selector,newEls,oldEls)}if(newEls.length!==oldEls.length){throw\"DOM doesn’t look the same on new loaded page: ’\"+selector+\"’ - new \"+newEls.length+\", old \"+oldEls.length}forEachEls(newEls,function(newEl,i){var oldEl=oldEls[i];if(this.log){this.log(\"newEl\",newEl,\"oldEl\",oldEl)}var callback=switches[selector]?switches[selector].bind(this,oldEl,newEl,options,switchesOptions[selector]):defaultSwitches.outerHTML.bind(this,oldEl,newEl,options);switchesQueue.push(callback)},this)},this);this.state.numPendingSwitches=switchesQueue.length;switchesQueue.forEach(function(queuedSwitch){queuedSwitch()})}},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){var on=require(\"./events/on\");module.exports={outerHTML:function(oldEl,newEl){oldEl.outerHTML=newEl.outerHTML;this.onSwitch()},innerHTML:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.className===\"\"){oldEl.removeAttribute(\"class\")}else{}this.onSwitch()},switchElementsAlt:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML;if(newEl.hasAttributes()){var attrs=newEl.attributes;for(var i=0;i</form></a></4){request.onreadystatechange=noop;request.abort()}}},{\".></t.length;i++)o(t[i]);return>"},{"_content":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar executeScripts = require(\"./lib/execute-scripts\");\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        //executeScripts(el);\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n\n},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){\nvar noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n\n},{\"./util/noop\":23}],3:[function(require,module,exports){\nmodule.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n\n},{}],4:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],5:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],6:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n\n},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){\n/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n\n},{}],8:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n\n},{\"./foreach-els\":7}],9:[function(require,module,exports){\nmodule.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n\n},{}],10:[function(require,module,exports){\n/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n\n},{\"./switches\":18}],11:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){\nvar clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n\n},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){\nmodule.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n\n},{}],15:[function(require,module,exports){\nvar attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n\n},{}],16:[function(require,module,exports){\nvar updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n\n},{\"./util/update-query-string\":24}],17:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n\n},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){\nvar on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and <body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber <= 0 && elsToRemove) {\n        elsToRemove.forEach(function(el) {\n          // browsing quickly can make the el\n          // already removed by last page update ?\n          if (el.parentNode) {\n            el.parentNode.removeChild(el);\n          }\n        });\n\n        elsToAdd.forEach(function(el) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        });\n\n        elsToAdd = null; // free memory\n        elsToRemove = null; // free memory\n\n        // this is to trigger some repaint (example: picturefill)\n        this.onSwitch();\n      }\n    }.bind(this);\n\n    switchOptions = switchOptions || {};\n\n    forEach.call(oldEl.childNodes, function(el) {\n      elsToRemove.push(el);\n      if (el.classList && !el.classList.contains(\"js-Pjax-remove\")) {\n        // for fast switch, clean element that just have been added, & not cleaned yet.\n        if (el.hasAttribute(\"data-pjax-classes\")) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        }\n        el.classList.add(\"js-Pjax-remove\");\n        if (switchOptions.callbacks && switchOptions.callbacks.removeElement) {\n          switchOptions.callbacks.removeElement(el);\n        }\n        if (switchOptions.classNames) {\n          el.className +=\n            \" \" +\n            switchOptions.classNames.remove +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.backward\n              : switchOptions.classNames.forward);\n        }\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    forEach.call(newEl.childNodes, function(el) {\n      if (el.classList) {\n        var addClasses = \"\";\n        if (switchOptions.classNames) {\n          addClasses =\n            \" js-Pjax-add \" +\n            switchOptions.classNames.add +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.forward\n              : switchOptions.classNames.backward);\n        }\n        if (switchOptions.callbacks && switchOptions.callbacks.addElement) {\n          switchOptions.callbacks.addElement(el);\n        }\n        el.className += addClasses;\n        el.setAttribute(\"data-pjax-classes\", addClasses);\n        elsToAdd.push(el);\n        fragToAppend.appendChild(el);\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    // pass all className of the parent\n    oldEl.className = newEl.className;\n    oldEl.appendChild(fragToAppend);\n  }\n};\n\n},{\"./events/on\":4}],19:[function(require,module,exports){\nmodule.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n\n},{}],20:[function(require,module,exports){\nmodule.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n\n},{}],21:[function(require,module,exports){\nmodule.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n},{}],22:[function(require,module,exports){\nmodule.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n\n},{}],23:[function(require,module,exports){\nmodule.exports = function() {};\n\n},{}],24:[function(require,module,exports){\nmodule.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n\n},{}]},{},[1])(1)\n});\n","source":"lib/pjax/pjax.js","raw":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar executeScripts = require(\"./lib/execute-scripts\");\nvar forEachEls = require(\"./lib/foreach-els\");\nvar parseOptions = require(\"./lib/parse-options\");\nvar switches = require(\"./lib/switches\");\nvar newUid = require(\"./lib/uniqueid\");\n\nvar on = require(\"./lib/events/on\");\nvar trigger = require(\"./lib/events/trigger\");\n\nvar clone = require(\"./lib/util/clone\");\nvar contains = require(\"./lib/util/contains\");\nvar extend = require(\"./lib/util/extend\");\nvar noop = require(\"./lib/util/noop\");\n\nvar Pjax = function(options) {\n  this.state = {\n    numPendingSwitches: 0,\n    href: null,\n    options: null\n  };\n\n  this.options = parseOptions(options);\n  this.log(\"Pjax options\", this.options);\n\n  if (this.options.scrollRestoration && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n\n  this.maxUid = this.lastUid = newUid();\n\n  this.parseDOM(document);\n\n  on(\n    window,\n    \"popstate\",\n    function(st) {\n      if (st.state) {\n        var opt = clone(this.options);\n        opt.url = st.state.url;\n        opt.title = st.state.title;\n        // Since state already exists, prevent it from being pushed again\n        opt.history = false;\n        opt.scrollPos = st.state.scrollPos;\n        if (st.state.uid < this.lastUid) {\n          opt.backward = true;\n        } else {\n          opt.forward = true;\n        }\n        this.lastUid = st.state.uid;\n\n        // @todo implement history cache here, based on uid\n        this.loadUrl(st.state.url, opt);\n      }\n    }.bind(this)\n  );\n};\n\nPjax.switches = switches;\n\nPjax.prototype = {\n  log: require(\"./lib/proto/log\"),\n\n  getElements: function(el) {\n    return el.querySelectorAll(this.options.elements);\n  },\n\n  parseDOM: function(el) {\n    var parseElement = require(\"./lib/proto/parse-element\");\n    forEachEls(this.getElements(el), parseElement, this);\n  },\n\n  refresh: function(el) {\n    this.parseDOM(el || document);\n  },\n\n  reload: function() {\n    window.location.reload();\n  },\n\n  attachLink: require(\"./lib/proto/attach-link\"),\n\n  attachForm: require(\"./lib/proto/attach-form\"),\n\n  forEachSelectors: function(cb, context, DOMcontext) {\n    return require(\"./lib/foreach-selectors\").bind(this)(\n      this.options.selectors,\n      cb,\n      context,\n      DOMcontext\n    );\n  },\n\n  switchSelectors: function(selectors, fromEl, toEl, options) {\n    return require(\"./lib/switches-selectors\").bind(this)(\n      this.options.switches,\n      this.options.switchesOptions,\n      selectors,\n      fromEl,\n      toEl,\n      options\n    );\n  },\n\n  latestChance: function(href) {\n    window.location = href;\n  },\n\n  onSwitch: function() {\n    trigger(window, \"resize scroll\");\n\n    this.state.numPendingSwitches--;\n\n    // debounce calls, so we only run this once after all switches are finished.\n    if (this.state.numPendingSwitches === 0) {\n      this.afterAllSwitches();\n    }\n  },\n\n  loadContent: function(html, options) {\n    if (typeof html !== \"string\") {\n      trigger(document, \"pjax:complete pjax:error\", options);\n\n      return;\n    }\n\n    var tmpEl = document.implementation.createHTMLDocument(\"pjax\");\n\n    // parse HTML attributes to copy them\n    // since we are forced to use documentElement.innerHTML (outerHTML can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        //executeScripts(el);\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n\n},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){\nvar noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n\n},{\"./util/noop\":23}],3:[function(require,module,exports){\nmodule.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n\n},{}],4:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],5:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],6:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n\n},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){\n/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n\n},{}],8:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n\n},{\"./foreach-els\":7}],9:[function(require,module,exports){\nmodule.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n\n},{}],10:[function(require,module,exports){\n/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n\n},{\"./switches\":18}],11:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){\nvar clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n\n},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){\nmodule.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n\n},{}],15:[function(require,module,exports){\nvar attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n\n},{}],16:[function(require,module,exports){\nvar updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n\n},{\"./util/update-query-string\":24}],17:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n\n},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){\nvar on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and <body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber <= 0 && elsToRemove) {\n        elsToRemove.forEach(function(el) {\n          // browsing quickly can make the el\n          // already removed by last page update ?\n          if (el.parentNode) {\n            el.parentNode.removeChild(el);\n          }\n        });\n\n        elsToAdd.forEach(function(el) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        });\n\n        elsToAdd = null; // free memory\n        elsToRemove = null; // free memory\n\n        // this is to trigger some repaint (example: picturefill)\n        this.onSwitch();\n      }\n    }.bind(this);\n\n    switchOptions = switchOptions || {};\n\n    forEach.call(oldEl.childNodes, function(el) {\n      elsToRemove.push(el);\n      if (el.classList && !el.classList.contains(\"js-Pjax-remove\")) {\n        // for fast switch, clean element that just have been added, & not cleaned yet.\n        if (el.hasAttribute(\"data-pjax-classes\")) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        }\n        el.classList.add(\"js-Pjax-remove\");\n        if (switchOptions.callbacks && switchOptions.callbacks.removeElement) {\n          switchOptions.callbacks.removeElement(el);\n        }\n        if (switchOptions.classNames) {\n          el.className +=\n            \" \" +\n            switchOptions.classNames.remove +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.backward\n              : switchOptions.classNames.forward);\n        }\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    forEach.call(newEl.childNodes, function(el) {\n      if (el.classList) {\n        var addClasses = \"\";\n        if (switchOptions.classNames) {\n          addClasses =\n            \" js-Pjax-add \" +\n            switchOptions.classNames.add +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.forward\n              : switchOptions.classNames.backward);\n        }\n        if (switchOptions.callbacks && switchOptions.callbacks.addElement) {\n          switchOptions.callbacks.addElement(el);\n        }\n        el.className += addClasses;\n        el.setAttribute(\"data-pjax-classes\", addClasses);\n        elsToAdd.push(el);\n        fragToAppend.appendChild(el);\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    // pass all className of the parent\n    oldEl.className = newEl.className;\n    oldEl.appendChild(fragToAppend);\n  }\n};\n\n},{\"./events/on\":4}],19:[function(require,module,exports){\nmodule.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n\n},{}],20:[function(require,module,exports){\nmodule.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n\n},{}],21:[function(require,module,exports){\nmodule.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n},{}],22:[function(require,module,exports){\nmodule.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n\n},{}],23:[function(require,module,exports){\nmodule.exports = function() {};\n\n},{}],24:[function(require,module,exports){\nmodule.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n\n},{}]},{},[1])(1)\n});\n","date":"2019-09-27T05:34:52.472Z","updated":"2019-09-27T05:34:52.472Z","path":"lib/pjax/pjax.js","layout":"false","title":"","comments":1,"_id":"ck11plkxh0008wk2xmex13h7e","content":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){ var executescripts=\"require(\"./lib/execute-scripts\");\" foreachels=\"require(\"./lib/foreach-els\");\" parseoptions=\"require(\"./lib/parse-options\");\" switches=\"require(\"./lib/switches\");\" newuid=\"require(\"./lib/uniqueid\");\" on=\"require(\"./lib/events/on\");\" trigger=\"require(\"./lib/events/trigger\");\" clone=\"require(\"./lib/util/clone\");\" contains=\"require(\"./lib/util/contains\");\" extend=\"require(\"./lib/util/extend\");\" noop=\"require(\"./lib/util/noop\");\" pjax=\"function(options)\" { this.state=\"{\" numpendingswitches: 0, href: null, options: null }; this.options=\"parseOptions(options);\" this.log(\"pjax options\", this.options); if (this.options.scrollrestoration && \"scrollrestoration\" in history) history.scrollrestoration=\"manual\" ; } this.maxuid=\"this.lastUid\" = newuid(); this.parsedom(document); on( window, \"popstate\", function(st) (st.state) opt=\"clone(this.options);\" opt.url=\"st.state.url;\" opt.title=\"st.state.title;\" since state already exists, prevent it from being pushed again opt.history=\"false;\" opt.scrollpos=\"st.state.scrollPos;\" (st.state.uid < this.lastuid) opt.backward=\"true;\" else opt.forward=\"true;\" this.lastuid=\"st.state.uid;\" @todo implement history cache here, based uid this.loadurl(st.state.url, opt); }.bind(this) ); pjax.switches=\"switches;\" pjax.prototype=\"{\" log: require(\". lib proto log\"), getelements: function(el) return el.queryselectorall(this.options.elements); }, parsedom: parseelement=\"require(\"./lib/proto/parse-element\");\" foreachels(this.getelements(el), parseelement, this); refresh: this.parsedom(el || document); reload: function() window.location.reload(); attachlink: attach-link\"), attachform: attach-form\"), foreachselectors: function(cb, context, domcontext) foreach-selectors\").bind(this)( this.options.selectors, cb, domcontext switchselectors: function(selectors, fromel, toel, options) switches-selectors\").bind(this)( this.options.switches, this.options.switchesoptions, selectors, options latestchance: function(href) window.location=\"href;\" onswitch: trigger(window, \"resize scroll\"); this.state.numpendingswitches--; debounce calls, so we only run this once after all are finished. (this.state.numpendingswitches=\"==\" 0) this.afterallswitches(); loadcontent: function(html, (typeof html !=\"=\" \"string\") trigger(document, \"pjax:complete pjax:error\", options); return; tmpel=\"document.implementation.createHTMLDocument(\"pjax\");\" parse attributes to copy them forced use documentelement.innerhtml (outerhtml can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        //executeScripts(el);\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n\n},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){\nvar noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n\n},{\"./util/noop\":23}],3:[function(require,module,exports){\nmodule.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n\n},{}],4:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],5:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],6:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n\n},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){\n/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n\n},{}],8:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n\n},{\"./foreach-els\":7}],9:[function(require,module,exports){\nmodule.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n\n},{}],10:[function(require,module,exports){\n/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n\n},{\"./switches\":18}],11:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){\nvar clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n\n},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){\nmodule.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n\n},{}],15:[function(require,module,exports){\nvar attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n\n},{}],16:[function(require,module,exports){\nvar updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n\n},{\"./util/update-query-string\":24}],17:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n\n},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){\nvar on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and </head><body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber </body></form></a></html[^></t.length;i++)o(t[i]);return>","site":{"data":{}},"excerpt":"","more":"(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pjax = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){ var executescripts=\"require(\"./lib/execute-scripts\");\" foreachels=\"require(\"./lib/foreach-els\");\" parseoptions=\"require(\"./lib/parse-options\");\" switches=\"require(\"./lib/switches\");\" newuid=\"require(\"./lib/uniqueid\");\" on=\"require(\"./lib/events/on\");\" trigger=\"require(\"./lib/events/trigger\");\" clone=\"require(\"./lib/util/clone\");\" contains=\"require(\"./lib/util/contains\");\" extend=\"require(\"./lib/util/extend\");\" noop=\"require(\"./lib/util/noop\");\" pjax=\"function(options)\" { this.state=\"{\" numpendingswitches: 0, href: null, options: null }; this.options=\"parseOptions(options);\" this.log(\"pjax options\", this.options); if (this.options.scrollrestoration && \"scrollrestoration\" in history) history.scrollrestoration=\"manual\" ; } this.maxuid=\"this.lastUid\" = newuid(); this.parsedom(document); on( window, \"popstate\", function(st) (st.state) opt=\"clone(this.options);\" opt.url=\"st.state.url;\" opt.title=\"st.state.title;\" since state already exists, prevent it from being pushed again opt.history=\"false;\" opt.scrollpos=\"st.state.scrollPos;\" (st.state.uid < this.lastuid) opt.backward=\"true;\" else opt.forward=\"true;\" this.lastuid=\"st.state.uid;\" @todo implement history cache here, based uid this.loadurl(st.state.url, opt); }.bind(this) ); pjax.switches=\"switches;\" pjax.prototype=\"{\" log: require(\". lib proto log\"), getelements: function(el) return el.queryselectorall(this.options.elements); }, parsedom: parseelement=\"require(\"./lib/proto/parse-element\");\" foreachels(this.getelements(el), parseelement, this); refresh: this.parsedom(el || document); reload: function() window.location.reload(); attachlink: attach-link\"), attachform: attach-form\"), foreachselectors: function(cb, context, domcontext) foreach-selectors\").bind(this)( this.options.selectors, cb, domcontext switchselectors: function(selectors, fromel, toel, options) switches-selectors\").bind(this)( this.options.switches, this.options.switchesoptions, selectors, options latestchance: function(href) window.location=\"href;\" onswitch: trigger(window, \"resize scroll\"); this.state.numpendingswitches--; debounce calls, so we only run this once after all are finished. (this.state.numpendingswitches=\"==\" 0) this.afterallswitches(); loadcontent: function(html, (typeof html !=\"=\" \"string\") trigger(document, \"pjax:complete pjax:error\", options); return; tmpel=\"document.implementation.createHTMLDocument(\"pjax\");\" parse attributes to copy them forced use documentelement.innerhtml (outerhtml can't be used for <html>)\n    var htmlRegex = /<html[^>]+>/gi;\n    var htmlAttribsRegex = /\\s?[a-z:]+(?:=['\"][^'\">]+['\"])*/gi;\n    var matches = html.match(htmlRegex);\n    if (matches && matches.length) {\n      matches = matches[0].match(htmlAttribsRegex);\n      if (matches.length) {\n        matches.shift();\n        matches.forEach(function(htmlAttrib) {\n          var attr = htmlAttrib.trim().split(\"=\");\n          if (attr.length === 1) {\n            tmpEl.documentElement.setAttribute(attr[0], true);\n          } else {\n            tmpEl.documentElement.setAttribute(attr[0], attr[1].slice(1, -1));\n          }\n        });\n      }\n    }\n\n    tmpEl.documentElement.innerHTML = html;\n    this.log(\n      \"load content\",\n      tmpEl.documentElement.attributes,\n      tmpEl.documentElement.innerHTML.length\n    );\n\n    // Clear out any focused controls before inserting new page contents.\n    if (\n      document.activeElement &&\n      contains(document, this.options.selectors, document.activeElement)\n    ) {\n      try {\n        document.activeElement.blur();\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n\n    this.switchSelectors(this.options.selectors, tmpEl, document, options);\n  },\n\n  abortRequest: require(\"./lib/abort-request\"),\n\n  doRequest: require(\"./lib/send-request\"),\n\n  handleResponse: require(\"./lib/proto/handle-response\"),\n\n  loadUrl: function(href, options) {\n    options =\n      typeof options === \"object\"\n        ? extend({}, this.options, options)\n        : clone(this.options);\n\n    this.log(\"load href\", href, options);\n\n    // Abort any previous request\n    this.abortRequest(this.request);\n\n    trigger(document, \"pjax:send\", options);\n\n    // Do the request\n    this.request = this.doRequest(\n      href,\n      options,\n      this.handleResponse.bind(this)\n    );\n  },\n\n  afterAllSwitches: function() {\n    // FF bug: Won’t autofocus fields that are inserted via JS.\n    // This behavior is incorrect. So if theres no current focus, autofocus\n    // the last field.\n    //\n    // http://www.w3.org/html/wg/drafts/html/master/forms.html\n    var autofocusEl = Array.prototype.slice\n      .call(document.querySelectorAll(\"[autofocus]\"))\n      .pop();\n    if (autofocusEl && document.activeElement !== autofocusEl) {\n      autofocusEl.focus();\n    }\n\n    // execute scripts when DOM have been completely updated\n    this.options.selectors.forEach(function(selector) {\n      forEachEls(document.querySelectorAll(selector), function(el) {\n        //executeScripts(el);\n      });\n    });\n\n    var state = this.state;\n\n    if (state.options.history) {\n      if (!window.history.state) {\n        this.lastUid = this.maxUid = newUid();\n        window.history.replaceState(\n          {\n            url: window.location.href,\n            title: document.title,\n            uid: this.maxUid,\n            scrollPos: [0, 0]\n          },\n          document.title\n        );\n      }\n\n      // Update browser history\n      this.lastUid = this.maxUid = newUid();\n\n      window.history.pushState(\n        {\n          url: state.href,\n          title: state.options.title,\n          uid: this.maxUid,\n          scrollPos: [0, 0]\n        },\n        state.options.title,\n        state.href\n      );\n    }\n\n    this.forEachSelectors(function(el) {\n      this.parseDOM(el);\n    }, this);\n\n    // Fire Events\n    trigger(document, \"pjax:complete pjax:success\", state.options);\n\n    if (typeof state.options.analytics === \"function\") {\n      state.options.analytics();\n    }\n\n    if (state.options.history) {\n      // First parse url and check for hash to override scroll\n      var a = document.createElement(\"a\");\n      a.href = this.state.href;\n      if (a.hash) {\n        var name = a.hash.slice(1);\n        name = decodeURIComponent(name);\n\n        var curtop = 0;\n        var target =\n          document.getElementById(name) || document.getElementsByName(name)[0];\n        if (target) {\n          // http://stackoverflow.com/questions/8111094/cross-browser-javascript-function-to-find-actual-position-of-an-element-in-page\n          if (target.offsetParent) {\n            do {\n              curtop += target.offsetTop;\n\n              target = target.offsetParent;\n            } while (target);\n          }\n        }\n        window.scrollTo(0, curtop);\n      } else if (state.options.scrollTo !== false) {\n        // Scroll page to top on new page load\n        if (state.options.scrollTo.length > 1) {\n          window.scrollTo(state.options.scrollTo[0], state.options.scrollTo[1]);\n        } else {\n          window.scrollTo(0, state.options.scrollTo);\n        }\n      }\n    } else if (state.options.scrollRestoration && state.options.scrollPos) {\n      window.scrollTo(state.options.scrollPos[0], state.options.scrollPos[1]);\n    }\n\n    this.state = {\n      numPendingSwitches: 0,\n      href: null,\n      options: null\n    };\n  }\n};\n\nPjax.isSupported = require(\"./lib/is-supported\");\n\n// arguably could do `if( require(\"./lib/is-supported\")()) {` but that might be a little to simple\nif (Pjax.isSupported()) {\n  module.exports = Pjax;\n}\n// if there isn’t required browser functions, returning stupid api\nelse {\n  var stupidPjax = noop;\n  for (var key in Pjax.prototype) {\n    if (\n      Pjax.prototype.hasOwnProperty(key) &&\n      typeof Pjax.prototype[key] === \"function\"\n    ) {\n      stupidPjax[key] = noop;\n    }\n  }\n\n  module.exports = stupidPjax;\n}\n\n},{\"./lib/abort-request\":2,\"./lib/events/on\":4,\"./lib/events/trigger\":5,\"./lib/execute-scripts\":6,\"./lib/foreach-els\":7,\"./lib/foreach-selectors\":8,\"./lib/is-supported\":9,\"./lib/parse-options\":10,\"./lib/proto/attach-form\":11,\"./lib/proto/attach-link\":12,\"./lib/proto/handle-response\":13,\"./lib/proto/log\":14,\"./lib/proto/parse-element\":15,\"./lib/send-request\":16,\"./lib/switches\":18,\"./lib/switches-selectors\":17,\"./lib/uniqueid\":19,\"./lib/util/clone\":20,\"./lib/util/contains\":21,\"./lib/util/extend\":22,\"./lib/util/noop\":23}],2:[function(require,module,exports){\nvar noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n\n},{\"./util/noop\":23}],3:[function(require,module,exports){\nmodule.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n\n},{}],4:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],5:[function(require,module,exports){\nvar forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n\n},{\"../foreach-els\":7}],6:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n\n},{\"./eval-script\":3,\"./foreach-els\":7}],7:[function(require,module,exports){\n/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n\n},{}],8:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n\n},{\"./foreach-els\":7}],9:[function(require,module,exports){\nmodule.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n\n},{}],10:[function(require,module,exports){\n/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n\n},{\"./switches\":18}],11:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],12:[function(require,module,exports){\nvar on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n\n},{\"../events/on\":4,\"../util/clone\":20}],13:[function(require,module,exports){\nvar clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n\n},{\"../events/trigger\":5,\"../uniqueid\":19,\"../util/clone\":20}],14:[function(require,module,exports){\nmodule.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n\n},{}],15:[function(require,module,exports){\nvar attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n\n},{}],16:[function(require,module,exports){\nvar updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n\n},{\"./util/update-query-string\":24}],17:[function(require,module,exports){\nvar forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n\n},{\"./foreach-els\":7,\"./switches\":18}],18:[function(require,module,exports){\nvar on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and </head><body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber </body></form></a></html[^></t.length;i++)o(t[i]);return>"},{"_content":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Forms</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Forms</h1>\n      Hello. Try out the examples below and inspect the results in your browser's developer tools, or go to the <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n\n      <h3>GET form</h3>\n\n      <form action=\"\" method=\"get\" class=\"js-Pjax\" id=\"get-form\">\n        <label for=\"get-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"get-form-text\" value=\"Foobar\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"get-form-number\" value=\"1\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"get-form-email\" value=\"example@example.com\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"get-form-textarea\">This is some text</textarea>\n\n        <br />\n        <br />\n\n        <fieldset>\n          <label for=\"get-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"get-form-radio-1\" />\n\n          <label for=\"get-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"get-form-radio-2\" />\n        </fieldset>\n\n        <br />\n        <br />\n\n        <label for=\"get-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"get-form-checkbox\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"get-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br />\n        <br />\n\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n\n      <br />\n      <br />\n\n      <h3>POST form</h3>\n\n      <form action=\"\" method=\"post\" class=\"js-Pjax\" id=\"post-form\">\n        <label for=\"post-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"post-form-text\" value=\"Foobar\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"post-form-number\" value=\"1\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"post-form-email\" value=\"example@example.com\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"post-form-textarea\">This is some text</textarea>\n\n        <br />\n        <br />\n\n        <fieldset>\n          <label for=\"post-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"post-form-radio-1\" />\n\n          <label for=\"post-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"post-form-radio-2\" />\n        </fieldset>\n\n        <br />\n        <br />\n\n        <label for=\"post-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"post-form-checkbox\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"post-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br />\n        <br />\n\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  </body>\n</html>\n","source":"lib/pjax/example/forms.html","raw":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Forms</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Forms</h1>\n      Hello. Try out the examples below and inspect the results in your browser's developer tools, or go to the <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n\n      <h3>GET form</h3>\n\n      <form action=\"\" method=\"get\" class=\"js-Pjax\" id=\"get-form\">\n        <label for=\"get-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"get-form-text\" value=\"Foobar\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"get-form-number\" value=\"1\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"get-form-email\" value=\"example@example.com\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"get-form-textarea\">This is some text</textarea>\n\n        <br />\n        <br />\n\n        <fieldset>\n          <label for=\"get-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"get-form-radio-1\" />\n\n          <label for=\"get-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"get-form-radio-2\" />\n        </fieldset>\n\n        <br />\n        <br />\n\n        <label for=\"get-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"get-form-checkbox\" />\n\n        <br />\n        <br />\n\n        <label for=\"get-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"get-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br />\n        <br />\n\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n\n      <br />\n      <br />\n\n      <h3>POST form</h3>\n\n      <form action=\"\" method=\"post\" class=\"js-Pjax\" id=\"post-form\">\n        <label for=\"post-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"post-form-text\" value=\"Foobar\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"post-form-number\" value=\"1\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"post-form-email\" value=\"example@example.com\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"post-form-textarea\">This is some text</textarea>\n\n        <br />\n        <br />\n\n        <fieldset>\n          <label for=\"post-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"post-form-radio-1\" />\n\n          <label for=\"post-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"post-form-radio-2\" />\n        </fieldset>\n\n        <br />\n        <br />\n\n        <label for=\"post-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"post-form-checkbox\" />\n\n        <br />\n        <br />\n\n        <label for=\"post-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"post-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br />\n        <br />\n\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  </body>\n</html>\n","date":"2019-09-27T05:34:52.460Z","updated":"2019-09-27T05:34:52.460Z","path":"lib/pjax/example/forms.html","title":"","comments":1,"layout":"page","_id":"ck11plkze0009wk2xri45n3j7","content":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Forms</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Forms</h1>\n      Hello. Try out the examples below and inspect the results in your browser's developer tools, or go to the <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n\n      <h3>GET form</h3>\n\n      <form action method=\"get\" class=\"js-Pjax\" id=\"get-form\">\n        <label for=\"get-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"get-form-text\" value=\"Foobar\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"get-form-number\" value=\"1\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"get-form-email\" value=\"example@example.com\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"get-form-textarea\">This is some text</textarea>\n\n        <br>\n        <br>\n\n        <fieldset>\n          <label for=\"get-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"get-form-radio-1\">\n\n          <label for=\"get-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"get-form-radio-2\">\n        </fieldset>\n\n        <br>\n        <br>\n\n        <label for=\"get-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"get-form-checkbox\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"get-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br>\n        <br>\n\n        <input type=\"submit\" value=\"Submit\">\n      </form>\n\n      <br>\n      <br>\n\n      <h3>POST form</h3>\n\n      <form action method=\"post\" class=\"js-Pjax\" id=\"post-form\">\n        <label for=\"post-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"post-form-text\" value=\"Foobar\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"post-form-number\" value=\"1\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"post-form-email\" value=\"example@example.com\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"post-form-textarea\">This is some text</textarea>\n\n        <br>\n        <br>\n\n        <fieldset>\n          <label for=\"post-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"post-form-radio-1\">\n\n          <label for=\"post-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"post-form-radio-2\">\n        </fieldset>\n\n        <br>\n        <br>\n\n        <label for=\"post-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"post-form-checkbox\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"post-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br>\n        <br>\n\n        <input type=\"submit\" value=\"Submit\">\n      </form>\n    </div>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Forms</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Forms</h1>\n      Hello. Try out the examples below and inspect the results in your browser's developer tools, or go to the <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n\n      <h3>GET form</h3>\n\n      <form action method=\"get\" class=\"js-Pjax\" id=\"get-form\">\n        <label for=\"get-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"get-form-text\" value=\"Foobar\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"get-form-number\" value=\"1\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"get-form-email\" value=\"example@example.com\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"get-form-textarea\">This is some text</textarea>\n\n        <br>\n        <br>\n\n        <fieldset>\n          <label for=\"get-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"get-form-radio-1\">\n\n          <label for=\"get-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"get-form-radio-2\">\n        </fieldset>\n\n        <br>\n        <br>\n\n        <label for=\"get-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"get-form-checkbox\">\n\n        <br>\n        <br>\n\n        <label for=\"get-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"get-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br>\n        <br>\n\n        <input type=\"submit\" value=\"Submit\">\n      </form>\n\n      <br>\n      <br>\n\n      <h3>POST form</h3>\n\n      <form action method=\"post\" class=\"js-Pjax\" id=\"post-form\">\n        <label for=\"post-form-text\">Text input:</label>\n        <input type=\"text\" name=\"textInput\" id=\"post-form-text\" value=\"Foobar\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-number\">Number input:</label>\n        <input type=\"number\" name=\"numberInput\" id=\"post-form-number\" value=\"1\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-email\">Email input:</label>\n        <input type=\"email\" name=\"emailInput\" id=\"post-form-email\" value=\"example@example.com\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-textarea\">Textarea:</label>\n        <textarea name=\"textarea\" id=\"post-form-textarea\">This is some text</textarea>\n\n        <br>\n        <br>\n\n        <fieldset>\n          <label for=\"post-form-radio-1\">Radio input:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-1\" checked id=\"post-form-radio-1\">\n\n          <label for=\"post-form-radio-2\">Radio input alt:</label>\n          <input type=\"radio\" name=\"radioInput\" value=\"radio-2\" id=\"post-form-radio-2\">\n        </fieldset>\n\n        <br>\n        <br>\n\n        <label for=\"post-form-checkbox\">Checkbox input:</label>\n        <input type=\"checkbox\" name=\"checkboxInput\" checked id=\"post-form-checkbox\">\n\n        <br>\n        <br>\n\n        <label for=\"post-form-select\">Select list:</label>\n        <select multiple name=\"select\" id=\"post-form-select\">\n          <option>\n            Option 1\n          </option>\n          <option>\n            Option 2\n          </option>\n        </select>\n\n        <br>\n        <br>\n\n        <input type=\"submit\" value=\"Submit\">\n      </form>\n    </div>\n  </body>\n</html>\n"},{"_content":"/* global Pjax */\nvar pjax;\nvar initButtons = function() {\n  var buttons = document.querySelectorAll(\"button[data-manual-trigger]\");\n\n  if (!buttons) {\n    return;\n  }\n\n  // jshint -W083\n  for (var i = 0; i < buttons.length; i++) {\n    buttons[i].addEventListener(\"click\", function(e) {\n      var el = e.currentTarget;\n\n      if (el.getAttribute(\"data-manual-trigger-override\") === \"true\") {\n        // Manually load URL with overridden Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\", { cacheBust: false });\n      } else {\n        // Manually load URL with current Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\");\n      }\n    });\n  }\n  // jshint +W083\n};\n\nconsole.log(\"Document initialized:\", window.location.href);\n\ndocument.addEventListener(\"pjax:send\", function() {\n  console.log(\"Event: pjax:send\", arguments);\n});\n\ndocument.addEventListener(\"pjax:complete\", function() {\n  console.log(\"Event: pjax:complete\", arguments);\n});\n\ndocument.addEventListener(\"pjax:error\", function() {\n  console.log(\"Event: pjax:error\", arguments);\n});\n\ndocument.addEventListener(\"pjax:success\", function() {\n  console.log(\"Event: pjax:success\", arguments);\n\n  // Init page content\n  initButtons();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // Init Pjax instance\n  pjax = new Pjax({\n    elements: [\".js-Pjax\"],\n    selectors: [\".body\", \"title\"],\n    cacheBust: true\n  });\n  console.log(\"Pjax initialized.\", pjax);\n\n  // Init page content\n  initButtons();\n});\n","source":"lib/pjax/example/example.js","raw":"/* global Pjax */\nvar pjax;\nvar initButtons = function() {\n  var buttons = document.querySelectorAll(\"button[data-manual-trigger]\");\n\n  if (!buttons) {\n    return;\n  }\n\n  // jshint -W083\n  for (var i = 0; i < buttons.length; i++) {\n    buttons[i].addEventListener(\"click\", function(e) {\n      var el = e.currentTarget;\n\n      if (el.getAttribute(\"data-manual-trigger-override\") === \"true\") {\n        // Manually load URL with overridden Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\", { cacheBust: false });\n      } else {\n        // Manually load URL with current Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\");\n      }\n    });\n  }\n  // jshint +W083\n};\n\nconsole.log(\"Document initialized:\", window.location.href);\n\ndocument.addEventListener(\"pjax:send\", function() {\n  console.log(\"Event: pjax:send\", arguments);\n});\n\ndocument.addEventListener(\"pjax:complete\", function() {\n  console.log(\"Event: pjax:complete\", arguments);\n});\n\ndocument.addEventListener(\"pjax:error\", function() {\n  console.log(\"Event: pjax:error\", arguments);\n});\n\ndocument.addEventListener(\"pjax:success\", function() {\n  console.log(\"Event: pjax:success\", arguments);\n\n  // Init page content\n  initButtons();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // Init Pjax instance\n  pjax = new Pjax({\n    elements: [\".js-Pjax\"],\n    selectors: [\".body\", \"title\"],\n    cacheBust: true\n  });\n  console.log(\"Pjax initialized.\", pjax);\n\n  // Init page content\n  initButtons();\n});\n","date":"2019-09-27T05:34:52.460Z","updated":"2019-09-27T05:34:52.460Z","path":"lib/pjax/example/example.js","layout":"false","title":"","comments":1,"_id":"ck11plkze000awk2x9tz7t9k6","content":"/* global Pjax */\nvar pjax;\nvar initButtons = function() {\n  var buttons = document.querySelectorAll(\"button[data-manual-trigger]\");\n\n  if (!buttons) {\n    return;\n  }\n\n  // jshint -W083\n  for (var i = 0; i < buttons.length; i++) {\n    buttons[i].addEventListener(\"click\", function(e) {\n      var el = e.currentTarget;\n\n      if (el.getAttribute(\"data-manual-trigger-override\") === \"true\") {\n        // Manually load URL with overridden Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\", { cacheBust: false });\n      } else {\n        // Manually load URL with current Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\");\n      }\n    });\n  }\n  // jshint +W083\n};\n\nconsole.log(\"Document initialized:\", window.location.href);\n\ndocument.addEventListener(\"pjax:send\", function() {\n  console.log(\"Event: pjax:send\", arguments);\n});\n\ndocument.addEventListener(\"pjax:complete\", function() {\n  console.log(\"Event: pjax:complete\", arguments);\n});\n\ndocument.addEventListener(\"pjax:error\", function() {\n  console.log(\"Event: pjax:error\", arguments);\n});\n\ndocument.addEventListener(\"pjax:success\", function() {\n  console.log(\"Event: pjax:success\", arguments);\n\n  // Init page content\n  initButtons();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // Init Pjax instance\n  pjax = new Pjax({\n    elements: [\".js-Pjax\"],\n    selectors: [\".body\", \"title\"],\n    cacheBust: true\n  });\n  console.log(\"Pjax initialized.\", pjax);\n\n  // Init page content\n  initButtons();\n});\n","site":{"data":{}},"excerpt":"","more":"/* global Pjax */\nvar pjax;\nvar initButtons = function() {\n  var buttons = document.querySelectorAll(\"button[data-manual-trigger]\");\n\n  if (!buttons) {\n    return;\n  }\n\n  // jshint -W083\n  for (var i = 0; i < buttons.length; i++) {\n    buttons[i].addEventListener(\"click\", function(e) {\n      var el = e.currentTarget;\n\n      if (el.getAttribute(\"data-manual-trigger-override\") === \"true\") {\n        // Manually load URL with overridden Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\", { cacheBust: false });\n      } else {\n        // Manually load URL with current Pjax instance options\n        pjax.loadUrl(\"/example/page2.html\");\n      }\n    });\n  }\n  // jshint +W083\n};\n\nconsole.log(\"Document initialized:\", window.location.href);\n\ndocument.addEventListener(\"pjax:send\", function() {\n  console.log(\"Event: pjax:send\", arguments);\n});\n\ndocument.addEventListener(\"pjax:complete\", function() {\n  console.log(\"Event: pjax:complete\", arguments);\n});\n\ndocument.addEventListener(\"pjax:error\", function() {\n  console.log(\"Event: pjax:error\", arguments);\n});\n\ndocument.addEventListener(\"pjax:success\", function() {\n  console.log(\"Event: pjax:success\", arguments);\n\n  // Init page content\n  initButtons();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // Init Pjax instance\n  pjax = new Pjax({\n    elements: [\".js-Pjax\"],\n    selectors: [\".body\", \"title\"],\n    cacheBust: true\n  });\n  console.log(\"Pjax initialized.\", pjax);\n\n  // Init page content\n  initButtons();\n});\n"},{"_content":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Page 3</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 3</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","source":"lib/pjax/example/page3.html","raw":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Page 3</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 3</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","date":"2019-09-27T05:34:52.464Z","updated":"2019-09-27T05:34:52.464Z","path":"lib/pjax/example/page3.html","title":"","comments":1,"layout":"page","_id":"ck11plkzf000bwk2xxj1hmuwi","content":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Page 3</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 3</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Page 3</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 3</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n"},{"_content":"var noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n","source":"lib/pjax/lib/abort-request.js","raw":"var noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n","date":"2019-09-27T05:34:52.465Z","updated":"2019-09-27T05:34:52.465Z","path":"lib/pjax/lib/abort-request.js","layout":"false","title":"","comments":1,"_id":"ck11plkzf000cwk2x2p5eib36","content":"var noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n","site":{"data":{}},"excerpt":"","more":"var noop = require(\"./util/noop\");\n\nmodule.exports = function(request) {\n  if (request && request.readyState < 4) {\n    request.onreadystatechange = noop;\n    request.abort();\n  }\n};\n"},{"_content":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Page 2</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 2</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","source":"lib/pjax/example/page2.html","raw":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Page 2</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 2</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","date":"2019-09-27T05:34:52.463Z","updated":"2019-09-27T05:34:52.463Z","path":"lib/pjax/example/page2.html","title":"","comments":1,"layout":"page","_id":"ck11plkzg000dwk2x068uua6o","content":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Page 2</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 2</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Page 2</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Page 2</h1>\n      Hello. Go to <a href=\"index.html\" class=\"js-Pjax\">Index</a>.\n    </div>\n  </body>\n</html>\n"},{"_content":"module.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n","source":"lib/pjax/lib/eval-script.js","raw":"module.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n","date":"2019-09-27T05:34:52.465Z","updated":"2019-09-27T05:34:52.465Z","path":"lib/pjax/lib/eval-script.js","layout":"false","title":"","comments":1,"_id":"ck11plkzg000ewk2xmbj6ke1u","content":"module.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function(el) {\n  var code = el.text || el.textContent || el.innerHTML || \"\";\n  var src = el.src || \"\";\n  var parent =\n    el.parentNode || document.querySelector(\"head\") || document.documentElement;\n  var script = document.createElement(\"script\");\n\n  if (code.match(\"document.write\")) {\n    if (console && console.log) {\n      console.log(\n        \"Script contains document.write. Can’t be executed correctly. Code skipped \",\n        el\n      );\n    }\n    return false;\n  }\n\n  script.type = \"text/javascript\";\n  script.id = el.id;\n\n  /* istanbul ignore if */\n  if (src !== \"\") {\n    script.src = src;\n    script.async = false; // force synchronous loading of peripheral JS\n  }\n\n  if (code !== \"\") {\n    try {\n      script.appendChild(document.createTextNode(code));\n    } catch (e) {\n      /* istanbul ignore next */\n      // old IEs have funky script nodes\n      script.text = code;\n    }\n  }\n\n  // execute\n  parent.appendChild(script);\n  // avoid pollution only in head or body tags\n  if (\n    (parent instanceof HTMLHeadElement || parent instanceof HTMLBodyElement) &&\n    parent.contains(script)\n  ) {\n    parent.removeChild(script);\n  }\n\n  return true;\n};\n"},{"_content":"/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n","source":"lib/pjax/lib/foreach-els.js","raw":"/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n","date":"2019-09-27T05:34:52.466Z","updated":"2019-09-27T05:34:52.466Z","path":"lib/pjax/lib/foreach-els.js","layout":"false","title":"","comments":1,"_id":"ck11plkzh000fwk2x5u2pm350","content":"/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n","site":{"data":{}},"excerpt":"","more":"/* global HTMLCollection: true */\n\nmodule.exports = function(els, fn, context) {\n  if (\n    els instanceof HTMLCollection ||\n    els instanceof NodeList ||\n    els instanceof Array\n  ) {\n    return Array.prototype.forEach.call(els, fn, context);\n  }\n  // assume simple DOM element\n  return fn.call(context, els);\n};\n"},{"_content":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Hello</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Index</h1>\n      Hello.\n      Go to <a href=\"page2.html\" class=\"js-Pjax\">Page 2</a> or <a href=\"page3.html\" class=\"js-Pjax\">Page 3</a> and view your console to see Pjax events.\n      Clicking on <a href=\"index.html\">this page</a> will do nothing.\n\n      <h2>Manual URL loading</h2>\n\n      You can use Pjax's <i>loadUrl</i> method to manually load a URL. Click the buttons below to try it out!<br /><br />\n\n      <button data-manual-trigger>loadUrl with current options</button><br /><br />\n      <button data-manual-trigger data-manual-trigger-override=\"true\">loadUrl with overridden options (no cache busting)</button>\n\n      <h2>Forms</h2>\n\n      You can submit GET or POST forms with Pjax! Go to the <a href=\"forms.html\">form examples</a> to try it out.\n\n    </div>\n  </body>\n</html>\n","source":"lib/pjax/example/index.html","raw":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Hello</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Index</h1>\n      Hello.\n      Go to <a href=\"page2.html\" class=\"js-Pjax\">Page 2</a> or <a href=\"page3.html\" class=\"js-Pjax\">Page 3</a> and view your console to see Pjax events.\n      Clicking on <a href=\"index.html\">this page</a> will do nothing.\n\n      <h2>Manual URL loading</h2>\n\n      You can use Pjax's <i>loadUrl</i> method to manually load a URL. Click the buttons below to try it out!<br /><br />\n\n      <button data-manual-trigger>loadUrl with current options</button><br /><br />\n      <button data-manual-trigger data-manual-trigger-override=\"true\">loadUrl with overridden options (no cache busting)</button>\n\n      <h2>Forms</h2>\n\n      You can submit GET or POST forms with Pjax! Go to the <a href=\"forms.html\">form examples</a> to try it out.\n\n    </div>\n  </body>\n</html>\n","date":"2019-09-27T05:34:52.462Z","updated":"2019-09-27T05:34:52.462Z","path":"lib/pjax/example/index.html","title":"","comments":1,"layout":"page","_id":"ck11plkzh000gwk2xxjeex83o","content":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Hello</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Index</h1>\n      Hello.\n      Go to <a href=\"page2.html\" class=\"js-Pjax\">Page 2</a> or <a href=\"page3.html\" class=\"js-Pjax\">Page 3</a> and view your console to see Pjax events.\n      Clicking on <a href=\"index.html\">this page</a> will do nothing.\n\n      <h2>Manual URL loading</h2>\n\n      You can use Pjax's <i>loadUrl</i> method to manually load a URL. Click the buttons below to try it out!<br><br>\n\n      <button data-manual-trigger>loadUrl with current options</button><br><br>\n      <button data-manual-trigger data-manual-trigger-override=\"true\">loadUrl with overridden options (no cache busting)</button>\n\n      <h2>Forms</h2>\n\n      You can submit GET or POST forms with Pjax! Go to the <a href=\"forms.html\">form examples</a> to try it out.\n\n    </div>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!doctype html>\n<html>\n  <head><meta name=\"generator\" content=\"Hexo 3.9.0\">\n    <meta charset=\"utf-8\">\n    <title>Hello</title>\n    <script src=\"../pjax.js\"></script>\n    <script src=\"example.js\"></script>\n  </head>\n  <body>\n    <div class=\"body\">\n      <h1>Index</h1>\n      Hello.\n      Go to <a href=\"page2.html\" class=\"js-Pjax\">Page 2</a> or <a href=\"page3.html\" class=\"js-Pjax\">Page 3</a> and view your console to see Pjax events.\n      Clicking on <a href=\"index.html\">this page</a> will do nothing.\n\n      <h2>Manual URL loading</h2>\n\n      You can use Pjax's <i>loadUrl</i> method to manually load a URL. Click the buttons below to try it out!<br><br>\n\n      <button data-manual-trigger>loadUrl with current options</button><br><br>\n      <button data-manual-trigger data-manual-trigger-override=\"true\">loadUrl with overridden options (no cache busting)</button>\n\n      <h2>Forms</h2>\n\n      You can submit GET or POST forms with Pjax! Go to the <a href=\"forms.html\">form examples</a> to try it out.\n\n    </div>\n  </body>\n</html>\n"},{"_content":"var forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n","source":"lib/pjax/lib/foreach-selectors.js","raw":"var forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n","date":"2019-09-27T05:34:52.467Z","updated":"2019-09-27T05:34:52.467Z","path":"lib/pjax/lib/foreach-selectors.js","layout":"false","title":"","comments":1,"_id":"ck11plkzi000hwk2xvq4c37jw","content":"var forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"./foreach-els\");\n\nmodule.exports = function(selectors, cb, context, DOMcontext) {\n  DOMcontext = DOMcontext || document;\n  selectors.forEach(function(selector) {\n    forEachEls(DOMcontext.querySelectorAll(selector), cb, context);\n  });\n};\n"},{"_content":"var forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n","source":"lib/pjax/lib/execute-scripts.js","raw":"var forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n","date":"2019-09-27T05:34:52.466Z","updated":"2019-09-27T05:34:52.466Z","path":"lib/pjax/lib/execute-scripts.js","layout":"false","title":"","comments":1,"_id":"ck11plkzi000iwk2x09zqm0xe","content":"var forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"./foreach-els\");\nvar evalScript = require(\"./eval-script\");\n// Finds and executes scripts (used for newly added elements)\n// Needed since innerHTML does not run scripts\nmodule.exports = function(el) {\n  if (el.tagName.toLowerCase() === \"script\") {\n    evalScript(el);\n  }\n\n  forEachEls(el.querySelectorAll(\"script\"), function(script) {\n    if (!script.type || script.type.toLowerCase() === \"text/javascript\") {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      evalScript(script);\n    }\n  });\n};\n"},{"_content":"module.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n","source":"lib/pjax/lib/is-supported.js","raw":"module.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n","date":"2019-09-27T05:34:52.467Z","updated":"2019-09-27T05:34:52.467Z","path":"lib/pjax/lib/is-supported.js","layout":"false","title":"","comments":1,"_id":"ck11plkzj000jwk2x3ddmprlw","content":"module.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function() {\n  // Borrowed wholesale from https://github.com/defunkt/jquery-pjax\n  return (\n    window.history &&\n    window.history.pushState &&\n    window.history.replaceState &&\n    // pushState isn’t reliable on iOS until 5.\n    !navigator.userAgent.match(\n      /((iPod|iPhone|iPad).+\\bOS\\s+[1-4]\\D|WebApps\\/.+CFNetwork)/\n    )\n  );\n};\n"},{"_content":"var updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n","source":"lib/pjax/lib/send-request.js","raw":"var updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n","date":"2019-09-27T05:34:52.469Z","updated":"2019-09-27T05:34:52.469Z","path":"lib/pjax/lib/send-request.js","layout":"false","title":"","comments":1,"_id":"ck11plkzj000kwk2xsz5eou4u","content":"var updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n","site":{"data":{}},"excerpt":"","more":"var updateQueryString = require(\"./util/update-query-string\");\n\nmodule.exports = function(location, options, callback) {\n  options = options || {};\n  var queryString;\n  var requestOptions = options.requestOptions || {};\n  var requestMethod = (requestOptions.requestMethod || \"GET\").toUpperCase();\n  var requestParams = requestOptions.requestParams || null;\n  var formData = requestOptions.formData || null;\n  var requestPayload = null;\n  var request = new XMLHttpRequest();\n  var timeout = options.timeout || 0;\n\n  request.onreadystatechange = function() {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        callback(request.responseText, request, location, options);\n      } else if (request.status !== 0) {\n        callback(null, request, location, options);\n      }\n    }\n  };\n\n  request.onerror = function(e) {\n    console.log(e);\n    callback(null, request, location, options);\n  };\n\n  request.ontimeout = function() {\n    callback(null, request, location, options);\n  };\n\n  // Prepare the request payload for forms, if available\n  if (requestParams && requestParams.length) {\n    // Build query string\n    queryString = requestParams\n      .map(function(param) {\n        return param.name + \"=\" + param.value;\n      })\n      .join(\"&\");\n\n    switch (requestMethod) {\n      case \"GET\":\n        // Reset query string to avoid an issue with repeat submissions where checkboxes that were\n        // previously checked are incorrectly preserved\n        location = location.split(\"?\")[0];\n\n        // Append new query string\n        location += \"?\" + queryString;\n        break;\n\n      case \"POST\":\n        // Send query string as request payload\n        requestPayload = queryString;\n        break;\n    }\n  } else if (formData) {\n    requestPayload = formData;\n  }\n\n  // Add a timestamp as part of the query string if cache busting is enabled\n  if (options.cacheBust) {\n    location = updateQueryString(location, \"t\", Date.now());\n  }\n\n  request.open(requestMethod, location, true);\n  request.timeout = timeout;\n  request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n  request.setRequestHeader(\"X-PJAX\", \"true\");\n  request.setRequestHeader(\n    \"X-PJAX-Selectors\",\n    JSON.stringify(options.selectors)\n  );\n\n  // Send the proper header information for POST forms\n  if (requestPayload && requestMethod === \"POST\" && !formData) {\n    request.setRequestHeader(\n      \"Content-Type\",\n      \"application/x-www-form-urlencoded\"\n    );\n  }\n\n  request.send(requestPayload);\n\n  return request;\n};\n"},{"_content":"var forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n","source":"lib/pjax/lib/switches-selectors.js","raw":"var forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n","date":"2019-09-27T05:34:52.469Z","updated":"2019-09-27T05:34:52.469Z","path":"lib/pjax/lib/switches-selectors.js","layout":"false","title":"","comments":1,"_id":"ck11plkzk000lwk2x64blxd3c","content":"var forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"./foreach-els\");\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(\n  switches,\n  switchesOptions,\n  selectors,\n  fromEl,\n  toEl,\n  options\n) {\n  var switchesQueue = [];\n\n  selectors.forEach(function(selector) {\n    var newEls = fromEl.querySelectorAll(selector);\n    var oldEls = toEl.querySelectorAll(selector);\n    if (this.log) {\n      this.log(\"Pjax switch\", selector, newEls, oldEls);\n    }\n    if (newEls.length !== oldEls.length) {\n      throw \"DOM doesn’t look the same on new loaded page: ’\" +\n        selector +\n        \"’ - new \" +\n        newEls.length +\n        \", old \" +\n        oldEls.length;\n    }\n\n    forEachEls(\n      newEls,\n      function(newEl, i) {\n        var oldEl = oldEls[i];\n        if (this.log) {\n          this.log(\"newEl\", newEl, \"oldEl\", oldEl);\n        }\n\n        var callback = switches[selector]\n          ? switches[selector].bind(\n              this,\n              oldEl,\n              newEl,\n              options,\n              switchesOptions[selector]\n            )\n          : defaultSwitches.outerHTML.bind(this, oldEl, newEl, options);\n\n        switchesQueue.push(callback);\n      },\n      this\n    );\n  }, this);\n\n  this.state.numPendingSwitches = switchesQueue.length;\n\n  switchesQueue.forEach(function(queuedSwitch) {\n    queuedSwitch();\n  });\n};\n"},{"_content":"/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n","source":"lib/pjax/lib/parse-options.js","raw":"/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n","date":"2019-09-27T05:34:52.467Z","updated":"2019-09-27T05:34:52.467Z","path":"lib/pjax/lib/parse-options.js","layout":"false","title":"","comments":1,"_id":"ck11plkzl000mwk2x5v1l877d","content":"/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n","site":{"data":{}},"excerpt":"","more":"/* global _gaq: true, ga: true */\n\nvar defaultSwitches = require(\"./switches\");\n\nmodule.exports = function(options) {\n  options = options || {};\n  options.elements = options.elements || \"a[href], form[action]\";\n  options.selectors = options.selectors || [\"title\", \".js-Pjax\"];\n  options.switches = options.switches || {};\n  options.switchesOptions = options.switchesOptions || {};\n  options.history =\n    typeof options.history === \"undefined\" ? true : options.history;\n  options.analytics =\n    typeof options.analytics === \"function\" || options.analytics === false\n      ? options.analytics\n      : defaultAnalytics;\n  options.scrollTo =\n    typeof options.scrollTo === \"undefined\" ? 0 : options.scrollTo;\n  options.scrollRestoration =\n    typeof options.scrollRestoration !== \"undefined\"\n      ? options.scrollRestoration\n      : true;\n  options.cacheBust =\n    typeof options.cacheBust === \"undefined\" ? true : options.cacheBust;\n  options.debug = options.debug || false;\n  options.timeout = options.timeout || 0;\n  options.currentUrlFullReload =\n    typeof options.currentUrlFullReload === \"undefined\"\n      ? false\n      : options.currentUrlFullReload;\n\n  // We can’t replace body.outerHTML or head.outerHTML.\n  // It creates a bug where a new body or head are created in the DOM.\n  // If you set head.outerHTML, a new body tag is appended, so the DOM has 2 body nodes, and vice versa\n  if (!options.switches.head) {\n    options.switches.head = defaultSwitches.switchElementsAlt;\n  }\n  if (!options.switches.body) {\n    options.switches.body = defaultSwitches.switchElementsAlt;\n  }\n\n  return options;\n};\n\n/* istanbul ignore next */\nfunction defaultAnalytics() {\n  if (window._gaq) {\n    _gaq.push([\"_trackPageview\"]);\n  }\n  if (window.ga) {\n    ga(\"send\", \"pageview\", { page: location.pathname, title: document.title });\n  }\n}\n"},{"_content":"var on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and <body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber <= 0 && elsToRemove) {\n        elsToRemove.forEach(function(el) {\n          // browsing quickly can make the el\n          // already removed by last page update ?\n          if (el.parentNode) {\n            el.parentNode.removeChild(el);\n          }\n        });\n\n        elsToAdd.forEach(function(el) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        });\n\n        elsToAdd = null; // free memory\n        elsToRemove = null; // free memory\n\n        // this is to trigger some repaint (example: picturefill)\n        this.onSwitch();\n      }\n    }.bind(this);\n\n    switchOptions = switchOptions || {};\n\n    forEach.call(oldEl.childNodes, function(el) {\n      elsToRemove.push(el);\n      if (el.classList && !el.classList.contains(\"js-Pjax-remove\")) {\n        // for fast switch, clean element that just have been added, & not cleaned yet.\n        if (el.hasAttribute(\"data-pjax-classes\")) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        }\n        el.classList.add(\"js-Pjax-remove\");\n        if (switchOptions.callbacks && switchOptions.callbacks.removeElement) {\n          switchOptions.callbacks.removeElement(el);\n        }\n        if (switchOptions.classNames) {\n          el.className +=\n            \" \" +\n            switchOptions.classNames.remove +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.backward\n              : switchOptions.classNames.forward);\n        }\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    forEach.call(newEl.childNodes, function(el) {\n      if (el.classList) {\n        var addClasses = \"\";\n        if (switchOptions.classNames) {\n          addClasses =\n            \" js-Pjax-add \" +\n            switchOptions.classNames.add +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.forward\n              : switchOptions.classNames.backward);\n        }\n        if (switchOptions.callbacks && switchOptions.callbacks.addElement) {\n          switchOptions.callbacks.addElement(el);\n        }\n        el.className += addClasses;\n        el.setAttribute(\"data-pjax-classes\", addClasses);\n        elsToAdd.push(el);\n        fragToAppend.appendChild(el);\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    // pass all className of the parent\n    oldEl.className = newEl.className;\n    oldEl.appendChild(fragToAppend);\n  }\n};\n","source":"lib/pjax/lib/switches.js","raw":"var on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and <body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber <= 0 && elsToRemove) {\n        elsToRemove.forEach(function(el) {\n          // browsing quickly can make the el\n          // already removed by last page update ?\n          if (el.parentNode) {\n            el.parentNode.removeChild(el);\n          }\n        });\n\n        elsToAdd.forEach(function(el) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        });\n\n        elsToAdd = null; // free memory\n        elsToRemove = null; // free memory\n\n        // this is to trigger some repaint (example: picturefill)\n        this.onSwitch();\n      }\n    }.bind(this);\n\n    switchOptions = switchOptions || {};\n\n    forEach.call(oldEl.childNodes, function(el) {\n      elsToRemove.push(el);\n      if (el.classList && !el.classList.contains(\"js-Pjax-remove\")) {\n        // for fast switch, clean element that just have been added, & not cleaned yet.\n        if (el.hasAttribute(\"data-pjax-classes\")) {\n          el.className = el.className.replace(\n            el.getAttribute(\"data-pjax-classes\"),\n            \"\"\n          );\n          el.removeAttribute(\"data-pjax-classes\");\n        }\n        el.classList.add(\"js-Pjax-remove\");\n        if (switchOptions.callbacks && switchOptions.callbacks.removeElement) {\n          switchOptions.callbacks.removeElement(el);\n        }\n        if (switchOptions.classNames) {\n          el.className +=\n            \" \" +\n            switchOptions.classNames.remove +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.backward\n              : switchOptions.classNames.forward);\n        }\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    forEach.call(newEl.childNodes, function(el) {\n      if (el.classList) {\n        var addClasses = \"\";\n        if (switchOptions.classNames) {\n          addClasses =\n            \" js-Pjax-add \" +\n            switchOptions.classNames.add +\n            \" \" +\n            (options.backward\n              ? switchOptions.classNames.forward\n              : switchOptions.classNames.backward);\n        }\n        if (switchOptions.callbacks && switchOptions.callbacks.addElement) {\n          switchOptions.callbacks.addElement(el);\n        }\n        el.className += addClasses;\n        el.setAttribute(\"data-pjax-classes\", addClasses);\n        elsToAdd.push(el);\n        fragToAppend.appendChild(el);\n        animatedElsNumber++;\n        on(el, animationEventNames, sexyAnimationEnd, true);\n      }\n    });\n\n    // pass all className of the parent\n    oldEl.className = newEl.className;\n    oldEl.appendChild(fragToAppend);\n  }\n};\n","date":"2019-09-27T05:34:52.469Z","updated":"2019-09-27T05:34:52.469Z","path":"lib/pjax/lib/switches.js","layout":"false","title":"","comments":1,"_id":"ck11plkzl000nwk2ximpdasje","content":"var on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and </head><body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber </body>","site":{"data":{}},"excerpt":"","more":"var on = require(\"./events/on\");\n\nmodule.exports = {\n  outerHTML: function(oldEl, newEl) {\n    oldEl.outerHTML = newEl.outerHTML;\n    this.onSwitch();\n  },\n\n  innerHTML: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    if (newEl.className === \"\") {\n      oldEl.removeAttribute(\"class\");\n    } else {\n      //oldEl.className = newEl.className;\n    }\n\n    this.onSwitch();\n  },\n\n  switchElementsAlt: function(oldEl, newEl) {\n    oldEl.innerHTML = newEl.innerHTML;\n\n    // Copy attributes from the new element to the old one\n    if (newEl.hasAttributes()) {\n      var attrs = newEl.attributes;\n      for (var i = 0; i < attrs.length; i++) {\n        oldEl.attributes.setNamedItem(attrs[i].cloneNode());\n      }\n    }\n\n    this.onSwitch();\n  },\n\n  // Equivalent to outerHTML(), but doesn't require switchElementsAlt() for <head> and </head><body>\n  replaceNode: function(oldEl, newEl) {\n    oldEl.parentNode.replaceChild(newEl, oldEl);\n    this.onSwitch();\n  },\n\n  sideBySide: function(oldEl, newEl, options, switchOptions) {\n    var forEach = Array.prototype.forEach;\n    var elsToRemove = [];\n    var elsToAdd = [];\n    var fragToAppend = document.createDocumentFragment();\n    var animationEventNames =\n      \"animationend webkitAnimationEnd MSAnimationEnd oanimationend\";\n    var animatedElsNumber = 0;\n    var sexyAnimationEnd = function(e) {\n      if (e.target !== e.currentTarget) {\n        // end triggered by an animation on a child\n        return;\n      }\n\n      animatedElsNumber--;\n      if (animatedElsNumber </body>"},{"_content":"module.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n","source":"lib/pjax/lib/uniqueid.js","raw":"module.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n","date":"2019-09-27T05:34:52.469Z","updated":"2019-09-27T05:34:52.469Z","path":"lib/pjax/lib/uniqueid.js","layout":"false","title":"","comments":1,"_id":"ck11plkzm000owk2xnq7qfgzf","content":"module.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n","site":{"data":{}},"excerpt":"","more":"module.exports = (function() {\n  var counter = 0;\n  return function() {\n    var id = \"pjax\" + new Date().getTime() + \"_\" + counter;\n    counter++;\n    return id;\n  };\n})();\n"},{"_content":"var jsdomOptions = {\n  url: \"https://example.org/\",\n  runScripts: \"dangerously\"\n};\n\nrequire(\"jsdom-global\")(\"\", jsdomOptions);\n","source":"lib/pjax/tests/setup.js","raw":"var jsdomOptions = {\n  url: \"https://example.org/\",\n  runScripts: \"dangerously\"\n};\n\nrequire(\"jsdom-global\")(\"\", jsdomOptions);\n","date":"2019-09-27T05:34:52.481Z","updated":"2019-09-27T05:34:52.481Z","path":"lib/pjax/tests/setup.js","layout":"false","title":"","comments":1,"_id":"ck11plkzm000pwk2xvv4sv376","content":"var jsdomOptions = {\n  url: \"https://example.org/\",\n  runScripts: \"dangerously\"\n};\n\nrequire(\"jsdom-global\")(\"\", jsdomOptions);\n","site":{"data":{}},"excerpt":"","more":"var jsdomOptions = {\n  url: \"https://example.org/\",\n  runScripts: \"dangerously\"\n};\n\nrequire(\"jsdom-global\")(\"\", jsdomOptions);\n"},{"_content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.removeEventListener(e, listener, useCapture);\n    });\n  });\n};\n","source":"lib/pjax/lib/events/off.js","raw":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.removeEventListener(e, listener, useCapture);\n    });\n  });\n};\n","date":"2019-09-27T05:34:52.466Z","updated":"2019-09-27T05:34:52.466Z","path":"lib/pjax/lib/events/off.js","layout":"false","title":"","comments":1,"_id":"ck11pll03000qwk2xsnh4xs9b","content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.removeEventListener(e, listener, useCapture);\n    });\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.removeEventListener(e, listener, useCapture);\n    });\n  });\n};\n"},{"_content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n","source":"lib/pjax/lib/events/trigger.js","raw":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n","date":"2019-09-27T05:34:52.466Z","updated":"2019-09-27T05:34:52.466Z","path":"lib/pjax/lib/events/trigger.js","layout":"false","title":"","comments":1,"_id":"ck11pll03000rwk2xaaml0sws","content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, opts) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    var event;\n    event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(e, true, true);\n    event.eventName = e;\n    if (opts) {\n      Object.keys(opts).forEach(function(key) {\n        event[key] = opts[key];\n      });\n    }\n\n    forEachEls(els, function(el) {\n      var domFix = false;\n      if (!el.parentNode && el !== document && el !== window) {\n        // THANK YOU IE (9/10/11)\n        // dispatchEvent doesn't work if the element is not in the DOM\n        domFix = true;\n        document.body.appendChild(el);\n      }\n      el.dispatchEvent(event);\n      if (domFix) {\n        el.parentNode.removeChild(el);\n      }\n    });\n  });\n};\n"},{"_content":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n","source":"lib/pjax/lib/proto/attach-form.js","raw":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n","date":"2019-09-27T05:34:52.467Z","updated":"2019-09-27T05:34:52.467Z","path":"lib/pjax/lib/proto/attach-form.js","layout":"false","title":"","comments":1,"_id":"ck11pll04000swk2xrzyfz9y9","content":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar formAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  // Initialize requestOptions\n  options.requestOptions = {\n    requestUrl: el.getAttribute(\"action\") || window.location.href,\n    requestMethod: el.getAttribute(\"method\") || \"GET\"\n  };\n\n  // create a testable virtual link of the form action\n  var virtLinkElement = document.createElement(\"a\");\n  virtLinkElement.setAttribute(\"href\", options.requestOptions.requestUrl);\n\n  var attrValue = checkIfShouldAbort(virtLinkElement, options);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  if (el.enctype === \"multipart/form-data\") {\n    options.requestOptions.formData = new FormData(el);\n  } else {\n    options.requestOptions.requestParams = parseFormElements(el);\n  }\n\n  el.setAttribute(attrState, \"submit\");\n\n  options.triggerElement = el;\n  this.loadUrl(virtLinkElement.href, options);\n};\n\nfunction parseFormElements(el) {\n  var requestParams = [];\n  var formElements = el.elements;\n\n  for (var i = 0; i < formElements.length; i++) {\n    var element = formElements[i];\n    var tagName = element.tagName.toLowerCase();\n    // jscs:disable disallowImplicitTypeConversion\n    if (\n      !!element.name &&\n      element.attributes !== undefined &&\n      tagName !== \"button\"\n    ) {\n      // jscs:enable disallowImplicitTypeConversion\n      var type = element.attributes.type;\n\n      if (\n        !type ||\n        (type.value !== \"checkbox\" && type.value !== \"radio\") ||\n        element.checked\n      ) {\n        // Build array of values to submit\n        var values = [];\n\n        if (tagName === \"select\") {\n          var opt;\n\n          for (var j = 0; j < element.options.length; j++) {\n            opt = element.options[j];\n            if (opt.selected && !opt.disabled) {\n              values.push(opt.hasAttribute(\"value\") ? opt.value : opt.text);\n            }\n          }\n        } else {\n          values.push(element.value);\n        }\n\n        for (var k = 0; k < values.length; k++) {\n          requestParams.push({\n            name: encodeURIComponent(element.name),\n            value: encodeURIComponent(values[k])\n          });\n        }\n      }\n    }\n  }\n\n  return requestParams;\n}\n\nfunction checkIfShouldAbort(virtLinkElement, options) {\n  // Ignore external links.\n  if (\n    virtLinkElement.protocol !== window.location.protocol ||\n    virtLinkElement.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore click if we are on an anchor on the same page\n  if (\n    virtLinkElement.hash &&\n    virtLinkElement.href.replace(virtLinkElement.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (virtLinkElement.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n\n  // if declared as a full reload, just normally submit the form\n  if (\n    options.currentUrlFullReload &&\n    virtLinkElement.href === window.location.href.split(\"#\")[0]\n  ) {\n    return \"reload\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"submit\", function(event) {\n    formAction.call(that, el, event);\n  });\n};\n"},{"_content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n","source":"lib/pjax/lib/events/on.js","raw":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n","date":"2019-09-27T05:34:52.466Z","updated":"2019-09-27T05:34:52.466Z","path":"lib/pjax/lib/events/on.js","layout":"false","title":"","comments":1,"_id":"ck11pll04000twk2xzidw8u0o","content":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n","site":{"data":{}},"excerpt":"","more":"var forEachEls = require(\"../foreach-els\");\n\nmodule.exports = function(els, events, listener, useCapture) {\n  events = typeof events === \"string\" ? events.split(\" \") : events;\n\n  events.forEach(function(e) {\n    forEachEls(els, function(el) {\n      el.addEventListener(e, listener, useCapture);\n    });\n  });\n};\n"},{"_content":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n","source":"lib/pjax/lib/proto/attach-link.js","raw":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n","date":"2019-09-27T05:34:52.468Z","updated":"2019-09-27T05:34:52.468Z","path":"lib/pjax/lib/proto/attach-link.js","layout":"false","title":"","comments":1,"_id":"ck11pll04000uwk2x7juc7v65","content":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n","site":{"data":{}},"excerpt":"","more":"var on = require(\"../events/on\");\nvar clone = require(\"../util/clone\");\n\nvar attrState = \"data-pjax-state\";\n\nvar linkAction = function(el, event) {\n  if (isDefaultPrevented(event)) {\n    return;\n  }\n\n  // Since loadUrl modifies options and we may add our own modifications below,\n  // clone it so the changes don't persist\n  var options = clone(this.options);\n\n  var attrValue = checkIfShouldAbort(el, event);\n  if (attrValue) {\n    el.setAttribute(attrState, attrValue);\n    return;\n  }\n\n  event.preventDefault();\n\n  // don’t do \"nothing\" if user try to reload the page by clicking the same link twice\n  if (\n    this.options.currentUrlFullReload &&\n    el.href === window.location.href.split(\"#\")[0]\n  ) {\n    el.setAttribute(attrState, \"reload\");\n    this.reload();\n    return;\n  }\n\n  el.setAttribute(attrState, \"load\");\n\n  options.triggerElement = el;\n  this.loadUrl(el.href, options);\n};\n\nfunction checkIfShouldAbort(el, event) {\n  // Don’t break browser special behavior on links (like page in new window)\n  if (\n    event.which > 1 ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey\n  ) {\n    return \"modifier\";\n  }\n\n  // we do test on href now to prevent unexpected behavior if for some reason\n  // user have href that can be dynamically updated\n\n  // Ignore external links.\n  if (\n    el.protocol !== window.location.protocol ||\n    el.host !== window.location.host\n  ) {\n    return \"external\";\n  }\n\n  // Ignore anchors on the same page (keep native behavior)\n  if (\n    el.hash &&\n    el.href.replace(el.hash, \"\") ===\n      window.location.href.replace(location.hash, \"\")\n  ) {\n    return \"anchor\";\n  }\n\n  // Ignore empty anchor \"foo.html#\"\n  if (el.href === window.location.href.split(\"#\")[0] + \"#\") {\n    return \"anchor-empty\";\n  }\n}\n\nvar isDefaultPrevented = function(event) {\n  return event.defaultPrevented || event.returnValue === false;\n};\n\nmodule.exports = function(el) {\n  var that = this;\n\n  el.setAttribute(attrState, \"\");\n\n  on(el, \"click\", function(event) {\n    linkAction.call(that, el, event);\n  });\n\n  on(\n    el,\n    \"keyup\",\n    function(event) {\n      if (event.keyCode === 13) {\n        linkAction.call(that, el, event);\n      }\n    }.bind(this)\n  );\n};\n"},{"_content":"module.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n","source":"lib/pjax/lib/proto/log.js","raw":"module.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n","date":"2019-09-27T05:34:52.468Z","updated":"2019-09-27T05:34:52.468Z","path":"lib/pjax/lib/proto/log.js","layout":"false","title":"","comments":1,"_id":"ck11pll05000vwk2xbz8am2au","content":"module.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function() {\n  if (this.options.debug && console) {\n    if (typeof console.log === \"function\") {\n      console.log.apply(console, arguments);\n    }\n    // IE is weird\n    else if (console.log) {\n      console.log(arguments);\n    }\n  }\n};\n"},{"_content":"var clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n","source":"lib/pjax/lib/proto/handle-response.js","raw":"var clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n","date":"2019-09-27T05:34:52.468Z","updated":"2019-09-27T05:34:52.468Z","path":"lib/pjax/lib/proto/handle-response.js","layout":"false","title":"","comments":1,"_id":"ck11pll05000wwk2x1qwb8s69","content":"var clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n","site":{"data":{}},"excerpt":"","more":"var clone = require(\"../util/clone\");\nvar newUid = require(\"../uniqueid\");\nvar trigger = require(\"../events/trigger\");\n\nmodule.exports = function(responseText, request, href, options) {\n  options = clone(options || this.options);\n  options.request = request;\n\n  // Fail if unable to load HTML via AJAX\n  if (responseText === false) {\n    trigger(document, \"pjax:complete pjax:error\", options);\n\n    return;\n  }\n\n  // push scroll position to history\n  var currentState = window.history.state || {};\n  window.history.replaceState(\n    {\n      url: currentState.url || window.location.href,\n      title: currentState.title || document.title,\n      uid: currentState.uid || newUid(),\n      scrollPos: [\n        document.documentElement.scrollLeft || document.body.scrollLeft,\n        document.documentElement.scrollTop || document.body.scrollTop\n      ]\n    },\n    document.title,\n    window.location.href\n  );\n\n  // Check for redirects\n  var oldHref = href;\n  if (request.responseURL) {\n    if (href !== request.responseURL) {\n      href = request.responseURL;\n    }\n  } else if (request.getResponseHeader(\"X-PJAX-URL\")) {\n    href = request.getResponseHeader(\"X-PJAX-URL\");\n  } else if (request.getResponseHeader(\"X-XHR-Redirected-To\")) {\n    href = request.getResponseHeader(\"X-XHR-Redirected-To\");\n  }\n\n  // Add back the hash if it was removed\n  var a = document.createElement(\"a\");\n  a.href = oldHref;\n  var oldHash = a.hash;\n  a.href = href;\n  if (oldHash && !a.hash) {\n    a.hash = oldHash;\n    href = a.href;\n  }\n\n  this.state.href = href;\n  this.state.options = options;\n\n  try {\n    this.loadContent(responseText, options);\n  } catch (e) {\n    trigger(document, \"pjax:error\", options);\n\n    if (!this.options.debug) {\n      if (console && console.error) {\n        console.error(\"Pjax switch fail: \", e);\n      }\n      return this.latestChance(href);\n    } else {\n      throw e;\n    }\n  }\n};\n"},{"_content":"module.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n","source":"lib/pjax/lib/util/clone.js","raw":"module.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n","date":"2019-09-27T05:34:52.470Z","updated":"2019-09-27T05:34:52.470Z","path":"lib/pjax/lib/util/clone.js","layout":"false","title":"","comments":1,"_id":"ck11pll06000xwk2xzxaf5iga","content":"module.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function(obj) {\n  /* istanbul ignore if */\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n  return copy;\n};\n"},{"_content":"module.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","source":"lib/pjax/lib/util/contains.js","raw":"module.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","date":"2019-09-27T05:34:52.470Z","updated":"2019-09-27T05:34:52.470Z","path":"lib/pjax/lib/util/contains.js","layout":"false","title":"","comments":1,"_id":"ck11pll06000ywk2xl10t7mu4","content":"module.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function contains(doc, selectors, el) {\n  for (var i = 0; i < selectors.length; i++) {\n    var selectedEls = doc.querySelectorAll(selectors[i]);\n    for (var j = 0; j < selectedEls.length; j++) {\n      if (selectedEls[j].contains(el)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n"},{"_content":"var attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n","source":"lib/pjax/lib/proto/parse-element.js","raw":"var attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n","date":"2019-09-27T05:34:52.468Z","updated":"2019-09-27T05:34:52.468Z","path":"lib/pjax/lib/proto/parse-element.js","layout":"false","title":"","comments":1,"_id":"ck11pll06000zwk2xh68daa87","content":"var attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n</form></a>","site":{"data":{}},"excerpt":"","more":"var attrState = \"data-pjax-state\";\n\nmodule.exports = function(el) {\n  switch (el.tagName.toLowerCase()) {\n    case \"a\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachLink(el);\n      }\n      break;\n\n    case \"form\":\n      // only attach link if el does not already have link attached\n      if (!el.hasAttribute(attrState)) {\n        this.attachForm(el);\n      }\n      break;\n\n    default:\n      throw \"Pjax can only be applied on <a> or <form> submit\";\n  }\n};\n</form></a>"},{"_content":"module.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n","source":"lib/pjax/lib/util/extend.js","raw":"module.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n","date":"2019-09-27T05:34:52.470Z","updated":"2019-09-27T05:34:52.470Z","path":"lib/pjax/lib/util/extend.js","layout":"false","title":"","comments":1,"_id":"ck11pll070010wk2xhpzpdybk","content":"module.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function(target) {\n  if (target == null) {\n    return null;\n  }\n\n  var to = Object(target);\n\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source != null) {\n      for (var key in source) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          to[key] = source[key];\n        }\n      }\n    }\n  }\n  return to;\n};\n"},{"_content":"module.exports = function() {};\n","source":"lib/pjax/lib/util/noop.js","raw":"module.exports = function() {};\n","date":"2019-09-27T05:34:52.471Z","updated":"2019-09-27T05:34:52.471Z","path":"lib/pjax/lib/util/noop.js","layout":"false","title":"","comments":1,"_id":"ck11pll070011wk2x8fmrvmcd","content":"module.exports = function() {};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function() {};\n"},{"_content":"var tape = require(\"tape\");\n\nvar evalScript = require(\"../../lib/eval-script\");\n\ntape(\"test evalScript method\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed'\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n\n  evalScript(script);\n  t.equal(\n    document.body.className,\n    \"executed\",\n    \"script has been properly executed\"\n  );\n\n  script.innerHTML = \"document.write('failure')\";\n  var bodyText = \"document.write hasn't been executed\";\n  document.body.text = bodyText;\n  evalScript(script);\n  t.equal(document.body.text, bodyText, \"document.write hasn't been executed\");\n\n  t.end();\n});\n\ntape(\n  \"evalScript should not throw an error if the script removed itself\",\n  function(t) {\n    var script = document.createElement(\"script\");\n    script.id = \"myScript\";\n    script.innerHTML =\n      \"const script = document.querySelector('#myScript');\" +\n      \"script.parentNode.removeChild(script);\";\n\n    try {\n      evalScript(script);\n\n      t.pass(\"Missing script tested successfully\");\n    } catch (e) {\n      console.error(e);\n      t.fail(\"Attempted to remove missing script\");\n    }\n\n    t.end();\n  }\n);\n","source":"lib/pjax/tests/lib/eval-scripts.js","raw":"var tape = require(\"tape\");\n\nvar evalScript = require(\"../../lib/eval-script\");\n\ntape(\"test evalScript method\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed'\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n\n  evalScript(script);\n  t.equal(\n    document.body.className,\n    \"executed\",\n    \"script has been properly executed\"\n  );\n\n  script.innerHTML = \"document.write('failure')\";\n  var bodyText = \"document.write hasn't been executed\";\n  document.body.text = bodyText;\n  evalScript(script);\n  t.equal(document.body.text, bodyText, \"document.write hasn't been executed\");\n\n  t.end();\n});\n\ntape(\n  \"evalScript should not throw an error if the script removed itself\",\n  function(t) {\n    var script = document.createElement(\"script\");\n    script.id = \"myScript\";\n    script.innerHTML =\n      \"const script = document.querySelector('#myScript');\" +\n      \"script.parentNode.removeChild(script);\";\n\n    try {\n      evalScript(script);\n\n      t.pass(\"Missing script tested successfully\");\n    } catch (e) {\n      console.error(e);\n      t.fail(\"Attempted to remove missing script\");\n    }\n\n    t.end();\n  }\n);\n","date":"2019-09-27T05:34:52.473Z","updated":"2019-09-27T05:34:52.473Z","path":"lib/pjax/tests/lib/eval-scripts.js","layout":"false","title":"","comments":1,"_id":"ck11pll070012wk2x63bradg2","content":"var tape = require(\"tape\");\n\nvar evalScript = require(\"../../lib/eval-script\");\n\ntape(\"test evalScript method\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed'\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n\n  evalScript(script);\n  t.equal(\n    document.body.className,\n    \"executed\",\n    \"script has been properly executed\"\n  );\n\n  script.innerHTML = \"document.write('failure')\";\n  var bodyText = \"document.write hasn't been executed\";\n  document.body.text = bodyText;\n  evalScript(script);\n  t.equal(document.body.text, bodyText, \"document.write hasn't been executed\");\n\n  t.end();\n});\n\ntape(\n  \"evalScript should not throw an error if the script removed itself\",\n  function(t) {\n    var script = document.createElement(\"script\");\n    script.id = \"myScript\";\n    script.innerHTML =\n      \"const script = document.querySelector('#myScript');\" +\n      \"script.parentNode.removeChild(script);\";\n\n    try {\n      evalScript(script);\n\n      t.pass(\"Missing script tested successfully\");\n    } catch (e) {\n      console.error(e);\n      t.fail(\"Attempted to remove missing script\");\n    }\n\n    t.end();\n  }\n);\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar evalScript = require(\"../../lib/eval-script\");\n\ntape(\"test evalScript method\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed'\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n\n  evalScript(script);\n  t.equal(\n    document.body.className,\n    \"executed\",\n    \"script has been properly executed\"\n  );\n\n  script.innerHTML = \"document.write('failure')\";\n  var bodyText = \"document.write hasn't been executed\";\n  document.body.text = bodyText;\n  evalScript(script);\n  t.equal(document.body.text, bodyText, \"document.write hasn't been executed\");\n\n  t.end();\n});\n\ntape(\n  \"evalScript should not throw an error if the script removed itself\",\n  function(t) {\n    var script = document.createElement(\"script\");\n    script.id = \"myScript\";\n    script.innerHTML =\n      \"const script = document.querySelector('#myScript');\" +\n      \"script.parentNode.removeChild(script);\";\n\n    try {\n      evalScript(script);\n\n      t.pass(\"Missing script tested successfully\");\n    } catch (e) {\n      console.error(e);\n      t.fail(\"Attempted to remove missing script\");\n    }\n\n    t.end();\n  }\n);\n"},{"_content":"var tape = require(\"tape\");\n\nvar abortRequest = require(\"../../lib/abort-request.js\");\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test aborting xhr request\", function(t) {\n  var requestCacheBust = sendRequest.bind({\n    options: {\n      cacheBust: true\n    }\n  });\n\n  t.test(\"- pending request is aborted\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/delay/10\", {}, function() {\n      t.fail(\"xhr was not aborted\");\n    });\n    t.equal(r.readyState, 1, \"xhr readyState is '1' (SENT)\");\n    abortRequest(r);\n    t.equal(r.readyState, 0, \"xhr readyState is '0' (ABORTED)\");\n    t.equal(r.status, 0, \"xhr HTTP status is '0' (ABORTED)\");\n    t.equal(r.responseText, \"\", \"xhr response is empty\");\n    t.end();\n  });\n  t.test(\"- request is not aborted if it has already completed\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/get\", {}, function() {\n      abortRequest(r);\n      t.equal(r.readyState, 4, \"xhr readyState is '4' (DONE)\");\n      t.equal(r.status, 200, \"xhr HTTP status is '200' (OK)\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not aborted if it is undefined\", function(t) {\n    var r;\n    try {\n      abortRequest(r);\n    } catch (e) {\n      t.fail(\"aborting an undefined request threw an error\");\n    }\n    t.equal(typeof r, \"undefined\", \"undefined xhr was ignored\");\n    t.end();\n  });\n  t.end();\n});\n","source":"lib/pjax/tests/lib/abort-request.js","raw":"var tape = require(\"tape\");\n\nvar abortRequest = require(\"../../lib/abort-request.js\");\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test aborting xhr request\", function(t) {\n  var requestCacheBust = sendRequest.bind({\n    options: {\n      cacheBust: true\n    }\n  });\n\n  t.test(\"- pending request is aborted\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/delay/10\", {}, function() {\n      t.fail(\"xhr was not aborted\");\n    });\n    t.equal(r.readyState, 1, \"xhr readyState is '1' (SENT)\");\n    abortRequest(r);\n    t.equal(r.readyState, 0, \"xhr readyState is '0' (ABORTED)\");\n    t.equal(r.status, 0, \"xhr HTTP status is '0' (ABORTED)\");\n    t.equal(r.responseText, \"\", \"xhr response is empty\");\n    t.end();\n  });\n  t.test(\"- request is not aborted if it has already completed\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/get\", {}, function() {\n      abortRequest(r);\n      t.equal(r.readyState, 4, \"xhr readyState is '4' (DONE)\");\n      t.equal(r.status, 200, \"xhr HTTP status is '200' (OK)\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not aborted if it is undefined\", function(t) {\n    var r;\n    try {\n      abortRequest(r);\n    } catch (e) {\n      t.fail(\"aborting an undefined request threw an error\");\n    }\n    t.equal(typeof r, \"undefined\", \"undefined xhr was ignored\");\n    t.end();\n  });\n  t.end();\n});\n","date":"2019-09-27T05:34:52.473Z","updated":"2019-09-27T05:34:52.473Z","path":"lib/pjax/tests/lib/abort-request.js","layout":"false","title":"","comments":1,"_id":"ck11pll080013wk2x33wnhvvo","content":"var tape = require(\"tape\");\n\nvar abortRequest = require(\"../../lib/abort-request.js\");\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test aborting xhr request\", function(t) {\n  var requestCacheBust = sendRequest.bind({\n    options: {\n      cacheBust: true\n    }\n  });\n\n  t.test(\"- pending request is aborted\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/delay/10\", {}, function() {\n      t.fail(\"xhr was not aborted\");\n    });\n    t.equal(r.readyState, 1, \"xhr readyState is '1' (SENT)\");\n    abortRequest(r);\n    t.equal(r.readyState, 0, \"xhr readyState is '0' (ABORTED)\");\n    t.equal(r.status, 0, \"xhr HTTP status is '0' (ABORTED)\");\n    t.equal(r.responseText, \"\", \"xhr response is empty\");\n    t.end();\n  });\n  t.test(\"- request is not aborted if it has already completed\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/get\", {}, function() {\n      abortRequest(r);\n      t.equal(r.readyState, 4, \"xhr readyState is '4' (DONE)\");\n      t.equal(r.status, 200, \"xhr HTTP status is '200' (OK)\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not aborted if it is undefined\", function(t) {\n    var r;\n    try {\n      abortRequest(r);\n    } catch (e) {\n      t.fail(\"aborting an undefined request threw an error\");\n    }\n    t.equal(typeof r, \"undefined\", \"undefined xhr was ignored\");\n    t.end();\n  });\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar abortRequest = require(\"../../lib/abort-request.js\");\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test aborting xhr request\", function(t) {\n  var requestCacheBust = sendRequest.bind({\n    options: {\n      cacheBust: true\n    }\n  });\n\n  t.test(\"- pending request is aborted\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/delay/10\", {}, function() {\n      t.fail(\"xhr was not aborted\");\n    });\n    t.equal(r.readyState, 1, \"xhr readyState is '1' (SENT)\");\n    abortRequest(r);\n    t.equal(r.readyState, 0, \"xhr readyState is '0' (ABORTED)\");\n    t.equal(r.status, 0, \"xhr HTTP status is '0' (ABORTED)\");\n    t.equal(r.responseText, \"\", \"xhr response is empty\");\n    t.end();\n  });\n  t.test(\"- request is not aborted if it has already completed\", function(t) {\n    var r = requestCacheBust(\"https://httpbin.org/get\", {}, function() {\n      abortRequest(r);\n      t.equal(r.readyState, 4, \"xhr readyState is '4' (DONE)\");\n      t.equal(r.status, 200, \"xhr HTTP status is '200' (OK)\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not aborted if it is undefined\", function(t) {\n    var r;\n    try {\n      abortRequest(r);\n    } catch (e) {\n      t.fail(\"aborting an undefined request threw an error\");\n    }\n    t.equal(typeof r, \"undefined\", \"undefined xhr was ignored\");\n    t.end();\n  });\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar on = require(\"../../lib/events/on\");\nvar off = require(\"../../lib/events/off\");\nvar trigger = require(\"../../lib/events/trigger\");\n\nvar el = document.createElement(\"div\");\nvar el2 = document.createElement(\"span\");\nvar els = [el, el2];\n\nvar classCb = function() {\n  this.className += \"on\";\n};\nvar attrCb = function() {\n  this.setAttribute(\"data-state\", this.getAttribute(\"data-state\") + \"ON\");\n};\n\ntape(\"test events on/off/trigger for one element, one event\", function(t) {\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"on\", \"attached callback has been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"off\", \"triggered event didn't fire detached callback\");\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for multiple elements, one event\", function(\n  t\n) {\n  el.className = \"\";\n  el2.className = \"\";\n\n  on(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"on\",\n    \"attached callback has been fired properly on the second element\"\n  );\n\n  el.className = \"off\";\n  el2.className = \"off\";\n  off(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the second element\"\n  );\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for one element, multiple events\", function(\n  t\n) {\n  el.className = \"\";\n  on(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(el.className, \"onon\", \"attached callbacks have been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered events didn't fire detached callback\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events on/off/trigger for multiple elements, multiple events\",\n  function(t) {\n    el.className = \"\";\n    el2.className = \"\";\n    el.setAttribute(\"data-state\", \"\");\n    el2.setAttribute(\"data-state\", \"\");\n    on(els, \"click mouseover\", classCb);\n    on(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n\n    el.className = \"off\";\n    el2.className = \"off\";\n    el.setAttribute(\"data-state\", \"off\");\n    el2.setAttribute(\"data-state\", \"off\");\n    off(els, \"click mouseover\", classCb);\n    off(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test events on top level elements\", function(t) {\n  var el = document;\n\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on document\"\n  );\n\n  el = window;\n\n  el.className = \"\";\n  // With jsdom, the default this is global, not window, so we need to explicitly bind to window.\n  on(el, \"click\", classCb.bind(window));\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on window\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/events.js","raw":"var tape = require(\"tape\");\n\nvar on = require(\"../../lib/events/on\");\nvar off = require(\"../../lib/events/off\");\nvar trigger = require(\"../../lib/events/trigger\");\n\nvar el = document.createElement(\"div\");\nvar el2 = document.createElement(\"span\");\nvar els = [el, el2];\n\nvar classCb = function() {\n  this.className += \"on\";\n};\nvar attrCb = function() {\n  this.setAttribute(\"data-state\", this.getAttribute(\"data-state\") + \"ON\");\n};\n\ntape(\"test events on/off/trigger for one element, one event\", function(t) {\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"on\", \"attached callback has been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"off\", \"triggered event didn't fire detached callback\");\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for multiple elements, one event\", function(\n  t\n) {\n  el.className = \"\";\n  el2.className = \"\";\n\n  on(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"on\",\n    \"attached callback has been fired properly on the second element\"\n  );\n\n  el.className = \"off\";\n  el2.className = \"off\";\n  off(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the second element\"\n  );\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for one element, multiple events\", function(\n  t\n) {\n  el.className = \"\";\n  on(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(el.className, \"onon\", \"attached callbacks have been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered events didn't fire detached callback\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events on/off/trigger for multiple elements, multiple events\",\n  function(t) {\n    el.className = \"\";\n    el2.className = \"\";\n    el.setAttribute(\"data-state\", \"\");\n    el2.setAttribute(\"data-state\", \"\");\n    on(els, \"click mouseover\", classCb);\n    on(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n\n    el.className = \"off\";\n    el2.className = \"off\";\n    el.setAttribute(\"data-state\", \"off\");\n    el2.setAttribute(\"data-state\", \"off\");\n    off(els, \"click mouseover\", classCb);\n    off(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test events on top level elements\", function(t) {\n  var el = document;\n\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on document\"\n  );\n\n  el = window;\n\n  el.className = \"\";\n  // With jsdom, the default this is global, not window, so we need to explicitly bind to window.\n  on(el, \"click\", classCb.bind(window));\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on window\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.473Z","updated":"2019-09-27T05:34:52.473Z","path":"lib/pjax/tests/lib/events.js","layout":"false","title":"","comments":1,"_id":"ck11pll080014wk2xmy2at1ku","content":"var tape = require(\"tape\");\n\nvar on = require(\"../../lib/events/on\");\nvar off = require(\"../../lib/events/off\");\nvar trigger = require(\"../../lib/events/trigger\");\n\nvar el = document.createElement(\"div\");\nvar el2 = document.createElement(\"span\");\nvar els = [el, el2];\n\nvar classCb = function() {\n  this.className += \"on\";\n};\nvar attrCb = function() {\n  this.setAttribute(\"data-state\", this.getAttribute(\"data-state\") + \"ON\");\n};\n\ntape(\"test events on/off/trigger for one element, one event\", function(t) {\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"on\", \"attached callback has been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"off\", \"triggered event didn't fire detached callback\");\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for multiple elements, one event\", function(\n  t\n) {\n  el.className = \"\";\n  el2.className = \"\";\n\n  on(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"on\",\n    \"attached callback has been fired properly on the second element\"\n  );\n\n  el.className = \"off\";\n  el2.className = \"off\";\n  off(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the second element\"\n  );\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for one element, multiple events\", function(\n  t\n) {\n  el.className = \"\";\n  on(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(el.className, \"onon\", \"attached callbacks have been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered events didn't fire detached callback\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events on/off/trigger for multiple elements, multiple events\",\n  function(t) {\n    el.className = \"\";\n    el2.className = \"\";\n    el.setAttribute(\"data-state\", \"\");\n    el2.setAttribute(\"data-state\", \"\");\n    on(els, \"click mouseover\", classCb);\n    on(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n\n    el.className = \"off\";\n    el2.className = \"off\";\n    el.setAttribute(\"data-state\", \"off\");\n    el2.setAttribute(\"data-state\", \"off\");\n    off(els, \"click mouseover\", classCb);\n    off(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test events on top level elements\", function(t) {\n  var el = document;\n\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on document\"\n  );\n\n  el = window;\n\n  el.className = \"\";\n  // With jsdom, the default this is global, not window, so we need to explicitly bind to window.\n  on(el, \"click\", classCb.bind(window));\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on window\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar on = require(\"../../lib/events/on\");\nvar off = require(\"../../lib/events/off\");\nvar trigger = require(\"../../lib/events/trigger\");\n\nvar el = document.createElement(\"div\");\nvar el2 = document.createElement(\"span\");\nvar els = [el, el2];\n\nvar classCb = function() {\n  this.className += \"on\";\n};\nvar attrCb = function() {\n  this.setAttribute(\"data-state\", this.getAttribute(\"data-state\") + \"ON\");\n};\n\ntape(\"test events on/off/trigger for one element, one event\", function(t) {\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"on\", \"attached callback has been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(el.className, \"off\", \"triggered event didn't fire detached callback\");\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for multiple elements, one event\", function(\n  t\n) {\n  el.className = \"\";\n  el2.className = \"\";\n\n  on(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"on\",\n    \"attached callback has been fired properly on the second element\"\n  );\n\n  el.className = \"off\";\n  el2.className = \"off\";\n  off(els, \"click\", classCb);\n  trigger(els, \"click\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the first element\"\n  );\n  t.equal(\n    el2.className,\n    \"off\",\n    \"triggered event didn't fire detached callback on the second element\"\n  );\n\n  t.end();\n});\n\ntape(\"test events on/off/trigger for one element, multiple events\", function(\n  t\n) {\n  el.className = \"\";\n  on(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(el.className, \"onon\", \"attached callbacks have been fired properly\");\n\n  el.className = \"off\";\n  off(el, \"click mouseover\", classCb);\n  trigger(el, \"click mouseover\");\n  t.equal(\n    el.className,\n    \"off\",\n    \"triggered events didn't fire detached callback\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events on/off/trigger for multiple elements, multiple events\",\n  function(t) {\n    el.className = \"\";\n    el2.className = \"\";\n    el.setAttribute(\"data-state\", \"\");\n    el2.setAttribute(\"data-state\", \"\");\n    on(els, \"click mouseover\", classCb);\n    on(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"onon\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"ONON\",\n      \"attached callbacks has been fired properly on the second element\"\n    );\n\n    el.className = \"off\";\n    el2.className = \"off\";\n    el.setAttribute(\"data-state\", \"off\");\n    el2.setAttribute(\"data-state\", \"off\");\n    off(els, \"click mouseover\", classCb);\n    off(els, \"resize scroll\", attrCb);\n    trigger(els, \"click mouseover resize scroll\");\n    t.equal(\n      el.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.className,\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n    t.equal(\n      el2.getAttribute(\"data-state\"),\n      \"off\",\n      \"triggered events didn't fire detached callbacks on the first element\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test events on top level elements\", function(t) {\n  var el = document;\n\n  el.className = \"\";\n  on(el, \"click\", classCb);\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on document\"\n  );\n\n  el = window;\n\n  el.className = \"\";\n  // With jsdom, the default this is global, not window, so we need to explicitly bind to window.\n  on(el, \"click\", classCb.bind(window));\n  trigger(el, \"click\");\n  t.equal(\n    el.className,\n    \"on\",\n    \"attached callback has been fired properly on window\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar executeScripts = require(\"../../lib/execute-scripts\");\n\ntape(\n  \"test executeScripts method when the script tag is inside a container\",\n  function(t) {\n    document.body.className = \"\";\n\n    var container = document.createElement(\"div\");\n    container.innerHTML =\n      \"<\" +\n      \"script\" +\n      \">document.body.className = 'executed';</\" +\n      \"script\" +\n      \"><\" +\n      \"script\" +\n      \">document.body.className += ' correctly';</\" +\n      \"script\" +\n      \">\";\n\n    t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n    executeScripts(container);\n    t.equal(\n      document.body.className,\n      \"executed correctly\",\n      \"script has been properly executed\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test executeScripts method with just a script tag\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed correctly';\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n  executeScripts(script);\n  t.equal(\n    document.body.className,\n    \"executed correctly\",\n    \"script has been properly executed\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/execute-scripts.js","raw":"var tape = require(\"tape\");\n\nvar executeScripts = require(\"../../lib/execute-scripts\");\n\ntape(\n  \"test executeScripts method when the script tag is inside a container\",\n  function(t) {\n    document.body.className = \"\";\n\n    var container = document.createElement(\"div\");\n    container.innerHTML =\n      \"<\" +\n      \"script\" +\n      \">document.body.className = 'executed';</\" +\n      \"script\" +\n      \"><\" +\n      \"script\" +\n      \">document.body.className += ' correctly';</\" +\n      \"script\" +\n      \">\";\n\n    t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n    executeScripts(container);\n    t.equal(\n      document.body.className,\n      \"executed correctly\",\n      \"script has been properly executed\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test executeScripts method with just a script tag\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed correctly';\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n  executeScripts(script);\n  t.equal(\n    document.body.className,\n    \"executed correctly\",\n    \"script has been properly executed\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.474Z","updated":"2019-09-27T05:34:52.474Z","path":"lib/pjax/tests/lib/execute-scripts.js","layout":"false","title":"","comments":1,"_id":"ck11pll080015wk2x5coetwu9","content":"var tape = require(\"tape\");\n\nvar executeScripts = require(\"../../lib/execute-scripts\");\n\ntape(\n  \"test executeScripts method when the script tag is inside a container\",\n  function(t) {\n    document.body.className = \"\";\n\n    var container = document.createElement(\"div\");\n    container.innerHTML =\n      \"<\" + \"script\" \">document.body.className = 'executed';</\"><\" + \"script\" \">document.body.className += ' correctly';</\">\";\n\n    t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n    executeScripts(container);\n    t.equal(\n      document.body.className,\n      \"executed correctly\",\n      \"script has been properly executed\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test executeScripts method with just a script tag\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed correctly';\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n  executeScripts(script);\n  t.equal(\n    document.body.className,\n    \"executed correctly\",\n    \"script has been properly executed\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar executeScripts = require(\"../../lib/execute-scripts\");\n\ntape(\n  \"test executeScripts method when the script tag is inside a container\",\n  function(t) {\n    document.body.className = \"\";\n\n    var container = document.createElement(\"div\");\n    container.innerHTML =\n      \"<\" + \"script\" \">document.body.className = 'executed';</\"><\" + \"script\" \">document.body.className += ' correctly';</\">\";\n\n    t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n    executeScripts(container);\n    t.equal(\n      document.body.className,\n      \"executed correctly\",\n      \"script has been properly executed\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test executeScripts method with just a script tag\", function(t) {\n  document.body.className = \"\";\n\n  var script = document.createElement(\"script\");\n  script.innerHTML = \"document.body.className = 'executed correctly';\";\n\n  t.equal(document.body.className, \"\", \"script hasn't been executed yet\");\n  executeScripts(script);\n  t.equal(\n    document.body.className,\n    \"executed correctly\",\n    \"script has been properly executed\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-els.js\");\n\nvar div = document.createElement(\"div\");\nvar span = document.createElement(\"span\");\nvar cb = function(el) {\n  el.innerHTML = \"boom\";\n};\n\ntape(\"test forEachEls on one element\", function(t) {\n  div.innerHTML = \"div tag\";\n  forEachEls(div, cb);\n\n  t.equal(div.innerHTML, \"boom\", \"works correctly on one element\");\n  t.end();\n});\n\ntape(\"test forEachEls on an array\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  forEachEls([div, span], cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the array\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the array\"\n  );\n\n  t.end();\n});\n\ntape(\"test forEachEls on a NodeList\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  var frag = document.createDocumentFragment();\n  frag.appendChild(div);\n  frag.appendChild(span);\n  forEachEls(frag.childNodes, cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the document fragment\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the document fragment\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/foreach-els.js","raw":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-els.js\");\n\nvar div = document.createElement(\"div\");\nvar span = document.createElement(\"span\");\nvar cb = function(el) {\n  el.innerHTML = \"boom\";\n};\n\ntape(\"test forEachEls on one element\", function(t) {\n  div.innerHTML = \"div tag\";\n  forEachEls(div, cb);\n\n  t.equal(div.innerHTML, \"boom\", \"works correctly on one element\");\n  t.end();\n});\n\ntape(\"test forEachEls on an array\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  forEachEls([div, span], cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the array\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the array\"\n  );\n\n  t.end();\n});\n\ntape(\"test forEachEls on a NodeList\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  var frag = document.createDocumentFragment();\n  frag.appendChild(div);\n  frag.appendChild(span);\n  forEachEls(frag.childNodes, cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the document fragment\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the document fragment\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.474Z","updated":"2019-09-27T05:34:52.474Z","path":"lib/pjax/tests/lib/foreach-els.js","layout":"false","title":"","comments":1,"_id":"ck11pll090016wk2xd44wzupw","content":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-els.js\");\n\nvar div = document.createElement(\"div\");\nvar span = document.createElement(\"span\");\nvar cb = function(el) {\n  el.innerHTML = \"boom\";\n};\n\ntape(\"test forEachEls on one element\", function(t) {\n  div.innerHTML = \"div tag\";\n  forEachEls(div, cb);\n\n  t.equal(div.innerHTML, \"boom\", \"works correctly on one element\");\n  t.end();\n});\n\ntape(\"test forEachEls on an array\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  forEachEls([div, span], cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the array\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the array\"\n  );\n\n  t.end();\n});\n\ntape(\"test forEachEls on a NodeList\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  var frag = document.createDocumentFragment();\n  frag.appendChild(div);\n  frag.appendChild(span);\n  forEachEls(frag.childNodes, cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the document fragment\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the document fragment\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-els.js\");\n\nvar div = document.createElement(\"div\");\nvar span = document.createElement(\"span\");\nvar cb = function(el) {\n  el.innerHTML = \"boom\";\n};\n\ntape(\"test forEachEls on one element\", function(t) {\n  div.innerHTML = \"div tag\";\n  forEachEls(div, cb);\n\n  t.equal(div.innerHTML, \"boom\", \"works correctly on one element\");\n  t.end();\n});\n\ntape(\"test forEachEls on an array\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  forEachEls([div, span], cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the array\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the array\"\n  );\n\n  t.end();\n});\n\ntape(\"test forEachEls on a NodeList\", function(t) {\n  div.innerHTML = \"div tag\";\n  span.innerHTML = \"span tag\";\n\n  var frag = document.createDocumentFragment();\n  frag.appendChild(div);\n  frag.appendChild(span);\n  forEachEls(frag.childNodes, cb);\n\n  t.equal(\n    div.innerHTML,\n    \"boom\",\n    \"works correctly on the first element of the document fragment\"\n  );\n  t.equal(\n    span.innerHTML,\n    \"boom\",\n    \"works correctly on the last element of the document fragment\"\n  );\n\n  t.end();\n});\n"},{"_content":"module.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n","source":"lib/pjax/lib/util/update-query-string.js","raw":"module.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n","date":"2019-09-27T05:34:52.471Z","updated":"2019-09-27T05:34:52.471Z","path":"lib/pjax/lib/util/update-query-string.js","layout":"false","title":"","comments":1,"_id":"ck11pll090017wk2xpg298sb9","content":"module.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n","site":{"data":{}},"excerpt":"","more":"module.exports = function(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n  if (uri.match(re)) {\n    return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n};\n"},{"_content":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-selectors.js\");\n\nvar cb = function(el) {\n  el.className = \"modified\";\n};\n\ntape(\"test forEachSelector\", function(t) {\n  forEachEls([\"html\", \"body\"], cb);\n\n  t.equal(\n    document.documentElement.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n\n  document.documentElement.className = \"\";\n  document.body.className = \"\";\n\n  forEachEls([\"html\", \"body\"], cb, null, document.documentElement);\n\n  t.equal(\n    document.documentElement.className,\n    \"\",\n    \"callback has not been executed on first selector when context is used\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector when context is used\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/foreach-selectors.js","raw":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-selectors.js\");\n\nvar cb = function(el) {\n  el.className = \"modified\";\n};\n\ntape(\"test forEachSelector\", function(t) {\n  forEachEls([\"html\", \"body\"], cb);\n\n  t.equal(\n    document.documentElement.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n\n  document.documentElement.className = \"\";\n  document.body.className = \"\";\n\n  forEachEls([\"html\", \"body\"], cb, null, document.documentElement);\n\n  t.equal(\n    document.documentElement.className,\n    \"\",\n    \"callback has not been executed on first selector when context is used\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector when context is used\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.475Z","updated":"2019-09-27T05:34:52.475Z","path":"lib/pjax/tests/lib/foreach-selectors.js","layout":"false","title":"","comments":1,"_id":"ck11pll0a0018wk2x0kdn9lgq","content":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-selectors.js\");\n\nvar cb = function(el) {\n  el.className = \"modified\";\n};\n\ntape(\"test forEachSelector\", function(t) {\n  forEachEls([\"html\", \"body\"], cb);\n\n  t.equal(\n    document.documentElement.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n\n  document.documentElement.className = \"\";\n  document.body.className = \"\";\n\n  forEachEls([\"html\", \"body\"], cb, null, document.documentElement);\n\n  t.equal(\n    document.documentElement.className,\n    \"\",\n    \"callback has not been executed on first selector when context is used\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector when context is used\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar forEachEls = require(\"../../lib/foreach-selectors.js\");\n\nvar cb = function(el) {\n  el.className = \"modified\";\n};\n\ntape(\"test forEachSelector\", function(t) {\n  forEachEls([\"html\", \"body\"], cb);\n\n  t.equal(\n    document.documentElement.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector\"\n  );\n\n  document.documentElement.className = \"\";\n  document.body.className = \"\";\n\n  forEachEls([\"html\", \"body\"], cb, null, document.documentElement);\n\n  t.equal(\n    document.documentElement.className,\n    \"\",\n    \"callback has not been executed on first selector when context is used\"\n  );\n  t.equal(\n    document.body.className,\n    \"modified\",\n    \"callback has been executed on first selector when context is used\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar switchesSelectors = require(\"../../lib/switches-selectors.js\");\nvar noop = require(\"../../lib/util/noop\");\n\nvar pjax = {\n  onSwitch: function() {\n    console.log(\"Switched\");\n  },\n  state: {},\n  log: noop\n};\n\n// @author darylteo\ntape(\"test switchesSelectors\", function(t) {\n  // switchesSelectors relies on a higher level function callback\n  // should really be passed in instead so I'll leave it here as a TODO:\n  var tmpEl = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = document.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p><span>No Change</span>\";\n  document.body.appendChild(container);\n\n  var container2 = tmpEl.createElement(\"div\");\n  container2.innerHTML = \"<p>New Text</p><span>New Span</span>\";\n  tmpEl.body.appendChild(container2);\n\n  switchesSelectors.bind(pjax)(\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    tmpEl, // fromEl\n    document, // toEl,\n    {} // options\n  );\n\n  t.equals(\n    container.innerHTML,\n    \"<p>New Text</p><span>No Change</span>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n\ntape(\"test switchesSelectors when number of elements don't match\", function(t) {\n  var newTempDoc = document.implementation.createHTMLDocument();\n  var originalTempDoc = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = originalTempDoc.createElement(\"div\");\n  container.innerHTML = \"<p>Original text</p><span>No change</span>\";\n  originalTempDoc.body.appendChild(container);\n\n  var container2 = newTempDoc.createElement(\"div\");\n  container2.innerHTML =\n    \"<p>New text</p><p>More new text</p><span>New span</span>\";\n  newTempDoc.body.appendChild(container2);\n\n  var switchSelectorsFn = switchesSelectors.bind(\n    pjax,\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    newTempDoc, // fromEl\n    originalTempDoc, // toEl,\n    {} // options\n  );\n\n  t.throws(\n    switchSelectorsFn,\n    null,\n    \"error was thrown properly since number of elements don't match\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/switch-selectors.js","raw":"var tape = require(\"tape\");\n\nvar switchesSelectors = require(\"../../lib/switches-selectors.js\");\nvar noop = require(\"../../lib/util/noop\");\n\nvar pjax = {\n  onSwitch: function() {\n    console.log(\"Switched\");\n  },\n  state: {},\n  log: noop\n};\n\n// @author darylteo\ntape(\"test switchesSelectors\", function(t) {\n  // switchesSelectors relies on a higher level function callback\n  // should really be passed in instead so I'll leave it here as a TODO:\n  var tmpEl = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = document.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p><span>No Change</span>\";\n  document.body.appendChild(container);\n\n  var container2 = tmpEl.createElement(\"div\");\n  container2.innerHTML = \"<p>New Text</p><span>New Span</span>\";\n  tmpEl.body.appendChild(container2);\n\n  switchesSelectors.bind(pjax)(\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    tmpEl, // fromEl\n    document, // toEl,\n    {} // options\n  );\n\n  t.equals(\n    container.innerHTML,\n    \"<p>New Text</p><span>No Change</span>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n\ntape(\"test switchesSelectors when number of elements don't match\", function(t) {\n  var newTempDoc = document.implementation.createHTMLDocument();\n  var originalTempDoc = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = originalTempDoc.createElement(\"div\");\n  container.innerHTML = \"<p>Original text</p><span>No change</span>\";\n  originalTempDoc.body.appendChild(container);\n\n  var container2 = newTempDoc.createElement(\"div\");\n  container2.innerHTML =\n    \"<p>New text</p><p>More new text</p><span>New span</span>\";\n  newTempDoc.body.appendChild(container2);\n\n  var switchSelectorsFn = switchesSelectors.bind(\n    pjax,\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    newTempDoc, // fromEl\n    originalTempDoc, // toEl,\n    {} // options\n  );\n\n  t.throws(\n    switchSelectorsFn,\n    null,\n    \"error was thrown properly since number of elements don't match\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.479Z","updated":"2019-09-27T05:34:52.479Z","path":"lib/pjax/tests/lib/switch-selectors.js","layout":"false","title":"","comments":1,"_id":"ck11pll0a0019wk2xilscdzed","content":"var tape = require(\"tape\");\n\nvar switchesSelectors = require(\"../../lib/switches-selectors.js\");\nvar noop = require(\"../../lib/util/noop\");\n\nvar pjax = {\n  onSwitch: function() {\n    console.log(\"Switched\");\n  },\n  state: {},\n  log: noop\n};\n\n// @author darylteo\ntape(\"test switchesSelectors\", function(t) {\n  // switchesSelectors relies on a higher level function callback\n  // should really be passed in instead so I'll leave it here as a TODO:\n  var tmpEl = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = document.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p><span>No Change</span>\";\n  document.body.appendChild(container);\n\n  var container2 = tmpEl.createElement(\"div\");\n  container2.innerHTML = \"<p>New Text</p><span>New Span</span>\";\n  tmpEl.body.appendChild(container2);\n\n  switchesSelectors.bind(pjax)(\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    tmpEl, // fromEl\n    document, // toEl,\n    {} // options\n  );\n\n  t.equals(\n    container.innerHTML,\n    \"<p>New Text</p><span>No Change</span>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n\ntape(\"test switchesSelectors when number of elements don't match\", function(t) {\n  var newTempDoc = document.implementation.createHTMLDocument();\n  var originalTempDoc = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = originalTempDoc.createElement(\"div\");\n  container.innerHTML = \"<p>Original text</p><span>No change</span>\";\n  originalTempDoc.body.appendChild(container);\n\n  var container2 = newTempDoc.createElement(\"div\");\n  container2.innerHTML =\n    \"<p>New text</p><p>More new text</p><span>New span</span>\";\n  newTempDoc.body.appendChild(container2);\n\n  var switchSelectorsFn = switchesSelectors.bind(\n    pjax,\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    newTempDoc, // fromEl\n    originalTempDoc, // toEl,\n    {} // options\n  );\n\n  t.throws(\n    switchSelectorsFn,\n    null,\n    \"error was thrown properly since number of elements don't match\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar switchesSelectors = require(\"../../lib/switches-selectors.js\");\nvar noop = require(\"../../lib/util/noop\");\n\nvar pjax = {\n  onSwitch: function() {\n    console.log(\"Switched\");\n  },\n  state: {},\n  log: noop\n};\n\n// @author darylteo\ntape(\"test switchesSelectors\", function(t) {\n  // switchesSelectors relies on a higher level function callback\n  // should really be passed in instead so I'll leave it here as a TODO:\n  var tmpEl = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = document.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p><span>No Change</span>\";\n  document.body.appendChild(container);\n\n  var container2 = tmpEl.createElement(\"div\");\n  container2.innerHTML = \"<p>New Text</p><span>New Span</span>\";\n  tmpEl.body.appendChild(container2);\n\n  switchesSelectors.bind(pjax)(\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    tmpEl, // fromEl\n    document, // toEl,\n    {} // options\n  );\n\n  t.equals(\n    container.innerHTML,\n    \"<p>New Text</p><span>No Change</span>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n\ntape(\"test switchesSelectors when number of elements don't match\", function(t) {\n  var newTempDoc = document.implementation.createHTMLDocument();\n  var originalTempDoc = document.implementation.createHTMLDocument();\n\n  // a div container is used because swapping the containers\n  // will generate a new element, so things get weird\n  // using \"body\" generates a lot of testling cruft that I don't\n  // want so let's avoid that\n  var container = originalTempDoc.createElement(\"div\");\n  container.innerHTML = \"<p>Original text</p><span>No change</span>\";\n  originalTempDoc.body.appendChild(container);\n\n  var container2 = newTempDoc.createElement(\"div\");\n  container2.innerHTML =\n    \"<p>New text</p><p>More new text</p><span>New span</span>\";\n  newTempDoc.body.appendChild(container2);\n\n  var switchSelectorsFn = switchesSelectors.bind(\n    pjax,\n    {}, // switches\n    {}, // switchesOptions\n    [\"p\"], // selectors,\n    newTempDoc, // fromEl\n    originalTempDoc, // toEl,\n    {} // options\n  );\n\n  t.throws(\n    switchSelectorsFn,\n    null,\n    \"error was thrown properly since number of elements don't match\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar parseOptions = require(\"../../lib/parse-options.js\");\n\ntape(\"test parse initalization options function\", function(t) {\n  t.test(\"- default options\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({});\n\n    t.equal(pjax.options.elements, \"a[href], form[action]\");\n    t.equal(pjax.options.selectors.length, 2, \"selectors length\");\n    t.equal(pjax.options.selectors[0], \"title\");\n    t.equal(pjax.options.selectors[1], \".js-Pjax\");\n\n    t.equal(typeof pjax.options.switches, \"object\");\n    t.equal(Object.keys(pjax.options.switches).length, 2); // head and body\n\n    t.equal(typeof pjax.options.switchesOptions, \"object\");\n    t.equal(Object.keys(pjax.options.switchesOptions).length, 0);\n\n    t.equal(pjax.options.history, true);\n    t.equal(typeof pjax.options.analytics, \"function\");\n    t.equal(pjax.options.scrollTo, 0);\n    t.equal(pjax.options.scrollRestoration, true);\n    t.equal(pjax.options.cacheBust, true);\n    t.equal(pjax.options.debug, false);\n    t.equal(pjax.options.currentUrlFullReload, false);\n    t.end();\n  });\n\n  // verify analytics always ends up as a function even when passed not a function\n  t.test(\"- analytics is a function\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ analytics: \"some string\" });\n\n    t.deepEqual(typeof pjax.options.analytics, \"function\");\n    t.end();\n  });\n\n  // verify that the value false for scrollTo is not squashed\n  t.test(\"- scrollTo remains false\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ scrollTo: false });\n\n    t.deepEqual(pjax.options.scrollTo, false);\n    t.end();\n  });\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/parse-options.js","raw":"var tape = require(\"tape\");\n\nvar parseOptions = require(\"../../lib/parse-options.js\");\n\ntape(\"test parse initalization options function\", function(t) {\n  t.test(\"- default options\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({});\n\n    t.equal(pjax.options.elements, \"a[href], form[action]\");\n    t.equal(pjax.options.selectors.length, 2, \"selectors length\");\n    t.equal(pjax.options.selectors[0], \"title\");\n    t.equal(pjax.options.selectors[1], \".js-Pjax\");\n\n    t.equal(typeof pjax.options.switches, \"object\");\n    t.equal(Object.keys(pjax.options.switches).length, 2); // head and body\n\n    t.equal(typeof pjax.options.switchesOptions, \"object\");\n    t.equal(Object.keys(pjax.options.switchesOptions).length, 0);\n\n    t.equal(pjax.options.history, true);\n    t.equal(typeof pjax.options.analytics, \"function\");\n    t.equal(pjax.options.scrollTo, 0);\n    t.equal(pjax.options.scrollRestoration, true);\n    t.equal(pjax.options.cacheBust, true);\n    t.equal(pjax.options.debug, false);\n    t.equal(pjax.options.currentUrlFullReload, false);\n    t.end();\n  });\n\n  // verify analytics always ends up as a function even when passed not a function\n  t.test(\"- analytics is a function\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ analytics: \"some string\" });\n\n    t.deepEqual(typeof pjax.options.analytics, \"function\");\n    t.end();\n  });\n\n  // verify that the value false for scrollTo is not squashed\n  t.test(\"- scrollTo remains false\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ scrollTo: false });\n\n    t.deepEqual(pjax.options.scrollTo, false);\n    t.end();\n  });\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.476Z","updated":"2019-09-27T05:34:52.476Z","path":"lib/pjax/tests/lib/parse-options.js","layout":"false","title":"","comments":1,"_id":"ck11pll0a001awk2x3b82n9ot","content":"var tape = require(\"tape\");\n\nvar parseOptions = require(\"../../lib/parse-options.js\");\n\ntape(\"test parse initalization options function\", function(t) {\n  t.test(\"- default options\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({});\n\n    t.equal(pjax.options.elements, \"a[href], form[action]\");\n    t.equal(pjax.options.selectors.length, 2, \"selectors length\");\n    t.equal(pjax.options.selectors[0], \"title\");\n    t.equal(pjax.options.selectors[1], \".js-Pjax\");\n\n    t.equal(typeof pjax.options.switches, \"object\");\n    t.equal(Object.keys(pjax.options.switches).length, 2); // head and body\n\n    t.equal(typeof pjax.options.switchesOptions, \"object\");\n    t.equal(Object.keys(pjax.options.switchesOptions).length, 0);\n\n    t.equal(pjax.options.history, true);\n    t.equal(typeof pjax.options.analytics, \"function\");\n    t.equal(pjax.options.scrollTo, 0);\n    t.equal(pjax.options.scrollRestoration, true);\n    t.equal(pjax.options.cacheBust, true);\n    t.equal(pjax.options.debug, false);\n    t.equal(pjax.options.currentUrlFullReload, false);\n    t.end();\n  });\n\n  // verify analytics always ends up as a function even when passed not a function\n  t.test(\"- analytics is a function\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ analytics: \"some string\" });\n\n    t.deepEqual(typeof pjax.options.analytics, \"function\");\n    t.end();\n  });\n\n  // verify that the value false for scrollTo is not squashed\n  t.test(\"- scrollTo remains false\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ scrollTo: false });\n\n    t.deepEqual(pjax.options.scrollTo, false);\n    t.end();\n  });\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar parseOptions = require(\"../../lib/parse-options.js\");\n\ntape(\"test parse initalization options function\", function(t) {\n  t.test(\"- default options\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({});\n\n    t.equal(pjax.options.elements, \"a[href], form[action]\");\n    t.equal(pjax.options.selectors.length, 2, \"selectors length\");\n    t.equal(pjax.options.selectors[0], \"title\");\n    t.equal(pjax.options.selectors[1], \".js-Pjax\");\n\n    t.equal(typeof pjax.options.switches, \"object\");\n    t.equal(Object.keys(pjax.options.switches).length, 2); // head and body\n\n    t.equal(typeof pjax.options.switchesOptions, \"object\");\n    t.equal(Object.keys(pjax.options.switchesOptions).length, 0);\n\n    t.equal(pjax.options.history, true);\n    t.equal(typeof pjax.options.analytics, \"function\");\n    t.equal(pjax.options.scrollTo, 0);\n    t.equal(pjax.options.scrollRestoration, true);\n    t.equal(pjax.options.cacheBust, true);\n    t.equal(pjax.options.debug, false);\n    t.equal(pjax.options.currentUrlFullReload, false);\n    t.end();\n  });\n\n  // verify analytics always ends up as a function even when passed not a function\n  t.test(\"- analytics is a function\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ analytics: \"some string\" });\n\n    t.deepEqual(typeof pjax.options.analytics, \"function\");\n    t.end();\n  });\n\n  // verify that the value false for scrollTo is not squashed\n  t.test(\"- scrollTo remains false\", function(t) {\n    var pjax = {};\n    pjax.options = parseOptions({ scrollTo: false });\n\n    t.deepEqual(pjax.options.scrollTo, false);\n    t.end();\n  });\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar isSupported = require(\"../../lib/is-supported.js\");\n\ntape(\"test isSupported method\", function(t) {\n  t.true(\n    isSupported(),\n    \"well, we run test on supported browser, so it should be ok here\"\n  );\n  t.end();\n});\n","source":"lib/pjax/tests/lib/is-supported.js","raw":"var tape = require(\"tape\");\n\nvar isSupported = require(\"../../lib/is-supported.js\");\n\ntape(\"test isSupported method\", function(t) {\n  t.true(\n    isSupported(),\n    \"well, we run test on supported browser, so it should be ok here\"\n  );\n  t.end();\n});\n","date":"2019-09-27T05:34:52.475Z","updated":"2019-09-27T05:34:52.475Z","path":"lib/pjax/tests/lib/is-supported.js","layout":"false","title":"","comments":1,"_id":"ck11pll0b001bwk2xnaotbbgk","content":"var tape = require(\"tape\");\n\nvar isSupported = require(\"../../lib/is-supported.js\");\n\ntape(\"test isSupported method\", function(t) {\n  t.true(\n    isSupported(),\n    \"well, we run test on supported browser, so it should be ok here\"\n  );\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar isSupported = require(\"../../lib/is-supported.js\");\n\ntape(\"test isSupported method\", function(t) {\n  t.true(\n    isSupported(),\n    \"well, we run test on supported browser, so it should be ok here\"\n  );\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\nvar switches = require(\"../../lib/switches\");\nvar noop = require(\"../../lib/util/noop\");\n\ntape(\"test outerHTML switch\", function(t) {\n  var outerHTML = switches.outerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id='p'>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  outerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.notEquals(\n    doc.querySelector(\"p\").id,\n    \"p\",\n    \"other attributes overwritten correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test innerHTML switch\", function(t) {\n  var innerHTML = switches.innerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id='p'>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n  p.className = \"p\";\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.equals(doc.querySelector(\"p\").className, \"p\", \"classname set correctly\");\n  t.equals(doc.querySelector(\"p\").id, \"p\", \"other attributes set correctly\");\n\n  p.removeAttribute(\"class\");\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(doc.querySelector(\"p\").className, \"\", \"classname set correctly\");\n\n  t.end();\n});\n\ntape(\"test replaceNode switch\", function(t) {\n  var replaceNode = switches.replaceNode;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  replaceNode.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"div\").innerHTML,\n    \"<p>New Text</p>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/switches.js","raw":"var tape = require(\"tape\");\nvar switches = require(\"../../lib/switches\");\nvar noop = require(\"../../lib/util/noop\");\n\ntape(\"test outerHTML switch\", function(t) {\n  var outerHTML = switches.outerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id='p'>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  outerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.notEquals(\n    doc.querySelector(\"p\").id,\n    \"p\",\n    \"other attributes overwritten correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test innerHTML switch\", function(t) {\n  var innerHTML = switches.innerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id='p'>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n  p.className = \"p\";\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.equals(doc.querySelector(\"p\").className, \"p\", \"classname set correctly\");\n  t.equals(doc.querySelector(\"p\").id, \"p\", \"other attributes set correctly\");\n\n  p.removeAttribute(\"class\");\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(doc.querySelector(\"p\").className, \"\", \"classname set correctly\");\n\n  t.end();\n});\n\ntape(\"test replaceNode switch\", function(t) {\n  var replaceNode = switches.replaceNode;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  replaceNode.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"div\").innerHTML,\n    \"<p>New Text</p>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.480Z","updated":"2019-09-27T05:34:52.480Z","path":"lib/pjax/tests/lib/switches.js","layout":"false","title":"","comments":1,"_id":"ck11pll0b001cwk2xqgbj05bd","content":"var tape = require(\"tape\");\nvar switches = require(\"../../lib/switches\");\nvar noop = require(\"../../lib/util/noop\");\n\ntape(\"test outerHTML switch\", function(t) {\n  var outerHTML = switches.outerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id=\"p\">Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  outerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.notEquals(\n    doc.querySelector(\"p\").id,\n    \"p\",\n    \"other attributes overwritten correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test innerHTML switch\", function(t) {\n  var innerHTML = switches.innerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id=\"p\">Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n  p.className = \"p\";\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.equals(doc.querySelector(\"p\").className, \"p\", \"classname set correctly\");\n  t.equals(doc.querySelector(\"p\").id, \"p\", \"other attributes set correctly\");\n\n  p.removeAttribute(\"class\");\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(doc.querySelector(\"p\").className, \"\", \"classname set correctly\");\n\n  t.end();\n});\n\ntape(\"test replaceNode switch\", function(t) {\n  var replaceNode = switches.replaceNode;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  replaceNode.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"div\").innerHTML,\n    \"<p>New Text</p>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\nvar switches = require(\"../../lib/switches\");\nvar noop = require(\"../../lib/util/noop\");\n\ntape(\"test outerHTML switch\", function(t) {\n  var outerHTML = switches.outerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id=\"p\">Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  outerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.notEquals(\n    doc.querySelector(\"p\").id,\n    \"p\",\n    \"other attributes overwritten correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test innerHTML switch\", function(t) {\n  var innerHTML = switches.innerHTML;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p id=\"p\">Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n  p.className = \"p\";\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"p\").innerHTML,\n    \"New Text\",\n    \"Elements correctly switched\"\n  );\n  t.equals(doc.querySelector(\"p\").className, \"p\", \"classname set correctly\");\n  t.equals(doc.querySelector(\"p\").id, \"p\", \"other attributes set correctly\");\n\n  p.removeAttribute(\"class\");\n\n  innerHTML.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(doc.querySelector(\"p\").className, \"\", \"classname set correctly\");\n\n  t.end();\n});\n\ntape(\"test replaceNode switch\", function(t) {\n  var replaceNode = switches.replaceNode;\n\n  var doc = document.implementation.createHTMLDocument();\n\n  var container = doc.createElement(\"div\");\n  container.innerHTML = \"<p>Original Text</p>\";\n  doc.body.appendChild(container);\n\n  var p = doc.createElement(\"p\");\n  p.innerHTML = \"New Text\";\n\n  replaceNode.bind({\n    onSwitch: noop\n  })(doc.querySelector(\"p\"), p);\n\n  t.equals(\n    doc.querySelector(\"div\").innerHTML,\n    \"<p>New Text</p>\",\n    \"Elements correctly switched\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar uniqueid = require(\"../../lib/uniqueid.js\");\n\ntape(\"test uniqueid\", function(t) {\n  var a = uniqueid();\n  var b = uniqueid();\n\n  t.notEqual(a, b, \"Two calls to uniqueid produce different values\");\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/uniqueid.js","raw":"var tape = require(\"tape\");\n\nvar uniqueid = require(\"../../lib/uniqueid.js\");\n\ntape(\"test uniqueid\", function(t) {\n  var a = uniqueid();\n  var b = uniqueid();\n\n  t.notEqual(a, b, \"Two calls to uniqueid produce different values\");\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.480Z","updated":"2019-09-27T05:34:52.480Z","path":"lib/pjax/tests/lib/uniqueid.js","layout":"false","title":"","comments":1,"_id":"ck11pll0b001dwk2x6necq7ub","content":"var tape = require(\"tape\");\n\nvar uniqueid = require(\"../../lib/uniqueid.js\");\n\ntape(\"test uniqueid\", function(t) {\n  var a = uniqueid();\n  var b = uniqueid();\n\n  t.notEqual(a, b, \"Two calls to uniqueid produce different values\");\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar uniqueid = require(\"../../lib/uniqueid.js\");\n\ntape(\"test uniqueid\", function(t) {\n  var a = uniqueid();\n  var b = uniqueid();\n\n  t.notEqual(a, b, \"Two calls to uniqueid produce different values\");\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test xhr request\", function(t) {\n  var url = \"https://httpbin.org/get\";\n\n  t.test(\"- request is made, gets a result, and is cache-busted\", function(t) {\n    var r = sendRequest(url, { cacheBust: true }, function(result) {\n      t.equal(\n        r.responseURL.indexOf(\"?\"),\n        url.length,\n        \"XHR URL is cache-busted when configured to be\"\n      );\n      try {\n        result = JSON.parse(result);\n      } catch (e) {\n        t.fail(\"xhr doesn't get a JSON response\");\n      }\n      t.same(typeof result, \"object\", \"xhr request get a result\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not cache-busted when configured not to be\", function(\n    t\n  ) {\n    var r = sendRequest(url, {}, function() {\n      t.equal(r.responseURL, url, \"XHR URL is left untouched\");\n      t.end();\n    });\n  });\n  t.end();\n});\n\ntape(\"request headers are sent properly\", function(t) {\n  var url = \"https://httpbin.org/headers\";\n  var options = {\n    selectors: [\"div.pjax\", \"div.container\"]\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var headers = JSON.parse(responseText).headers;\n\n    t.equals(\n      headers[\"X-Requested-With\"],\n      \"XMLHttpRequest\",\n      \"X-Requested-With header is set correctly\"\n    );\n    // Httpbin.org changes the case to 'X-Pjax'\n    t.equals(headers[\"X-Pjax\"], \"true\", \"X-PJAX header is set correctly\");\n    t.equals(\n      headers[\"X-Pjax-Selectors\"],\n      '[\"div.pjax\",\"div.container\"]',\n      \"X-PJAX-Selectors header is set correctly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"HTTP status codes other than 200 are handled properly\", function(t) {\n  var url = \"https://httpbin.org/status/400\";\n\n  sendRequest(url, {}, function(responseText, request) {\n    t.equals(responseText, null, \"responseText is null\");\n    t.equals(request.status, 400, \"HTTP status code is correct\");\n\n    t.end();\n  });\n});\n\ntape.skip(\"XHR error is handled properly\", function(t) {\n  var url = \"https://encrypted.google.com/foobar\";\n\n  sendRequest(url, {}, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n\ntape(\"POST body data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/post\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestMethod: \"POST\",\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.form[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n    t.equals(\n      response.headers[\"Content-Type\"],\n      \"application/x-www-form-urlencoded\",\n      \"Content-Type header was set properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"GET query data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/get\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.args[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"XHR timeout is handled properly\", function(t) {\n  var url = \"https://httpbin.org/delay/5\";\n  var options = {\n    timeout: 1000\n  };\n\n  sendRequest(url, options, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n","source":"lib/pjax/tests/lib/send-request.js","raw":"var tape = require(\"tape\");\n\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test xhr request\", function(t) {\n  var url = \"https://httpbin.org/get\";\n\n  t.test(\"- request is made, gets a result, and is cache-busted\", function(t) {\n    var r = sendRequest(url, { cacheBust: true }, function(result) {\n      t.equal(\n        r.responseURL.indexOf(\"?\"),\n        url.length,\n        \"XHR URL is cache-busted when configured to be\"\n      );\n      try {\n        result = JSON.parse(result);\n      } catch (e) {\n        t.fail(\"xhr doesn't get a JSON response\");\n      }\n      t.same(typeof result, \"object\", \"xhr request get a result\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not cache-busted when configured not to be\", function(\n    t\n  ) {\n    var r = sendRequest(url, {}, function() {\n      t.equal(r.responseURL, url, \"XHR URL is left untouched\");\n      t.end();\n    });\n  });\n  t.end();\n});\n\ntape(\"request headers are sent properly\", function(t) {\n  var url = \"https://httpbin.org/headers\";\n  var options = {\n    selectors: [\"div.pjax\", \"div.container\"]\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var headers = JSON.parse(responseText).headers;\n\n    t.equals(\n      headers[\"X-Requested-With\"],\n      \"XMLHttpRequest\",\n      \"X-Requested-With header is set correctly\"\n    );\n    // Httpbin.org changes the case to 'X-Pjax'\n    t.equals(headers[\"X-Pjax\"], \"true\", \"X-PJAX header is set correctly\");\n    t.equals(\n      headers[\"X-Pjax-Selectors\"],\n      '[\"div.pjax\",\"div.container\"]',\n      \"X-PJAX-Selectors header is set correctly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"HTTP status codes other than 200 are handled properly\", function(t) {\n  var url = \"https://httpbin.org/status/400\";\n\n  sendRequest(url, {}, function(responseText, request) {\n    t.equals(responseText, null, \"responseText is null\");\n    t.equals(request.status, 400, \"HTTP status code is correct\");\n\n    t.end();\n  });\n});\n\ntape.skip(\"XHR error is handled properly\", function(t) {\n  var url = \"https://encrypted.google.com/foobar\";\n\n  sendRequest(url, {}, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n\ntape(\"POST body data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/post\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestMethod: \"POST\",\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.form[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n    t.equals(\n      response.headers[\"Content-Type\"],\n      \"application/x-www-form-urlencoded\",\n      \"Content-Type header was set properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"GET query data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/get\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.args[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"XHR timeout is handled properly\", function(t) {\n  var url = \"https://httpbin.org/delay/5\";\n  var options = {\n    timeout: 1000\n  };\n\n  sendRequest(url, options, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n","date":"2019-09-27T05:34:52.479Z","updated":"2019-09-27T05:34:52.479Z","path":"lib/pjax/tests/lib/send-request.js","layout":"false","title":"","comments":1,"_id":"ck11pll0b001ewk2xwensasad","content":"var tape = require(\"tape\");\n\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test xhr request\", function(t) {\n  var url = \"https://httpbin.org/get\";\n\n  t.test(\"- request is made, gets a result, and is cache-busted\", function(t) {\n    var r = sendRequest(url, { cacheBust: true }, function(result) {\n      t.equal(\n        r.responseURL.indexOf(\"?\"),\n        url.length,\n        \"XHR URL is cache-busted when configured to be\"\n      );\n      try {\n        result = JSON.parse(result);\n      } catch (e) {\n        t.fail(\"xhr doesn't get a JSON response\");\n      }\n      t.same(typeof result, \"object\", \"xhr request get a result\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not cache-busted when configured not to be\", function(\n    t\n  ) {\n    var r = sendRequest(url, {}, function() {\n      t.equal(r.responseURL, url, \"XHR URL is left untouched\");\n      t.end();\n    });\n  });\n  t.end();\n});\n\ntape(\"request headers are sent properly\", function(t) {\n  var url = \"https://httpbin.org/headers\";\n  var options = {\n    selectors: [\"div.pjax\", \"div.container\"]\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var headers = JSON.parse(responseText).headers;\n\n    t.equals(\n      headers[\"X-Requested-With\"],\n      \"XMLHttpRequest\",\n      \"X-Requested-With header is set correctly\"\n    );\n    // Httpbin.org changes the case to 'X-Pjax'\n    t.equals(headers[\"X-Pjax\"], \"true\", \"X-PJAX header is set correctly\");\n    t.equals(\n      headers[\"X-Pjax-Selectors\"],\n      '[\"div.pjax\",\"div.container\"]',\n      \"X-PJAX-Selectors header is set correctly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"HTTP status codes other than 200 are handled properly\", function(t) {\n  var url = \"https://httpbin.org/status/400\";\n\n  sendRequest(url, {}, function(responseText, request) {\n    t.equals(responseText, null, \"responseText is null\");\n    t.equals(request.status, 400, \"HTTP status code is correct\");\n\n    t.end();\n  });\n});\n\ntape.skip(\"XHR error is handled properly\", function(t) {\n  var url = \"https://encrypted.google.com/foobar\";\n\n  sendRequest(url, {}, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n\ntape(\"POST body data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/post\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestMethod: \"POST\",\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.form[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n    t.equals(\n      response.headers[\"Content-Type\"],\n      \"application/x-www-form-urlencoded\",\n      \"Content-Type header was set properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"GET query data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/get\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.args[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"XHR timeout is handled properly\", function(t) {\n  var url = \"https://httpbin.org/delay/5\";\n  var options = {\n    timeout: 1000\n  };\n\n  sendRequest(url, options, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar sendRequest = require(\"../../lib/send-request.js\");\n\n// Polyfill responseURL property into XMLHttpRequest if it doesn't exist,\n// just for the purposes of this test\n// This polyfill is not complete; it won't show the updated location if a\n// redirection occurred, but it's fine for our purposes.\nif (!(\"responseURL\" in XMLHttpRequest.prototype)) {\n  var nativeOpen = XMLHttpRequest.prototype.open;\n  XMLHttpRequest.prototype.open = function(method, url) {\n    this.responseURL = url;\n    return nativeOpen.apply(this, arguments);\n  };\n}\n\ntape(\"test xhr request\", function(t) {\n  var url = \"https://httpbin.org/get\";\n\n  t.test(\"- request is made, gets a result, and is cache-busted\", function(t) {\n    var r = sendRequest(url, { cacheBust: true }, function(result) {\n      t.equal(\n        r.responseURL.indexOf(\"?\"),\n        url.length,\n        \"XHR URL is cache-busted when configured to be\"\n      );\n      try {\n        result = JSON.parse(result);\n      } catch (e) {\n        t.fail(\"xhr doesn't get a JSON response\");\n      }\n      t.same(typeof result, \"object\", \"xhr request get a result\");\n      t.end();\n    });\n  });\n  t.test(\"- request is not cache-busted when configured not to be\", function(\n    t\n  ) {\n    var r = sendRequest(url, {}, function() {\n      t.equal(r.responseURL, url, \"XHR URL is left untouched\");\n      t.end();\n    });\n  });\n  t.end();\n});\n\ntape(\"request headers are sent properly\", function(t) {\n  var url = \"https://httpbin.org/headers\";\n  var options = {\n    selectors: [\"div.pjax\", \"div.container\"]\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var headers = JSON.parse(responseText).headers;\n\n    t.equals(\n      headers[\"X-Requested-With\"],\n      \"XMLHttpRequest\",\n      \"X-Requested-With header is set correctly\"\n    );\n    // Httpbin.org changes the case to 'X-Pjax'\n    t.equals(headers[\"X-Pjax\"], \"true\", \"X-PJAX header is set correctly\");\n    t.equals(\n      headers[\"X-Pjax-Selectors\"],\n      '[\"div.pjax\",\"div.container\"]',\n      \"X-PJAX-Selectors header is set correctly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"HTTP status codes other than 200 are handled properly\", function(t) {\n  var url = \"https://httpbin.org/status/400\";\n\n  sendRequest(url, {}, function(responseText, request) {\n    t.equals(responseText, null, \"responseText is null\");\n    t.equals(request.status, 400, \"HTTP status code is correct\");\n\n    t.end();\n  });\n});\n\ntape.skip(\"XHR error is handled properly\", function(t) {\n  var url = \"https://encrypted.google.com/foobar\";\n\n  sendRequest(url, {}, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n\ntape(\"POST body data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/post\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestMethod: \"POST\",\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.form[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n    t.equals(\n      response.headers[\"Content-Type\"],\n      \"application/x-www-form-urlencoded\",\n      \"Content-Type header was set properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"GET query data is sent properly\", function(t) {\n  var url = \"https://httpbin.org/get\";\n  var params = [\n    {\n      name: \"test\",\n      value: \"1\"\n    }\n  ];\n  var options = {\n    requestOptions: {\n      requestParams: params\n    }\n  };\n\n  sendRequest(url, options, function(responseText) {\n    var response = JSON.parse(responseText);\n\n    t.same(\n      response.args[params[0].name],\n      params[0].value,\n      \"requestParams were sent properly\"\n    );\n\n    t.end();\n  });\n});\n\ntape(\"XHR timeout is handled properly\", function(t) {\n  var url = \"https://httpbin.org/delay/5\";\n  var options = {\n    timeout: 1000\n  };\n\n  sendRequest(url, options, function(responseText) {\n    t.equals(responseText, null, \"responseText is null\");\n\n    t.end();\n  });\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachForm = require(\"../../../lib/proto/attach-form\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach form prototype method\", function(t) {\n  var form = document.createElement(\"form\");\n  var loadUrlCalled = false;\n\n  attachForm.call(\n    {\n      options: {\n        currentUrlFullReload: true\n      },\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  form.action = \"http://external.com/\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  form.action = internalUri + \"#anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  form.action = internalUri + \"#another-anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  form.action = internalUri + \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"anchor-empty\",\n    \"empty anchor stop behavior\"\n  );\n\n  form.action = window.location.href;\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"reload\",\n    \"submitting when currentUrlFullReload is true will submit normally, without XHR\"\n  );\n  t.equal(loadUrlCalled, false, \"loadUrl() not called\");\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"POST\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a POST request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  loadUrlCalled = false;\n  form.setAttribute(attr, \"\");\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a GET request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  t.end();\n});\n\ntape(\"test attach form preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var form = document.createElement(\"form\");\n\n  // This needs to be before the call to attachForm()\n  on(form, \"submit\", function(event) {\n    event.preventDefault();\n  });\n\n  attachForm.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  form.action = \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachForm\", function(t) {\n  var form = document.createElement(\"form\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachForm.call({ options: options, loadUrl: loadUrl }, form);\n\n  form.action =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test form elements parsed correctly\", function(t) {\n  t.plan(1);\n\n  var form = document.createElement(\"form\");\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var params = [\n    {\n      name: \"input\",\n      value: \"value\"\n    }\n  ];\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.same(\n        options.requestOptions.requestParams,\n        params,\n        \"form elements parsed correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape('test form.enctype=\"multipart/form-data\"', function(t) {\n  t.plan(4);\n\n  var form = document.createElement(\"form\");\n  form.enctype = \"multipart/form-data\";\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.equals(\n        options.requestOptions.requestParams,\n        undefined,\n        \"form elements not parsed manually\"\n      );\n      t.true(\n        options.requestOptions.formData instanceof FormData,\n        \"requestOptions.formData is a FormData\"\n      );\n      t.equals(\n        Array.from(options.requestOptions.formData.entries()).length,\n        1,\n        \"correct number of FormData elements\"\n      );\n      t.equals(\n        options.requestOptions.formData.get(\"input\"),\n        \"value\",\n        \"FormData element value set correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/proto/attach-form.js","raw":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachForm = require(\"../../../lib/proto/attach-form\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach form prototype method\", function(t) {\n  var form = document.createElement(\"form\");\n  var loadUrlCalled = false;\n\n  attachForm.call(\n    {\n      options: {\n        currentUrlFullReload: true\n      },\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  form.action = \"http://external.com/\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  form.action = internalUri + \"#anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  form.action = internalUri + \"#another-anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  form.action = internalUri + \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"anchor-empty\",\n    \"empty anchor stop behavior\"\n  );\n\n  form.action = window.location.href;\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"reload\",\n    \"submitting when currentUrlFullReload is true will submit normally, without XHR\"\n  );\n  t.equal(loadUrlCalled, false, \"loadUrl() not called\");\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"POST\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a POST request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  loadUrlCalled = false;\n  form.setAttribute(attr, \"\");\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a GET request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  t.end();\n});\n\ntape(\"test attach form preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var form = document.createElement(\"form\");\n\n  // This needs to be before the call to attachForm()\n  on(form, \"submit\", function(event) {\n    event.preventDefault();\n  });\n\n  attachForm.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  form.action = \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachForm\", function(t) {\n  var form = document.createElement(\"form\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachForm.call({ options: options, loadUrl: loadUrl }, form);\n\n  form.action =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test form elements parsed correctly\", function(t) {\n  t.plan(1);\n\n  var form = document.createElement(\"form\");\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var params = [\n    {\n      name: \"input\",\n      value: \"value\"\n    }\n  ];\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.same(\n        options.requestOptions.requestParams,\n        params,\n        \"form elements parsed correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape('test form.enctype=\"multipart/form-data\"', function(t) {\n  t.plan(4);\n\n  var form = document.createElement(\"form\");\n  form.enctype = \"multipart/form-data\";\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.equals(\n        options.requestOptions.requestParams,\n        undefined,\n        \"form elements not parsed manually\"\n      );\n      t.true(\n        options.requestOptions.formData instanceof FormData,\n        \"requestOptions.formData is a FormData\"\n      );\n      t.equals(\n        Array.from(options.requestOptions.formData.entries()).length,\n        1,\n        \"correct number of FormData elements\"\n      );\n      t.equals(\n        options.requestOptions.formData.get(\"input\"),\n        \"value\",\n        \"FormData element value set correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.477Z","updated":"2019-09-27T05:34:52.477Z","path":"lib/pjax/tests/lib/proto/attach-form.js","layout":"false","title":"","comments":1,"_id":"ck11pll0d001fwk2xv0in0ucm","content":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachForm = require(\"../../../lib/proto/attach-form\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach form prototype method\", function(t) {\n  var form = document.createElement(\"form\");\n  var loadUrlCalled = false;\n\n  attachForm.call(\n    {\n      options: {\n        currentUrlFullReload: true\n      },\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  form.action = \"http://external.com/\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  form.action = internalUri + \"#anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  form.action = internalUri + \"#another-anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  form.action = internalUri + \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"anchor-empty\",\n    \"empty anchor stop behavior\"\n  );\n\n  form.action = window.location.href;\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"reload\",\n    \"submitting when currentUrlFullReload is true will submit normally, without XHR\"\n  );\n  t.equal(loadUrlCalled, false, \"loadUrl() not called\");\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"POST\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a POST request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  loadUrlCalled = false;\n  form.setAttribute(attr, \"\");\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a GET request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  t.end();\n});\n\ntape(\"test attach form preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var form = document.createElement(\"form\");\n\n  // This needs to be before the call to attachForm()\n  on(form, \"submit\", function(event) {\n    event.preventDefault();\n  });\n\n  attachForm.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  form.action = \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachForm\", function(t) {\n  var form = document.createElement(\"form\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachForm.call({ options: options, loadUrl: loadUrl }, form);\n\n  form.action =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test form elements parsed correctly\", function(t) {\n  t.plan(1);\n\n  var form = document.createElement(\"form\");\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var params = [\n    {\n      name: \"input\",\n      value: \"value\"\n    }\n  ];\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.same(\n        options.requestOptions.requestParams,\n        params,\n        \"form elements parsed correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape('test form.enctype=\"multipart/form-data\"', function(t) {\n  t.plan(4);\n\n  var form = document.createElement(\"form\");\n  form.enctype = \"multipart/form-data\";\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.equals(\n        options.requestOptions.requestParams,\n        undefined,\n        \"form elements not parsed manually\"\n      );\n      t.true(\n        options.requestOptions.formData instanceof FormData,\n        \"requestOptions.formData is a FormData\"\n      );\n      t.equals(\n        Array.from(options.requestOptions.formData.entries()).length,\n        1,\n        \"correct number of FormData elements\"\n      );\n      t.equals(\n        options.requestOptions.formData.get(\"input\"),\n        \"value\",\n        \"FormData element value set correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachForm = require(\"../../../lib/proto/attach-form\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach form prototype method\", function(t) {\n  var form = document.createElement(\"form\");\n  var loadUrlCalled = false;\n\n  attachForm.call(\n    {\n      options: {\n        currentUrlFullReload: true\n      },\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  form.action = \"http://external.com/\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  form.action = internalUri + \"#anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  form.action = internalUri + \"#another-anchor\";\n  trigger(form, \"submit\");\n  t.equal(form.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  form.action = internalUri + \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"anchor-empty\",\n    \"empty anchor stop behavior\"\n  );\n\n  form.action = window.location.href;\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"reload\",\n    \"submitting when currentUrlFullReload is true will submit normally, without XHR\"\n  );\n  t.equal(loadUrlCalled, false, \"loadUrl() not called\");\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"POST\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a POST request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  loadUrlCalled = false;\n  form.setAttribute(attr, \"\");\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n  t.equal(\n    form.getAttribute(attr),\n    \"submit\",\n    \"triggering a GET request to the next page\"\n  );\n  t.equal(loadUrlCalled, true, \"loadUrl() called correctly\");\n\n  t.end();\n});\n\ntape(\"test attach form preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var form = document.createElement(\"form\");\n\n  // This needs to be before the call to attachForm()\n  on(form, \"submit\", function(event) {\n    event.preventDefault();\n  });\n\n  attachForm.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    form\n  );\n\n  form.action = \"#\";\n  trigger(form, \"submit\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachForm\", function(t) {\n  var form = document.createElement(\"form\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachForm.call({ options: options, loadUrl: loadUrl }, form);\n\n  form.action =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n  form.method = \"GET\";\n  trigger(form, \"submit\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test form elements parsed correctly\", function(t) {\n  t.plan(1);\n\n  var form = document.createElement(\"form\");\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var params = [\n    {\n      name: \"input\",\n      value: \"value\"\n    }\n  ];\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.same(\n        options.requestOptions.requestParams,\n        params,\n        \"form elements parsed correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape('test form.enctype=\"multipart/form-data\"', function(t) {\n  t.plan(4);\n\n  var form = document.createElement(\"form\");\n  form.enctype = \"multipart/form-data\";\n  var input = document.createElement(\"input\");\n  input.name = \"input\";\n  input.value = \"value\";\n  form.appendChild(input);\n\n  var pjax = {\n    options: {},\n    loadUrl: function(href, options) {\n      t.equals(\n        options.requestOptions.requestParams,\n        undefined,\n        \"form elements not parsed manually\"\n      );\n      t.true(\n        options.requestOptions.formData instanceof FormData,\n        \"requestOptions.formData is a FormData\"\n      );\n      t.equals(\n        Array.from(options.requestOptions.formData.entries()).length,\n        1,\n        \"correct number of FormData elements\"\n      );\n      t.equals(\n        options.requestOptions.formData.get(\"input\"),\n        \"value\",\n        \"FormData element value set correctly\"\n      );\n    }\n  };\n\n  attachForm.call(pjax, form);\n\n  form.action =\n    window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(form, \"submit\");\n  // see loadUrl defined above\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar handleResponse = require(\"../../../lib/proto/handle-response\");\nvar noop = require(\"../../../lib/util/noop\");\nvar loadContent = require(\"../../../index\").prototype.loadContent;\n\nvar href = \"https://example.org/\";\n\nvar storeEventHandler;\nvar pjaxErrorEventTriggerTest;\n\ntape(\"test events triggered when handleResponse(false) is called\", function(t) {\n  t.plan(3);\n\n  var pjax = {\n    options: {\n      test: 1\n    }\n  };\n\n  var events = [];\n\n  storeEventHandler = function(e) {\n    events.push(e.type);\n\n    t.equal(e.test, 1);\n  };\n\n  document.addEventListener(\"pjax:complete\", storeEventHandler);\n  document.addEventListener(\"pjax:error\", storeEventHandler);\n\n  handleResponse.bind(pjax)(false, null);\n\n  t.same(\n    events,\n    [\"pjax:complete\", \"pjax:error\"],\n    \"calling handleResponse(false) triggers 'pjax:complete' and 'pjax:error'\"\n  );\n\n  document.removeEventListener(\"pjax:complete\", storeEventHandler);\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n  t.end();\n});\n\ntape(\"test when handleResponse() is called normally\", function(t) {\n  var pjax = {\n    options: {\n      test: 1\n    },\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"href\");\n\n  delete window.history.state.uid;\n  t.same(\n    window.history.state,\n    {\n      url: href,\n      title: \"\",\n      scrollPos: [0, 0]\n    },\n    \"window.history.state is set correctly\"\n  );\n  t.equals(pjax.state.href, \"href\", \"this.state.href is set correctly\");\n  t.equals(\n    Object.keys(pjax.state.options).length,\n    2,\n    \"this.state.options is set correctly\"\n  );\n  t.same(\n    pjax.state.options.request,\n    request,\n    \"this.state.options is set correctly\"\n  );\n  t.equals(pjax.state.options.test, 1, \"this.state.options is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with request.responseURL\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      responseURL: href + \"1\",\n      getResponseHeader: noop\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(\n      pjax.state.href,\n      request.responseURL,\n      \"this.state.href is set correctly\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with X-PJAX-URL\", function(\n  t\n) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: function(header) {\n      if (header === \"X-PJAX-URL\") {\n        return href + \"2\";\n      }\n    }\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"\");\n\n  t.equals(pjax.state.href, href + \"2\", \"this.state.href is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with X-XHR-Redirected-To\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      getResponseHeader: function(header) {\n        if (header === \"X-XHR-Redirected-To\") {\n          return href + \"3\";\n        }\n      }\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(pjax.state.href, href + \"3\", \"this.state.href is set correctly\");\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with a hash\", function(t) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    responseURL: href + \"2\",\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, href + \"1#test\");\n\n  t.equals(\n    pjax.state.href,\n    href + \"2#test\",\n    \"this.state.href is set correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent() when options.debug is true\", function(\n  t\n) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.options.debug = true;\n\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n  pjaxErrorEventTriggerTest = function() {\n    t.pass(\"pjax:error event triggered\");\n  };\n  document.addEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.throws(\n    function() {\n      handleResponse.bind(pjax)(\"\", request, \"\");\n    },\n    Error,\n    \"error is rethrown\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent()\", function(t) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.latestChance = function() {\n    return true;\n  };\n  pjax.options.debug = false;\n\n  document.removeEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.doesNotThrow(\n    function() {\n      t.equals(\n        handleResponse.bind(pjax)(\"\", request, \"\"),\n        true,\n        \"this.latestChance() is called\"\n      );\n    },\n    Error,\n    \"error is not thrown\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events triggered when loadContent() is called with a non-string html argument\",\n  function(t) {\n    t.plan(3);\n\n    var options = {\n      test: 1\n    };\n\n    var events = [];\n\n    storeEventHandler = function(e) {\n      events.push(e.type);\n\n      t.equal(e.test, 1);\n    };\n\n    document.addEventListener(\"pjax:complete\", storeEventHandler);\n    document.addEventListener(\"pjax:error\", storeEventHandler);\n\n    loadContent(null, options);\n\n    t.same(\n      events,\n      [\"pjax:complete\", \"pjax:error\"],\n      \"calling loadContent() with a non-string html argument triggers 'pjax:complete' and 'pjax:error'\"\n    );\n\n    document.removeEventListener(\"pjax:complete\", storeEventHandler);\n    document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n    t.end();\n  }\n);\n","source":"lib/pjax/tests/lib/proto/handle-response.js","raw":"var tape = require(\"tape\");\n\nvar handleResponse = require(\"../../../lib/proto/handle-response\");\nvar noop = require(\"../../../lib/util/noop\");\nvar loadContent = require(\"../../../index\").prototype.loadContent;\n\nvar href = \"https://example.org/\";\n\nvar storeEventHandler;\nvar pjaxErrorEventTriggerTest;\n\ntape(\"test events triggered when handleResponse(false) is called\", function(t) {\n  t.plan(3);\n\n  var pjax = {\n    options: {\n      test: 1\n    }\n  };\n\n  var events = [];\n\n  storeEventHandler = function(e) {\n    events.push(e.type);\n\n    t.equal(e.test, 1);\n  };\n\n  document.addEventListener(\"pjax:complete\", storeEventHandler);\n  document.addEventListener(\"pjax:error\", storeEventHandler);\n\n  handleResponse.bind(pjax)(false, null);\n\n  t.same(\n    events,\n    [\"pjax:complete\", \"pjax:error\"],\n    \"calling handleResponse(false) triggers 'pjax:complete' and 'pjax:error'\"\n  );\n\n  document.removeEventListener(\"pjax:complete\", storeEventHandler);\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n  t.end();\n});\n\ntape(\"test when handleResponse() is called normally\", function(t) {\n  var pjax = {\n    options: {\n      test: 1\n    },\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"href\");\n\n  delete window.history.state.uid;\n  t.same(\n    window.history.state,\n    {\n      url: href,\n      title: \"\",\n      scrollPos: [0, 0]\n    },\n    \"window.history.state is set correctly\"\n  );\n  t.equals(pjax.state.href, \"href\", \"this.state.href is set correctly\");\n  t.equals(\n    Object.keys(pjax.state.options).length,\n    2,\n    \"this.state.options is set correctly\"\n  );\n  t.same(\n    pjax.state.options.request,\n    request,\n    \"this.state.options is set correctly\"\n  );\n  t.equals(pjax.state.options.test, 1, \"this.state.options is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with request.responseURL\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      responseURL: href + \"1\",\n      getResponseHeader: noop\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(\n      pjax.state.href,\n      request.responseURL,\n      \"this.state.href is set correctly\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with X-PJAX-URL\", function(\n  t\n) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: function(header) {\n      if (header === \"X-PJAX-URL\") {\n        return href + \"2\";\n      }\n    }\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"\");\n\n  t.equals(pjax.state.href, href + \"2\", \"this.state.href is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with X-XHR-Redirected-To\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      getResponseHeader: function(header) {\n        if (header === \"X-XHR-Redirected-To\") {\n          return href + \"3\";\n        }\n      }\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(pjax.state.href, href + \"3\", \"this.state.href is set correctly\");\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with a hash\", function(t) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    responseURL: href + \"2\",\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, href + \"1#test\");\n\n  t.equals(\n    pjax.state.href,\n    href + \"2#test\",\n    \"this.state.href is set correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent() when options.debug is true\", function(\n  t\n) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.options.debug = true;\n\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n  pjaxErrorEventTriggerTest = function() {\n    t.pass(\"pjax:error event triggered\");\n  };\n  document.addEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.throws(\n    function() {\n      handleResponse.bind(pjax)(\"\", request, \"\");\n    },\n    Error,\n    \"error is rethrown\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent()\", function(t) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.latestChance = function() {\n    return true;\n  };\n  pjax.options.debug = false;\n\n  document.removeEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.doesNotThrow(\n    function() {\n      t.equals(\n        handleResponse.bind(pjax)(\"\", request, \"\"),\n        true,\n        \"this.latestChance() is called\"\n      );\n    },\n    Error,\n    \"error is not thrown\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events triggered when loadContent() is called with a non-string html argument\",\n  function(t) {\n    t.plan(3);\n\n    var options = {\n      test: 1\n    };\n\n    var events = [];\n\n    storeEventHandler = function(e) {\n      events.push(e.type);\n\n      t.equal(e.test, 1);\n    };\n\n    document.addEventListener(\"pjax:complete\", storeEventHandler);\n    document.addEventListener(\"pjax:error\", storeEventHandler);\n\n    loadContent(null, options);\n\n    t.same(\n      events,\n      [\"pjax:complete\", \"pjax:error\"],\n      \"calling loadContent() with a non-string html argument triggers 'pjax:complete' and 'pjax:error'\"\n    );\n\n    document.removeEventListener(\"pjax:complete\", storeEventHandler);\n    document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n    t.end();\n  }\n);\n","date":"2019-09-27T05:34:52.478Z","updated":"2019-09-27T05:34:52.478Z","path":"lib/pjax/tests/lib/proto/handle-response.js","layout":"false","title":"","comments":1,"_id":"ck11pll0d001gwk2xwekr6530","content":"var tape = require(\"tape\");\n\nvar handleResponse = require(\"../../../lib/proto/handle-response\");\nvar noop = require(\"../../../lib/util/noop\");\nvar loadContent = require(\"../../../index\").prototype.loadContent;\n\nvar href = \"https://example.org/\";\n\nvar storeEventHandler;\nvar pjaxErrorEventTriggerTest;\n\ntape(\"test events triggered when handleResponse(false) is called\", function(t) {\n  t.plan(3);\n\n  var pjax = {\n    options: {\n      test: 1\n    }\n  };\n\n  var events = [];\n\n  storeEventHandler = function(e) {\n    events.push(e.type);\n\n    t.equal(e.test, 1);\n  };\n\n  document.addEventListener(\"pjax:complete\", storeEventHandler);\n  document.addEventListener(\"pjax:error\", storeEventHandler);\n\n  handleResponse.bind(pjax)(false, null);\n\n  t.same(\n    events,\n    [\"pjax:complete\", \"pjax:error\"],\n    \"calling handleResponse(false) triggers 'pjax:complete' and 'pjax:error'\"\n  );\n\n  document.removeEventListener(\"pjax:complete\", storeEventHandler);\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n  t.end();\n});\n\ntape(\"test when handleResponse() is called normally\", function(t) {\n  var pjax = {\n    options: {\n      test: 1\n    },\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"href\");\n\n  delete window.history.state.uid;\n  t.same(\n    window.history.state,\n    {\n      url: href,\n      title: \"\",\n      scrollPos: [0, 0]\n    },\n    \"window.history.state is set correctly\"\n  );\n  t.equals(pjax.state.href, \"href\", \"this.state.href is set correctly\");\n  t.equals(\n    Object.keys(pjax.state.options).length,\n    2,\n    \"this.state.options is set correctly\"\n  );\n  t.same(\n    pjax.state.options.request,\n    request,\n    \"this.state.options is set correctly\"\n  );\n  t.equals(pjax.state.options.test, 1, \"this.state.options is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with request.responseURL\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      responseURL: href + \"1\",\n      getResponseHeader: noop\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(\n      pjax.state.href,\n      request.responseURL,\n      \"this.state.href is set correctly\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with X-PJAX-URL\", function(\n  t\n) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: function(header) {\n      if (header === \"X-PJAX-URL\") {\n        return href + \"2\";\n      }\n    }\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"\");\n\n  t.equals(pjax.state.href, href + \"2\", \"this.state.href is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with X-XHR-Redirected-To\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      getResponseHeader: function(header) {\n        if (header === \"X-XHR-Redirected-To\") {\n          return href + \"3\";\n        }\n      }\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(pjax.state.href, href + \"3\", \"this.state.href is set correctly\");\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with a hash\", function(t) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    responseURL: href + \"2\",\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, href + \"1#test\");\n\n  t.equals(\n    pjax.state.href,\n    href + \"2#test\",\n    \"this.state.href is set correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent() when options.debug is true\", function(\n  t\n) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.options.debug = true;\n\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n  pjaxErrorEventTriggerTest = function() {\n    t.pass(\"pjax:error event triggered\");\n  };\n  document.addEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.throws(\n    function() {\n      handleResponse.bind(pjax)(\"\", request, \"\");\n    },\n    Error,\n    \"error is rethrown\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent()\", function(t) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.latestChance = function() {\n    return true;\n  };\n  pjax.options.debug = false;\n\n  document.removeEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.doesNotThrow(\n    function() {\n      t.equals(\n        handleResponse.bind(pjax)(\"\", request, \"\"),\n        true,\n        \"this.latestChance() is called\"\n      );\n    },\n    Error,\n    \"error is not thrown\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events triggered when loadContent() is called with a non-string html argument\",\n  function(t) {\n    t.plan(3);\n\n    var options = {\n      test: 1\n    };\n\n    var events = [];\n\n    storeEventHandler = function(e) {\n      events.push(e.type);\n\n      t.equal(e.test, 1);\n    };\n\n    document.addEventListener(\"pjax:complete\", storeEventHandler);\n    document.addEventListener(\"pjax:error\", storeEventHandler);\n\n    loadContent(null, options);\n\n    t.same(\n      events,\n      [\"pjax:complete\", \"pjax:error\"],\n      \"calling loadContent() with a non-string html argument triggers 'pjax:complete' and 'pjax:error'\"\n    );\n\n    document.removeEventListener(\"pjax:complete\", storeEventHandler);\n    document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n    t.end();\n  }\n);\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar handleResponse = require(\"../../../lib/proto/handle-response\");\nvar noop = require(\"../../../lib/util/noop\");\nvar loadContent = require(\"../../../index\").prototype.loadContent;\n\nvar href = \"https://example.org/\";\n\nvar storeEventHandler;\nvar pjaxErrorEventTriggerTest;\n\ntape(\"test events triggered when handleResponse(false) is called\", function(t) {\n  t.plan(3);\n\n  var pjax = {\n    options: {\n      test: 1\n    }\n  };\n\n  var events = [];\n\n  storeEventHandler = function(e) {\n    events.push(e.type);\n\n    t.equal(e.test, 1);\n  };\n\n  document.addEventListener(\"pjax:complete\", storeEventHandler);\n  document.addEventListener(\"pjax:error\", storeEventHandler);\n\n  handleResponse.bind(pjax)(false, null);\n\n  t.same(\n    events,\n    [\"pjax:complete\", \"pjax:error\"],\n    \"calling handleResponse(false) triggers 'pjax:complete' and 'pjax:error'\"\n  );\n\n  document.removeEventListener(\"pjax:complete\", storeEventHandler);\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n  t.end();\n});\n\ntape(\"test when handleResponse() is called normally\", function(t) {\n  var pjax = {\n    options: {\n      test: 1\n    },\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"href\");\n\n  delete window.history.state.uid;\n  t.same(\n    window.history.state,\n    {\n      url: href,\n      title: \"\",\n      scrollPos: [0, 0]\n    },\n    \"window.history.state is set correctly\"\n  );\n  t.equals(pjax.state.href, \"href\", \"this.state.href is set correctly\");\n  t.equals(\n    Object.keys(pjax.state.options).length,\n    2,\n    \"this.state.options is set correctly\"\n  );\n  t.same(\n    pjax.state.options.request,\n    request,\n    \"this.state.options is set correctly\"\n  );\n  t.equals(pjax.state.options.test, 1, \"this.state.options is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with request.responseURL\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      responseURL: href + \"1\",\n      getResponseHeader: noop\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(\n      pjax.state.href,\n      request.responseURL,\n      \"this.state.href is set correctly\"\n    );\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with X-PJAX-URL\", function(\n  t\n) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: function(header) {\n      if (header === \"X-PJAX-URL\") {\n        return href + \"2\";\n      }\n    }\n  };\n\n  handleResponse.bind(pjax)(\"\", request, \"\");\n\n  t.equals(pjax.state.href, href + \"2\", \"this.state.href is set correctly\");\n\n  t.end();\n});\n\ntape(\n  \"test when handleResponse() is called normally with X-XHR-Redirected-To\",\n  function(t) {\n    var pjax = {\n      options: {},\n      loadContent: noop,\n      state: {}\n    };\n\n    var request = {\n      getResponseHeader: function(header) {\n        if (header === \"X-XHR-Redirected-To\") {\n          return href + \"3\";\n        }\n      }\n    };\n\n    handleResponse.bind(pjax)(\"\", request, \"\");\n\n    t.equals(pjax.state.href, href + \"3\", \"this.state.href is set correctly\");\n\n    t.end();\n  }\n);\n\ntape(\"test when handleResponse() is called normally with a hash\", function(t) {\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    responseURL: href + \"2\",\n    getResponseHeader: noop\n  };\n\n  handleResponse.bind(pjax)(\"\", request, href + \"1#test\");\n\n  t.equals(\n    pjax.state.href,\n    href + \"2#test\",\n    \"this.state.href is set correctly\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent() when options.debug is true\", function(\n  t\n) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.options.debug = true;\n\n  document.removeEventListener(\"pjax:error\", storeEventHandler);\n  pjaxErrorEventTriggerTest = function() {\n    t.pass(\"pjax:error event triggered\");\n  };\n  document.addEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.throws(\n    function() {\n      handleResponse.bind(pjax)(\"\", request, \"\");\n    },\n    Error,\n    \"error is rethrown\"\n  );\n\n  t.end();\n});\n\ntape(\"test try...catch for loadContent()\", function(t) {\n  t.plan(2);\n\n  var pjax = {\n    options: {},\n    loadContent: noop,\n    state: {}\n  };\n\n  var request = {\n    getResponseHeader: noop\n  };\n\n  pjax.loadContent = function() {\n    throw new Error();\n  };\n  pjax.latestChance = function() {\n    return true;\n  };\n  pjax.options.debug = false;\n\n  document.removeEventListener(\"pjax:error\", pjaxErrorEventTriggerTest);\n\n  t.doesNotThrow(\n    function() {\n      t.equals(\n        handleResponse.bind(pjax)(\"\", request, \"\"),\n        true,\n        \"this.latestChance() is called\"\n      );\n    },\n    Error,\n    \"error is not thrown\"\n  );\n\n  t.end();\n});\n\ntape(\n  \"test events triggered when loadContent() is called with a non-string html argument\",\n  function(t) {\n    t.plan(3);\n\n    var options = {\n      test: 1\n    };\n\n    var events = [];\n\n    storeEventHandler = function(e) {\n      events.push(e.type);\n\n      t.equal(e.test, 1);\n    };\n\n    document.addEventListener(\"pjax:complete\", storeEventHandler);\n    document.addEventListener(\"pjax:error\", storeEventHandler);\n\n    loadContent(null, options);\n\n    t.same(\n      events,\n      [\"pjax:complete\", \"pjax:error\"],\n      \"calling loadContent() with a non-string html argument triggers 'pjax:complete' and 'pjax:error'\"\n    );\n\n    document.removeEventListener(\"pjax:complete\", storeEventHandler);\n    document.removeEventListener(\"pjax:error\", storeEventHandler);\n\n    t.end();\n  }\n);\n"},{"_content":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachLink = require(\"../../../lib/proto/attach-link\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach link prototype method\", function(t) {\n  var a = document.createElement(\"a\");\n  var loadUrlCalled = false;\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  a.href = internalUri;\n  trigger(a, \"click\", { metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  a.href = \"http://external.com/\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  a.href = internalUri + \"#anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  a.href = internalUri + \"#another-anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  a.href = internalUri + \"#\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor-empty\", \"empty anchor stop behavior\");\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  trigger(a, \"click\");\n  t.equals(\n    a.getAttribute(attr),\n    \"load\",\n    \"triggering an internal link sets the state attribute to 'load'\"\n  );\n  t.equals(\n    loadUrlCalled,\n    true,\n    \"triggering an internal link actually loads the page\"\n  );\n\n  t.end();\n});\n\ntape(\"test attach link preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var a = document.createElement(\"a\");\n\n  // This needs to be before the call to attachLink()\n  on(a, \"click\", function(event) {\n    event.preventDefault();\n  });\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  a.href = \"#\";\n  trigger(a, \"click\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachLink\", function(t) {\n  var a = document.createElement(\"a\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachLink.call({ options: options, loadUrl: loadUrl }, a);\n\n  a.href =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  trigger(a, \"click\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test link triggered by keyboard\", function(t) {\n  var a = document.createElement(\"a\");\n  var pjax = {\n    options: {},\n    loadUrl: function() {\n      t.equal(\n        a.getAttribute(attr),\n        \"load\",\n        \"triggering a internal link actually loads the page\"\n      );\n    }\n  };\n\n  t.plan(3);\n\n  attachLink.call(pjax, a);\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(a, \"keyup\", { keyCode: 14 });\n  t.equal(\n    a.getAttribute(attr),\n    \"\",\n    \"keycode other than 13 doesn't trigger anything\"\n  );\n\n  trigger(a, \"keyup\", { keyCode: 13, metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  trigger(a, \"keyup\", { keyCode: 13 });\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape(\n  \"test link with the same URL as the current one, when currentUrlFullReload set to true\",\n  function(t) {\n    var a = document.createElement(\"a\");\n    var pjax = {\n      options: {\n        currentUrlFullReload: true\n      },\n      reload: function() {\n        t.pass(\"this.reload() was called correctly\");\n      },\n      loadUrl: function() {\n        t.fail(\"loadUrl() was called wrongly\");\n      }\n    };\n\n    t.plan(2);\n\n    attachLink.call(pjax, a);\n\n    a.href = window.location.href;\n\n    trigger(a, \"click\");\n    t.equal(a.getAttribute(attr), \"reload\", \"reload stop behavior\");\n\n    t.end();\n  }\n);\n","source":"lib/pjax/tests/lib/proto/attach-link.js","raw":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachLink = require(\"../../../lib/proto/attach-link\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach link prototype method\", function(t) {\n  var a = document.createElement(\"a\");\n  var loadUrlCalled = false;\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  a.href = internalUri;\n  trigger(a, \"click\", { metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  a.href = \"http://external.com/\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  a.href = internalUri + \"#anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  a.href = internalUri + \"#another-anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  a.href = internalUri + \"#\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor-empty\", \"empty anchor stop behavior\");\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  trigger(a, \"click\");\n  t.equals(\n    a.getAttribute(attr),\n    \"load\",\n    \"triggering an internal link sets the state attribute to 'load'\"\n  );\n  t.equals(\n    loadUrlCalled,\n    true,\n    \"triggering an internal link actually loads the page\"\n  );\n\n  t.end();\n});\n\ntape(\"test attach link preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var a = document.createElement(\"a\");\n\n  // This needs to be before the call to attachLink()\n  on(a, \"click\", function(event) {\n    event.preventDefault();\n  });\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  a.href = \"#\";\n  trigger(a, \"click\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachLink\", function(t) {\n  var a = document.createElement(\"a\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachLink.call({ options: options, loadUrl: loadUrl }, a);\n\n  a.href =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  trigger(a, \"click\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test link triggered by keyboard\", function(t) {\n  var a = document.createElement(\"a\");\n  var pjax = {\n    options: {},\n    loadUrl: function() {\n      t.equal(\n        a.getAttribute(attr),\n        \"load\",\n        \"triggering a internal link actually loads the page\"\n      );\n    }\n  };\n\n  t.plan(3);\n\n  attachLink.call(pjax, a);\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(a, \"keyup\", { keyCode: 14 });\n  t.equal(\n    a.getAttribute(attr),\n    \"\",\n    \"keycode other than 13 doesn't trigger anything\"\n  );\n\n  trigger(a, \"keyup\", { keyCode: 13, metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  trigger(a, \"keyup\", { keyCode: 13 });\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape(\n  \"test link with the same URL as the current one, when currentUrlFullReload set to true\",\n  function(t) {\n    var a = document.createElement(\"a\");\n    var pjax = {\n      options: {\n        currentUrlFullReload: true\n      },\n      reload: function() {\n        t.pass(\"this.reload() was called correctly\");\n      },\n      loadUrl: function() {\n        t.fail(\"loadUrl() was called wrongly\");\n      }\n    };\n\n    t.plan(2);\n\n    attachLink.call(pjax, a);\n\n    a.href = window.location.href;\n\n    trigger(a, \"click\");\n    t.equal(a.getAttribute(attr), \"reload\", \"reload stop behavior\");\n\n    t.end();\n  }\n);\n","date":"2019-09-27T05:34:52.477Z","updated":"2019-09-27T05:34:52.477Z","path":"lib/pjax/tests/lib/proto/attach-link.js","layout":"false","title":"","comments":1,"_id":"ck11pll0e001hwk2xbe2jtgoo","content":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachLink = require(\"../../../lib/proto/attach-link\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach link prototype method\", function(t) {\n  var a = document.createElement(\"a\");\n  var loadUrlCalled = false;\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  a.href = internalUri;\n  trigger(a, \"click\", { metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  a.href = \"http://external.com/\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  a.href = internalUri + \"#anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  a.href = internalUri + \"#another-anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  a.href = internalUri + \"#\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor-empty\", \"empty anchor stop behavior\");\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  trigger(a, \"click\");\n  t.equals(\n    a.getAttribute(attr),\n    \"load\",\n    \"triggering an internal link sets the state attribute to 'load'\"\n  );\n  t.equals(\n    loadUrlCalled,\n    true,\n    \"triggering an internal link actually loads the page\"\n  );\n\n  t.end();\n});\n\ntape(\"test attach link preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var a = document.createElement(\"a\");\n\n  // This needs to be before the call to attachLink()\n  on(a, \"click\", function(event) {\n    event.preventDefault();\n  });\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  a.href = \"#\";\n  trigger(a, \"click\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachLink\", function(t) {\n  var a = document.createElement(\"a\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachLink.call({ options: options, loadUrl: loadUrl }, a);\n\n  a.href =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  trigger(a, \"click\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test link triggered by keyboard\", function(t) {\n  var a = document.createElement(\"a\");\n  var pjax = {\n    options: {},\n    loadUrl: function() {\n      t.equal(\n        a.getAttribute(attr),\n        \"load\",\n        \"triggering a internal link actually loads the page\"\n      );\n    }\n  };\n\n  t.plan(3);\n\n  attachLink.call(pjax, a);\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(a, \"keyup\", { keyCode: 14 });\n  t.equal(\n    a.getAttribute(attr),\n    \"\",\n    \"keycode other than 13 doesn't trigger anything\"\n  );\n\n  trigger(a, \"keyup\", { keyCode: 13, metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  trigger(a, \"keyup\", { keyCode: 13 });\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape(\n  \"test link with the same URL as the current one, when currentUrlFullReload set to true\",\n  function(t) {\n    var a = document.createElement(\"a\");\n    var pjax = {\n      options: {\n        currentUrlFullReload: true\n      },\n      reload: function() {\n        t.pass(\"this.reload() was called correctly\");\n      },\n      loadUrl: function() {\n        t.fail(\"loadUrl() was called wrongly\");\n      }\n    };\n\n    t.plan(2);\n\n    attachLink.call(pjax, a);\n\n    a.href = window.location.href;\n\n    trigger(a, \"click\");\n    t.equal(a.getAttribute(attr), \"reload\", \"reload stop behavior\");\n\n    t.end();\n  }\n);\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar on = require(\"../../../lib/events/on\");\nvar trigger = require(\"../../../lib/events/trigger\");\nvar attachLink = require(\"../../../lib/proto/attach-link\");\n\nvar attr = \"data-pjax-state\";\n\ntape(\"test attach link prototype method\", function(t) {\n  var a = document.createElement(\"a\");\n  var loadUrlCalled = false;\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  var internalUri =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  a.href = internalUri;\n  trigger(a, \"click\", { metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  a.href = \"http://external.com/\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"external\", \"external url stop behavior\");\n\n  window.location.hash = \"#anchor\";\n  a.href = internalUri + \"#anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"internal anchor stop behavior\");\n\n  a.href = internalUri + \"#another-anchor\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor\", \"different anchors stop behavior\");\n  window.location.hash = \"\";\n\n  a.href = internalUri + \"#\";\n  trigger(a, \"click\");\n  t.equal(a.getAttribute(attr), \"anchor-empty\", \"empty anchor stop behavior\");\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n  trigger(a, \"click\");\n  t.equals(\n    a.getAttribute(attr),\n    \"load\",\n    \"triggering an internal link sets the state attribute to 'load'\"\n  );\n  t.equals(\n    loadUrlCalled,\n    true,\n    \"triggering an internal link actually loads the page\"\n  );\n\n  t.end();\n});\n\ntape(\"test attach link preventDefaulted events\", function(t) {\n  var loadUrlCalled = false;\n  var a = document.createElement(\"a\");\n\n  // This needs to be before the call to attachLink()\n  on(a, \"click\", function(event) {\n    event.preventDefault();\n  });\n\n  attachLink.call(\n    {\n      options: {},\n      loadUrl: function() {\n        loadUrlCalled = true;\n      }\n    },\n    a\n  );\n\n  a.href = \"#\";\n  trigger(a, \"click\");\n  t.equal(\n    loadUrlCalled,\n    false,\n    \"events that are preventDefaulted should not fire callback\"\n  );\n\n  t.end();\n});\n\ntape(\"test options are not modified by attachLink\", function(t) {\n  var a = document.createElement(\"a\");\n  var options = { foo: \"bar\" };\n  var loadUrl = function() {};\n\n  attachLink.call({ options: options, loadUrl: loadUrl }, a);\n\n  a.href =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    window.location.search;\n\n  trigger(a, \"click\");\n\n  t.equal(\n    1,\n    Object.keys(options).length,\n    \"options object that is passed in should not be modified\"\n  );\n  t.equal(\n    \"bar\",\n    options.foo,\n    \"options object that is passed in should not be modified\"\n  );\n\n  t.end();\n});\n\ntape(\"test link triggered by keyboard\", function(t) {\n  var a = document.createElement(\"a\");\n  var pjax = {\n    options: {},\n    loadUrl: function() {\n      t.equal(\n        a.getAttribute(attr),\n        \"load\",\n        \"triggering a internal link actually loads the page\"\n      );\n    }\n  };\n\n  t.plan(3);\n\n  attachLink.call(pjax, a);\n\n  a.href = window.location.protocol + \"//\" + window.location.host + \"/internal\";\n\n  trigger(a, \"keyup\", { keyCode: 14 });\n  t.equal(\n    a.getAttribute(attr),\n    \"\",\n    \"keycode other than 13 doesn't trigger anything\"\n  );\n\n  trigger(a, \"keyup\", { keyCode: 13, metaKey: true });\n  t.equal(a.getAttribute(attr), \"modifier\", \"event key modifier stop behavior\");\n\n  trigger(a, \"keyup\", { keyCode: 13 });\n  // see loadUrl defined above\n\n  t.end();\n});\n\ntape(\n  \"test link with the same URL as the current one, when currentUrlFullReload set to true\",\n  function(t) {\n    var a = document.createElement(\"a\");\n    var pjax = {\n      options: {\n        currentUrlFullReload: true\n      },\n      reload: function() {\n        t.pass(\"this.reload() was called correctly\");\n      },\n      loadUrl: function() {\n        t.fail(\"loadUrl() was called wrongly\");\n      }\n    };\n\n    t.plan(2);\n\n    attachLink.call(pjax, a);\n\n    a.href = window.location.href;\n\n    trigger(a, \"click\");\n    t.equal(a.getAttribute(attr), \"reload\", \"reload stop behavior\");\n\n    t.end();\n  }\n);\n"},{"_content":"var tape = require(\"tape\");\n\nvar contains = require(\"../../../lib/util/contains.js\");\n\ntape(\"test contains function\", function(t) {\n  var tempDoc = document.implementation.createHTMLDocument();\n  tempDoc.body.innerHTML =\n    \"<div><p id='el' class='js-Pjax'></p></div><span></span>\";\n  var selectors = [\"div\"];\n  var el = tempDoc.body.querySelector(\"#el\");\n  t.equal(\n    contains(tempDoc, selectors, el),\n    true,\n    \"contains() returns true when a selector contains the element\"\n  );\n\n  selectors = [\"span\"];\n  t.equal(\n    contains(tempDoc, selectors, el),\n    false,\n    \"contains() returns false when the selectors do not contain the element\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/util/contains.js","raw":"var tape = require(\"tape\");\n\nvar contains = require(\"../../../lib/util/contains.js\");\n\ntape(\"test contains function\", function(t) {\n  var tempDoc = document.implementation.createHTMLDocument();\n  tempDoc.body.innerHTML =\n    \"<div><p id='el' class='js-Pjax'></p></div><span></span>\";\n  var selectors = [\"div\"];\n  var el = tempDoc.body.querySelector(\"#el\");\n  t.equal(\n    contains(tempDoc, selectors, el),\n    true,\n    \"contains() returns true when a selector contains the element\"\n  );\n\n  selectors = [\"span\"];\n  t.equal(\n    contains(tempDoc, selectors, el),\n    false,\n    \"contains() returns false when the selectors do not contain the element\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.480Z","updated":"2019-09-27T05:34:52.480Z","path":"lib/pjax/tests/lib/util/contains.js","layout":"false","title":"","comments":1,"_id":"ck11pll0e001iwk2xnm5uoao5","content":"var tape = require(\"tape\");\n\nvar contains = require(\"../../../lib/util/contains.js\");\n\ntape(\"test contains function\", function(t) {\n  var tempDoc = document.implementation.createHTMLDocument();\n  tempDoc.body.innerHTML =\n    \"<div><p id=\"el\" class=\"js-Pjax\"></p></div><span></span>\";\n  var selectors = [\"div\"];\n  var el = tempDoc.body.querySelector(\"#el\");\n  t.equal(\n    contains(tempDoc, selectors, el),\n    true,\n    \"contains() returns true when a selector contains the element\"\n  );\n\n  selectors = [\"span\"];\n  t.equal(\n    contains(tempDoc, selectors, el),\n    false,\n    \"contains() returns false when the selectors do not contain the element\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar contains = require(\"../../../lib/util/contains.js\");\n\ntape(\"test contains function\", function(t) {\n  var tempDoc = document.implementation.createHTMLDocument();\n  tempDoc.body.innerHTML =\n    \"<div><p id=\"el\" class=\"js-Pjax\"></p></div><span></span>\";\n  var selectors = [\"div\"];\n  var el = tempDoc.body.querySelector(\"#el\");\n  t.equal(\n    contains(tempDoc, selectors, el),\n    true,\n    \"contains() returns true when a selector contains the element\"\n  );\n\n  selectors = [\"span\"];\n  t.equal(\n    contains(tempDoc, selectors, el),\n    false,\n    \"contains() returns false when the selectors do not contain the element\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar parseElement = require(\"../../../lib/proto/parse-element\");\n\nvar pjax = {\n  attachLink: function() {\n    return true;\n  },\n  attachForm: function() {\n    return true;\n  }\n};\n\ntape(\"test parse element prototype method\", function(t) {\n  t.doesNotThrow(function() {\n    var a = document.createElement(\"a\");\n    parseElement.call(pjax, a);\n  }, \"<a> element can be parsed\");\n\n  t.doesNotThrow(function() {\n    var form = document.createElement(\"form\");\n    parseElement.call(pjax, form);\n  }, \"<form> element can be parsed\");\n\n  t.throws(function() {\n    var el = document.createElement(\"div\");\n    parseElement.call(pjax, el);\n  }, \"<div> element cannot be parsed\");\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/proto/parse-element.js","raw":"var tape = require(\"tape\");\n\nvar parseElement = require(\"../../../lib/proto/parse-element\");\n\nvar pjax = {\n  attachLink: function() {\n    return true;\n  },\n  attachForm: function() {\n    return true;\n  }\n};\n\ntape(\"test parse element prototype method\", function(t) {\n  t.doesNotThrow(function() {\n    var a = document.createElement(\"a\");\n    parseElement.call(pjax, a);\n  }, \"<a> element can be parsed\");\n\n  t.doesNotThrow(function() {\n    var form = document.createElement(\"form\");\n    parseElement.call(pjax, form);\n  }, \"<form> element can be parsed\");\n\n  t.throws(function() {\n    var el = document.createElement(\"div\");\n    parseElement.call(pjax, el);\n  }, \"<div> element cannot be parsed\");\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.479Z","updated":"2019-09-27T05:34:52.479Z","path":"lib/pjax/tests/lib/proto/parse-element.js","layout":"false","title":"","comments":1,"_id":"ck11pll0e001jwk2xd6y7m8fc","content":"var tape = require(\"tape\");\n\nvar parseElement = require(\"../../../lib/proto/parse-element\");\n\nvar pjax = {\n  attachLink: function() {\n    return true;\n  },\n  attachForm: function() {\n    return true;\n  }\n};\n\ntape(\"test parse element prototype method\", function(t) {\n  t.doesNotThrow(function() {\n    var a = document.createElement(\"a\");\n    parseElement.call(pjax, a);\n  }, \"<a> element can be parsed\");\n\n  t.doesNotThrow(function() {\n    var form = document.createElement(\"form\");\n    parseElement.call(pjax, form);\n  }, \"<form> element can be parsed\");\n\n  t.throws(function() {\n    var el = document.createElement(\"div\");\n    parseElement.call(pjax, el);\n  }, \"<div> element cannot be parsed\");\n\n  t.end();\n});\n</div></form></a>","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar parseElement = require(\"../../../lib/proto/parse-element\");\n\nvar pjax = {\n  attachLink: function() {\n    return true;\n  },\n  attachForm: function() {\n    return true;\n  }\n};\n\ntape(\"test parse element prototype method\", function(t) {\n  t.doesNotThrow(function() {\n    var a = document.createElement(\"a\");\n    parseElement.call(pjax, a);\n  }, \"<a> element can be parsed\");\n\n  t.doesNotThrow(function() {\n    var form = document.createElement(\"form\");\n    parseElement.call(pjax, form);\n  }, \"<form> element can be parsed\");\n\n  t.throws(function() {\n    var el = document.createElement(\"div\");\n    parseElement.call(pjax, el);\n  }, \"<div> element cannot be parsed\");\n\n  t.end();\n});\n</div></form></a>"},{"_content":"var tape = require(\"tape\");\n\nvar extend = require(\"../../../lib/util/extend\");\n\ntape(\"test extend method\", function(t) {\n  var obj = { one: 1, two: 2 };\n\n  var extended = extend({}, obj, { two: \"two\", three: 3 });\n  t.notEqual(obj, extended, \"extended object isn't the original object\");\n  t.notSame(\n    obj,\n    extended,\n    \"extended object doesn't have the same values as original object\"\n  );\n  t.notSame(\n    obj.two,\n    extended.two,\n    \"extended object value overwrites value from original object\"\n  );\n\n  extended = extend(null);\n  t.equals(extended, null, \"passing null returns null\");\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/util/extend.js","raw":"var tape = require(\"tape\");\n\nvar extend = require(\"../../../lib/util/extend\");\n\ntape(\"test extend method\", function(t) {\n  var obj = { one: 1, two: 2 };\n\n  var extended = extend({}, obj, { two: \"two\", three: 3 });\n  t.notEqual(obj, extended, \"extended object isn't the original object\");\n  t.notSame(\n    obj,\n    extended,\n    \"extended object doesn't have the same values as original object\"\n  );\n  t.notSame(\n    obj.two,\n    extended.two,\n    \"extended object value overwrites value from original object\"\n  );\n\n  extended = extend(null);\n  t.equals(extended, null, \"passing null returns null\");\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.481Z","updated":"2019-09-27T05:34:52.481Z","path":"lib/pjax/tests/lib/util/extend.js","layout":"false","title":"","comments":1,"_id":"ck11pll0f001kwk2xnsxea0v3","content":"var tape = require(\"tape\");\n\nvar extend = require(\"../../../lib/util/extend\");\n\ntape(\"test extend method\", function(t) {\n  var obj = { one: 1, two: 2 };\n\n  var extended = extend({}, obj, { two: \"two\", three: 3 });\n  t.notEqual(obj, extended, \"extended object isn't the original object\");\n  t.notSame(\n    obj,\n    extended,\n    \"extended object doesn't have the same values as original object\"\n  );\n  t.notSame(\n    obj.two,\n    extended.two,\n    \"extended object value overwrites value from original object\"\n  );\n\n  extended = extend(null);\n  t.equals(extended, null, \"passing null returns null\");\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar extend = require(\"../../../lib/util/extend\");\n\ntape(\"test extend method\", function(t) {\n  var obj = { one: 1, two: 2 };\n\n  var extended = extend({}, obj, { two: \"two\", three: 3 });\n  t.notEqual(obj, extended, \"extended object isn't the original object\");\n  t.notSame(\n    obj,\n    extended,\n    \"extended object doesn't have the same values as original object\"\n  );\n  t.notSame(\n    obj.two,\n    extended.two,\n    \"extended object value overwrites value from original object\"\n  );\n\n  extended = extend(null);\n  t.equals(extended, null, \"passing null returns null\");\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar clone = require(\"../../../lib/util/clone\");\n\ntape(\"test clone method\", function(t) {\n  var obj = { one: 1, two: 2 };\n  var cloned = clone(obj);\n\n  t.notEqual(obj, cloned, \"cloned object isn't the original object\");\n\n  t.same(obj, cloned, \"cloned object has the same values as original object\");\n\n  cloned.three = 3;\n  t.notSame(\n    obj,\n    cloned,\n    \"modified cloned object doesn't have the same values as original object\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/util/clone.js","raw":"var tape = require(\"tape\");\n\nvar clone = require(\"../../../lib/util/clone\");\n\ntape(\"test clone method\", function(t) {\n  var obj = { one: 1, two: 2 };\n  var cloned = clone(obj);\n\n  t.notEqual(obj, cloned, \"cloned object isn't the original object\");\n\n  t.same(obj, cloned, \"cloned object has the same values as original object\");\n\n  cloned.three = 3;\n  t.notSame(\n    obj,\n    cloned,\n    \"modified cloned object doesn't have the same values as original object\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.480Z","updated":"2019-09-27T05:34:52.480Z","path":"lib/pjax/tests/lib/util/clone.js","layout":"false","title":"","comments":1,"_id":"ck11pll0f001lwk2xhn52ypu0","content":"var tape = require(\"tape\");\n\nvar clone = require(\"../../../lib/util/clone\");\n\ntape(\"test clone method\", function(t) {\n  var obj = { one: 1, two: 2 };\n  var cloned = clone(obj);\n\n  t.notEqual(obj, cloned, \"cloned object isn't the original object\");\n\n  t.same(obj, cloned, \"cloned object has the same values as original object\");\n\n  cloned.three = 3;\n  t.notSame(\n    obj,\n    cloned,\n    \"modified cloned object doesn't have the same values as original object\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar clone = require(\"../../../lib/util/clone\");\n\ntape(\"test clone method\", function(t) {\n  var obj = { one: 1, two: 2 };\n  var cloned = clone(obj);\n\n  t.notEqual(obj, cloned, \"cloned object isn't the original object\");\n\n  t.same(obj, cloned, \"cloned object has the same values as original object\");\n\n  cloned.three = 3;\n  t.notSame(\n    obj,\n    cloned,\n    \"modified cloned object doesn't have the same values as original object\"\n  );\n\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar noop = require(\"../../../lib/util/noop\");\n\ntape(\"test noop function\", function(t) {\n  t.equal(typeof noop, \"function\", \"noop is a function\");\n  t.equal(noop(), undefined, \"noop() returns nothing\");\n  t.end();\n});\n","source":"lib/pjax/tests/lib/util/noop.js","raw":"var tape = require(\"tape\");\n\nvar noop = require(\"../../../lib/util/noop\");\n\ntape(\"test noop function\", function(t) {\n  t.equal(typeof noop, \"function\", \"noop is a function\");\n  t.equal(noop(), undefined, \"noop() returns nothing\");\n  t.end();\n});\n","date":"2019-09-27T05:34:52.481Z","updated":"2019-09-27T05:34:52.481Z","path":"lib/pjax/tests/lib/util/noop.js","layout":"false","title":"","comments":1,"_id":"ck11pll0f001mwk2xxf8vnly8","content":"var tape = require(\"tape\");\n\nvar noop = require(\"../../../lib/util/noop\");\n\ntape(\"test noop function\", function(t) {\n  t.equal(typeof noop, \"function\", \"noop is a function\");\n  t.equal(noop(), undefined, \"noop() returns nothing\");\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar noop = require(\"../../../lib/util/noop\");\n\ntape(\"test noop function\", function(t) {\n  t.equal(typeof noop, \"function\", \"noop is a function\");\n  t.equal(noop(), undefined, \"noop() returns nothing\");\n  t.end();\n});\n"},{"_content":"var tape = require(\"tape\");\n\nvar updateQueryString = require(\"../../../lib/util/update-query-string\");\n\ntape(\"test update query string method\", function(t) {\n  var url = \"http://example.com\";\n  var updatedUrl = updateQueryString(url, \"foo\", \"bar\");\n\n  t.notEqual(url, updatedUrl, \"update query string modifies URL\");\n  t.equal(\n    updatedUrl,\n    url + \"?foo=bar\",\n    \"update query string creates new query string when no query string params are set\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"foo\", \"baz\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz\",\n    \"update query string updates existing query string param\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"bar\", \"\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz&bar=\",\n    \"update query string appends to existing query string\"\n  );\n\n  t.end();\n});\n","source":"lib/pjax/tests/lib/util/update-query-string.js","raw":"var tape = require(\"tape\");\n\nvar updateQueryString = require(\"../../../lib/util/update-query-string\");\n\ntape(\"test update query string method\", function(t) {\n  var url = \"http://example.com\";\n  var updatedUrl = updateQueryString(url, \"foo\", \"bar\");\n\n  t.notEqual(url, updatedUrl, \"update query string modifies URL\");\n  t.equal(\n    updatedUrl,\n    url + \"?foo=bar\",\n    \"update query string creates new query string when no query string params are set\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"foo\", \"baz\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz\",\n    \"update query string updates existing query string param\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"bar\", \"\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz&bar=\",\n    \"update query string appends to existing query string\"\n  );\n\n  t.end();\n});\n","date":"2019-09-27T05:34:52.481Z","updated":"2019-09-27T05:34:52.481Z","path":"lib/pjax/tests/lib/util/update-query-string.js","layout":"false","title":"","comments":1,"_id":"ck11pll0g001nwk2x41q005yh","content":"var tape = require(\"tape\");\n\nvar updateQueryString = require(\"../../../lib/util/update-query-string\");\n\ntape(\"test update query string method\", function(t) {\n  var url = \"http://example.com\";\n  var updatedUrl = updateQueryString(url, \"foo\", \"bar\");\n\n  t.notEqual(url, updatedUrl, \"update query string modifies URL\");\n  t.equal(\n    updatedUrl,\n    url + \"?foo=bar\",\n    \"update query string creates new query string when no query string params are set\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"foo\", \"baz\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz\",\n    \"update query string updates existing query string param\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"bar\", \"\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz&bar=\",\n    \"update query string appends to existing query string\"\n  );\n\n  t.end();\n});\n","site":{"data":{}},"excerpt":"","more":"var tape = require(\"tape\");\n\nvar updateQueryString = require(\"../../../lib/util/update-query-string\");\n\ntape(\"test update query string method\", function(t) {\n  var url = \"http://example.com\";\n  var updatedUrl = updateQueryString(url, \"foo\", \"bar\");\n\n  t.notEqual(url, updatedUrl, \"update query string modifies URL\");\n  t.equal(\n    updatedUrl,\n    url + \"?foo=bar\",\n    \"update query string creates new query string when no query string params are set\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"foo\", \"baz\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz\",\n    \"update query string updates existing query string param\"\n  );\n\n  updatedUrl = updateQueryString(updatedUrl, \"bar\", \"\");\n\n  t.equal(\n    updatedUrl,\n    url + \"?foo=baz&bar=\",\n    \"update query string appends to existing query string\"\n  );\n\n  t.end();\n});\n"}],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2019-09-27T03:28:33.325Z","updated":"2019-09-27T03:28:33.325Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck11plkuw0001wk2xh81llern","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"quick-start\">Quick Start</h2>\n<h3 id=\"create-a-new-post\">Create a new post</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"run-server\">Run server</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"generate-static-files\">Generate static files</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"deploy-to-remote-sites\">Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"quick-start\">Quick Start</h2>\n<h3 id=\"create-a-new-post\">Create a new post</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"run-server\">Run server</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"generate-static-files\">Generate static files</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"deploy-to-remote-sites\">Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}